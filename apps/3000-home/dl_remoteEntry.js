/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/.federation/entry.cb4847f4895a7e35e3f1005036da398f.js":
/*!****************************************************************************!*\
  !*** ./node_modules/.federation/entry.cb4847f4895a7e35e3f1005036da398f.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_bytedance_dev_universe_packages_webpack_bundler_runtime_dist_index_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../packages/webpack-bundler-runtime/dist/index.esm.js */ \"../../packages/webpack-bundler-runtime/dist/index.esm.js\");\n/* harmony import */ var _Users_bytedance_dev_universe_packages_node_dist_src_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../packages/node/dist/src/runtimePlugin.js?runtimePlugin */ \"../../packages/node/dist/src/runtimePlugin.js?runtimePlugin\");\n/* harmony import */ var _Users_bytedance_dev_universe_packages_nextjs_mf_dist_src_plugins_container_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../packages/nextjs-mf/dist/src/plugins/container/runtimePlugin.js?runtimePlugin */ \"../../packages/nextjs-mf/dist/src/plugins/container/runtimePlugin.js?runtimePlugin\");\n\n\n\n\nif(!__webpack_require__.federation.runtime){\n\tvar prevFederation = __webpack_require__.federation;\n\t__webpack_require__.federation = {}\n\tfor(var key in _Users_bytedance_dev_universe_packages_webpack_bundler_runtime_dist_index_esm_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]){\n\t\t__webpack_require__.federation[key] = _Users_bytedance_dev_universe_packages_webpack_bundler_runtime_dist_index_esm_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"][key];\n\t}\n\tfor(var key in prevFederation){\n\t\t__webpack_require__.federation[key] = prevFederation[key];\n\t}\n}\nif(!__webpack_require__.federation.instance){\n\tconst pluginsToAdd = [\n\t\t_Users_bytedance_dev_universe_packages_node_dist_src_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ? (_Users_bytedance_dev_universe_packages_node_dist_src_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"default\"] || _Users_bytedance_dev_universe_packages_node_dist_src_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() : false,\n\t\t_Users_bytedance_dev_universe_packages_nextjs_mf_dist_src_plugins_container_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ? (_Users_bytedance_dev_universe_packages_nextjs_mf_dist_src_plugins_container_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"][\"default\"] || _Users_bytedance_dev_universe_packages_nextjs_mf_dist_src_plugins_container_runtimePlugin_js_runtimePlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"])() : false,\n\t].filter(Boolean);\n\t__webpack_require__.federation.initOptions.plugins = __webpack_require__.federation.initOptions.plugins ? \n\t__webpack_require__.federation.initOptions.plugins.concat(pluginsToAdd) : pluginsToAdd;\n\t__webpack_require__.federation.instance = __webpack_require__.federation.runtime.init(__webpack_require__.federation.initOptions);\n\tif(__webpack_require__.federation.attachShareScopeMap){\n\t\t__webpack_require__.federation.attachShareScopeMap(__webpack_require__)\n\t}\n\tif(__webpack_require__.federation.installInitialConsumes){\n\t\t__webpack_require__.federation.installInitialConsumes()\n\t}\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvLmZlZGVyYXRpb24vZW50cnkuY2I0ODQ3ZjQ4OTVhN2UzNWUzZjEwMDUwMzZkYTM5OGYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUEwRztBQUNDO0FBQ3VCOztBQUVsSSxJQUFJLG1CQUFtQjtBQUN2QixzQkFBc0IsbUJBQW1CO0FBQ3pDLENBQUMsbUJBQW1CO0FBQ3BCLGdCQUFnQix3SEFBVTtBQUMxQixFQUFFLG1CQUFtQixtQkFBbUIsd0hBQVU7QUFDbEQ7QUFDQTtBQUNBLEVBQUUsbUJBQW1CO0FBQ3JCO0FBQ0E7QUFDQSxJQUFJLG1CQUFtQjtBQUN2QjtBQUNBLEVBQUUsMkhBQVEsSUFBSSxzSUFBZ0IsSUFBSSwySEFBUTtBQUMxQyxFQUFFLGtKQUFRLElBQUksNkpBQWdCLElBQUksa0pBQVE7QUFDMUM7QUFDQSxDQUFDLG1CQUFtQixrQ0FBa0MsbUJBQW1CO0FBQ3pFLENBQUMsbUJBQW1CO0FBQ3BCLENBQUMsbUJBQW1CLHVCQUF1QixtQkFBbUIseUJBQXlCLG1CQUFtQjtBQUMxRyxJQUFJLG1CQUFtQjtBQUN2QixFQUFFLG1CQUFtQixnQ0FBZ0MsbUJBQW1CO0FBQ3hFO0FBQ0EsSUFBSSxtQkFBbUI7QUFDdkIsRUFBRSxtQkFBbUI7QUFDckI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4vbm9kZV9tb2R1bGVzLy5mZWRlcmF0aW9uL2VudHJ5LmNiNDg0N2Y0ODk1YTdlMzVlM2YxMDA1MDM2ZGEzOThmLmpzPzg3YjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZlZGVyYXRpb24gZnJvbSAnL1VzZXJzL2J5dGVkYW5jZS9kZXYvdW5pdmVyc2UvcGFja2FnZXMvd2VicGFjay1idW5kbGVyLXJ1bnRpbWUvZGlzdC9pbmRleC5lc20uanMnO1xuaW1wb3J0IHBsdWdpbl8wIGZyb20gJy9Vc2Vycy9ieXRlZGFuY2UvZGV2L3VuaXZlcnNlL3BhY2thZ2VzL25vZGUvZGlzdC9zcmMvcnVudGltZVBsdWdpbi5qcz9ydW50aW1lUGx1Z2luJztcbmltcG9ydCBwbHVnaW5fMSBmcm9tICcvVXNlcnMvYnl0ZWRhbmNlL2Rldi91bml2ZXJzZS9wYWNrYWdlcy9uZXh0anMtbWYvZGlzdC9zcmMvcGx1Z2lucy9jb250YWluZXIvcnVudGltZVBsdWdpbi5qcz9ydW50aW1lUGx1Z2luJztcblxuaWYoIV9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5ydW50aW1lKXtcblx0dmFyIHByZXZGZWRlcmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24gPSB7fVxuXHRmb3IodmFyIGtleSBpbiBmZWRlcmF0aW9uKXtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb25ba2V5XSA9IGZlZGVyYXRpb25ba2V5XTtcblx0fVxuXHRmb3IodmFyIGtleSBpbiBwcmV2RmVkZXJhdGlvbil7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uW2tleV0gPSBwcmV2RmVkZXJhdGlvbltrZXldO1xuXHR9XG59XG5pZighX193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uLmluc3RhbmNlKXtcblx0Y29uc3QgcGx1Z2luc1RvQWRkID0gW1xuXHRcdHBsdWdpbl8wID8gKHBsdWdpbl8wLmRlZmF1bHQgfHwgcGx1Z2luXzApKCkgOiBmYWxzZSxcblx0XHRwbHVnaW5fMSA/IChwbHVnaW5fMS5kZWZhdWx0IHx8IHBsdWdpbl8xKSgpIDogZmFsc2UsXG5cdF0uZmlsdGVyKEJvb2xlYW4pO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5pdE9wdGlvbnMucGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5pbml0T3B0aW9ucy5wbHVnaW5zID8gXG5cdF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5pbml0T3B0aW9ucy5wbHVnaW5zLmNvbmNhdChwbHVnaW5zVG9BZGQpIDogcGx1Z2luc1RvQWRkO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5zdGFuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24ucnVudGltZS5pbml0KF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5pbml0T3B0aW9ucyk7XG5cdGlmKF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5hdHRhY2hTaGFyZVNjb3BlTWFwKXtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uYXR0YWNoU2hhcmVTY29wZU1hcChfX3dlYnBhY2tfcmVxdWlyZV9fKVxuXHR9XG5cdGlmKF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5pbnN0YWxsSW5pdGlhbENvbnN1bWVzKXtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5zdGFsbEluaXRpYWxDb25zdW1lcygpXG5cdH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/.federation/entry.cb4847f4895a7e35e3f1005036da398f.js\n");

/***/ }),

/***/ "../../packages/runtime/dist/index.esm.js":
/*!************************************************!*\
  !*** ../../packages/runtime/dist/index.esm.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FederationHost: () => (/* binding */ FederationHost),\n/* harmony export */   getInstance: () => (/* binding */ getInstance),\n/* harmony export */   getRemoteEntry: () => (/* binding */ getRemoteEntry),\n/* harmony export */   getRemoteInfo: () => (/* binding */ getRemoteInfo),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   loadRemote: () => (/* binding */ loadRemote),\n/* harmony export */   loadScript: () => (/* reexport safe */ _module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.loadScript),\n/* harmony export */   loadScriptNode: () => (/* reexport safe */ _module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.loadScriptNode),\n/* harmony export */   loadShare: () => (/* binding */ loadShare),\n/* harmony export */   loadShareSync: () => (/* binding */ loadShareSync),\n/* harmony export */   preloadRemote: () => (/* binding */ preloadRemote),\n/* harmony export */   registerGlobalPlugins: () => (/* reexport safe */ _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.H),\n/* harmony export */   registerPlugins: () => (/* binding */ registerPlugins),\n/* harmony export */   registerRemotes: () => (/* binding */ registerRemotes)\n/* harmony export */ });\n/* harmony import */ var _polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills.esm.js */ \"../../packages/runtime/dist/polyfills.esm.js\");\n/* harmony import */ var _module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @module-federation/sdk */ \"../../packages/sdk/dist/index.esm.js\");\n/* harmony import */ var _share_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./share.esm.js */ \"../../packages/runtime/dist/share.esm.js\");\n\n\n\n\n\n// Function to match a remote with its name and expose\n// id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n// id: alias(app1) + expose(button) = app1/button\n// id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\nfunction matchRemoteWithNameAndExpose(remotes, id) {\n    for (const remote of remotes){\n        // match pkgName\n        const isNameMatched = id.startsWith(remote.name);\n        let expose = id.replace(remote.name, \"\");\n        if (isNameMatched) {\n            if (expose.startsWith(\"/\")) {\n                const pkgNameOrAlias = remote.name;\n                expose = `.${expose}`;\n                return {\n                    pkgNameOrAlias,\n                    expose,\n                    remote\n                };\n            } else if (expose === \"\") {\n                return {\n                    pkgNameOrAlias: remote.name,\n                    expose: \".\",\n                    remote\n                };\n            }\n        }\n        // match alias\n        const isAliasMatched = remote.alias && id.startsWith(remote.alias);\n        let exposeWithAlias = remote.alias && id.replace(remote.alias, \"\");\n        if (remote.alias && isAliasMatched) {\n            if (exposeWithAlias && exposeWithAlias.startsWith(\"/\")) {\n                const pkgNameOrAlias = remote.alias;\n                exposeWithAlias = `.${exposeWithAlias}`;\n                return {\n                    pkgNameOrAlias,\n                    expose: exposeWithAlias,\n                    remote\n                };\n            } else if (exposeWithAlias === \"\") {\n                return {\n                    pkgNameOrAlias: remote.alias,\n                    expose: \".\",\n                    remote\n                };\n            }\n        }\n    }\n    return;\n}\n// Function to match a remote with its name or alias\nfunction matchRemote(remotes, nameOrAlias) {\n    for (const remote of remotes){\n        const isNameMatched = nameOrAlias === remote.name;\n        if (isNameMatched) {\n            return remote;\n        }\n        const isAliasMatched = remote.alias && nameOrAlias === remote.alias;\n        if (isAliasMatched) {\n            return remote;\n        }\n    }\n    return;\n}\nfunction registerPlugins$1(plugins, hookInstances) {\n    const globalPlugins = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.g)();\n    // Incorporate global plugins\n    if (globalPlugins.length > 0) {\n        globalPlugins.forEach((plugin)=>{\n            if (plugins == null ? void 0 : plugins.find((item)=>item.name !== plugin.name)) {\n                plugins.push(plugin);\n            }\n        });\n    }\n    if (plugins && plugins.length > 0) {\n        plugins.forEach((plugin)=>{\n            hookInstances.forEach((hookInstance)=>{\n                hookInstance.applyPlugin(plugin);\n            });\n        });\n    }\n    return plugins;\n}\nasync function loadEsmEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                // eslint-disable-next-line no-eval\n                new Function(\"callbacks\", `import(\"${entry}\").then(callbacks[0]).catch(callbacks[1])`)([\n                    resolve,\n                    reject\n                ]);\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadSystemJsEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                // eslint-disable-next-line no-eval\n                new Function(\"callbacks\", `System.import(\"${entry}\").then(callbacks[0]).catch(callbacks[1])`)([\n                    resolve,\n                    reject\n                ]);\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadEntryScript({ name, globalName, entry, createScriptHook }) {\n    const { entryExports: remoteEntryExports } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.c)(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    return (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.loadScript)(entry, {\n        attrs: {},\n        createScriptHook: (url, attrs)=>{\n            const res = createScriptHook.emit({\n                url,\n                attrs\n            });\n            if (!res) return;\n            if (res instanceof HTMLScriptElement) {\n                return res;\n            }\n            if (\"script\" in res || \"timeout\" in res) {\n                return res;\n            }\n            return;\n        }\n    }).then(()=>{\n        const { remoteEntryKey, entryExports } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.c)(name, globalName);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(entryExports, `\n      Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n      Possible reasons could be:\\n\n      1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n      2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n    `);\n        return entryExports;\n    }).catch((e)=>{\n        throw e;\n    });\n}\nasync function loadEntryDom({ remoteInfo, remoteEntryExports, createScriptHook }) {\n    const { entry, entryGlobalName: globalName, name, type } = remoteInfo;\n    switch(type){\n        case \"esm\":\n        case \"module\":\n            return loadEsmEntry({\n                entry,\n                remoteEntryExports\n            });\n        case \"system\":\n            return loadSystemJsEntry({\n                entry,\n                remoteEntryExports\n            });\n        default:\n            return loadEntryScript({\n                entry,\n                globalName,\n                name,\n                createScriptHook\n            });\n    }\n}\nasync function loadEntryNode({ remoteInfo, createScriptHook }) {\n    const { entry, entryGlobalName: globalName, name } = remoteInfo;\n    const { entryExports: remoteEntryExports } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.c)(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    return (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.loadScriptNode)(entry, {\n        attrs: {\n            name,\n            globalName\n        },\n        createScriptHook: (url, attrs)=>{\n            const res = createScriptHook.emit({\n                url,\n                attrs\n            });\n            if (!res) return;\n            if (\"url\" in res) {\n                return res;\n            }\n            return;\n        }\n    }).then(()=>{\n        const { remoteEntryKey, entryExports } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.c)(name, globalName);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(entryExports, `\n      Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n      Possible reasons could be:\\n\n      1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n      2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n    `);\n        return entryExports;\n    }).catch((e)=>{\n        throw e;\n    });\n}\nfunction getRemoteEntryUniqueKey(remoteInfo) {\n    const { entry, name } = remoteInfo;\n    return (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.composeKeyWithSeparator)(name, entry);\n}\nasync function getRemoteEntry({ origin, remoteEntryExports, remoteInfo }) {\n    const uniqueKey = getRemoteEntryUniqueKey(remoteInfo);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    if (!_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[uniqueKey]) {\n        const loadEntryHook = origin.remoteHandler.hooks.lifecycle.loadEntry;\n        if (loadEntryHook.listeners.size) {\n            _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[uniqueKey] = loadEntryHook.emit({\n                createScriptHook: origin.loaderHook.lifecycle.createScript,\n                remoteInfo,\n                remoteEntryExports\n            }).then((res)=>res || undefined);\n        } else {\n            const createScriptHook = origin.loaderHook.lifecycle.createScript;\n            if (!(0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)()) {\n                _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[uniqueKey] = loadEntryNode({\n                    remoteInfo,\n                    createScriptHook\n                });\n            } else {\n                _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[uniqueKey] = loadEntryDom({\n                    remoteInfo,\n                    remoteEntryExports,\n                    createScriptHook\n                });\n            }\n        }\n    }\n    return _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[uniqueKey];\n}\nfunction getRemoteInfo(remote) {\n    return (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, remote, {\n        entry: \"entry\" in remote ? remote.entry : \"\",\n        type: remote.type || _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.D,\n        entryGlobalName: remote.entryGlobalName || remote.name,\n        shareScope: remote.shareScope || _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.b\n    });\n}\nlet Module = class Module {\n    async getEntry() {\n        if (this.remoteEntryExports) {\n            return this.remoteEntryExports;\n        }\n        // Get remoteEntry.js\n        const remoteEntryExports = await getRemoteEntry({\n            origin: this.host,\n            remoteInfo: this.remoteInfo,\n            remoteEntryExports: this.remoteEntryExports\n        });\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(remoteEntryExports, `remoteEntryExports is undefined \\n ${(0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.safeToString)(this.remoteInfo)}`);\n        this.remoteEntryExports = remoteEntryExports;\n        return this.remoteEntryExports;\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    async get(id, expose, options) {\n        const { loadFactory = true } = options || {\n            loadFactory: true\n        };\n        // Get remoteEntry.js\n        const remoteEntryExports = await this.getEntry();\n        if (!this.inited) {\n            const localShareScopeMap = this.host.shareScopeMap;\n            const remoteShareScope = this.remoteInfo.shareScope || \"default\";\n            if (!localShareScopeMap[remoteShareScope]) {\n                localShareScopeMap[remoteShareScope] = {};\n            }\n            const shareScope = localShareScopeMap[remoteShareScope];\n            const initScope = [];\n            const remoteEntryInitOptions = {\n                version: this.remoteInfo.version || \"\"\n            };\n            // Help to find host instance\n            Object.defineProperty(remoteEntryInitOptions, \"shareScopeMap\", {\n                value: localShareScopeMap,\n                // remoteEntryInitOptions will be traversed and assigned during container init, ,so this attribute is not allowed to be traversed\n                enumerable: false\n            });\n            const initContainerOptions = await this.host.hooks.lifecycle.beforeInitContainer.emit({\n                shareScope,\n                // @ts-ignore shareScopeMap will be set by Object.defineProperty\n                remoteEntryInitOptions,\n                initScope,\n                remoteInfo: this.remoteInfo,\n                origin: this.host\n            });\n            if (typeof (remoteEntryExports == null ? void 0 : remoteEntryExports.init) === \"undefined\") {\n                console.error('The remote entry interface does not contain \"init\"', \"\\n\", \"Ensure the name of this remote is not reserved or in use. Check if anything already exists on window[nameOfRemote]\", \"\\n\", \"Ensure that window[nameOfRemote] is returning a {get,init} object.\");\n            }\n            await remoteEntryExports.init(initContainerOptions.shareScope, initContainerOptions.initScope, initContainerOptions.remoteEntryInitOptions);\n            await this.host.hooks.lifecycle.initContainer.emit((0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, initContainerOptions, {\n                remoteEntryExports\n            }));\n        }\n        this.lib = remoteEntryExports;\n        this.inited = true;\n        // get exposeGetter\n        const moduleFactory = await remoteEntryExports.get(expose);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(moduleFactory, `${(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.e)(this.remoteInfo)} remote don't export ${expose}.`);\n        const wrapModuleFactory = this.wraperFactory(moduleFactory, id);\n        if (!loadFactory) {\n            return wrapModuleFactory;\n        }\n        const exposeContent = await wrapModuleFactory();\n        return exposeContent;\n    }\n    wraperFactory(moduleFactory, id) {\n        function defineModuleId(res, id) {\n            if (res && typeof res === \"object\" && Object.isExtensible(res) && !Object.getOwnPropertyDescriptor(res, Symbol.for(\"mf_module_id\"))) {\n                Object.defineProperty(res, Symbol.for(\"mf_module_id\"), {\n                    value: id,\n                    enumerable: false\n                });\n            }\n        }\n        if (moduleFactory instanceof Promise) {\n            return async ()=>{\n                const res = await moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        } else {\n            return ()=>{\n                const res = moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        }\n    }\n    constructor({ remoteInfo, host }){\n        this.inited = false;\n        this.lib = undefined;\n        this.remoteInfo = remoteInfo;\n        this.host = host;\n    }\n};\nclass SyncHook {\n    on(fn) {\n        if (typeof fn === \"function\") {\n            this.listeners.add(fn);\n        }\n    }\n    once(fn) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.on(function wrapper(...args) {\n            self.remove(wrapper);\n            // eslint-disable-next-line prefer-spread\n            return fn.apply(null, args);\n        });\n    }\n    emit(...data) {\n        let result;\n        if (this.listeners.size > 0) {\n            // eslint-disable-next-line prefer-spread\n            this.listeners.forEach((fn)=>{\n                result = fn(...data);\n            });\n        }\n        return result;\n    }\n    remove(fn) {\n        this.listeners.delete(fn);\n    }\n    removeAll() {\n        this.listeners.clear();\n    }\n    constructor(type){\n        this.type = \"\";\n        this.listeners = new Set();\n        if (type) {\n            this.type = type;\n        }\n    }\n}\nclass AsyncHook extends SyncHook {\n    emit(...data) {\n        let result;\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const call = (prev)=>{\n                if (prev === false) {\n                    return false; // Abort process\n                } else if (i < ls.length) {\n                    return Promise.resolve(ls[i++].apply(null, data)).then(call);\n                } else {\n                    return prev;\n                }\n            };\n            result = call();\n        }\n        return Promise.resolve(result);\n    }\n}\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction checkReturnData(originalData, returnedData) {\n    if (!(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.i)(returnedData)) {\n        return false;\n    }\n    if (originalData !== returnedData) {\n        // eslint-disable-next-line no-restricted-syntax\n        for(const key in originalData){\n            if (!(key in returnedData)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nclass SyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.i)(data)) {\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f)(`The data for the \"${this.type}\" hook should be an object.`);\n        }\n        for (const fn of this.listeners){\n            try {\n                const tempData = fn(data);\n                if (checkReturnData(data, tempData)) {\n                    data = tempData;\n                } else {\n                    this.onerror(`A plugin returned an unacceptable value for the \"${this.type}\" type.`);\n                    break;\n                }\n            } catch (e) {\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.w)(e);\n                this.onerror(e);\n            }\n        }\n        return data;\n    }\n    constructor(type){\n        super();\n        this.onerror = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f;\n        this.type = type;\n    }\n}\nclass AsyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.i)(data)) {\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f)(`The response data for the \"${this.type}\" hook must be an object.`);\n        }\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const processError = (e)=>{\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.w)(e);\n                this.onerror(e);\n                return data;\n            };\n            const call = (prevData)=>{\n                if (checkReturnData(data, prevData)) {\n                    data = prevData;\n                    if (i < ls.length) {\n                        try {\n                            return Promise.resolve(ls[i++](data)).then(call, processError);\n                        } catch (e) {\n                            return processError(e);\n                        }\n                    }\n                } else {\n                    this.onerror(`A plugin returned an incorrect value for the \"${this.type}\" type.`);\n                }\n                return data;\n            };\n            return Promise.resolve(call(data));\n        }\n        return Promise.resolve(data);\n    }\n    constructor(type){\n        super();\n        this.onerror = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f;\n        this.type = type;\n    }\n}\nclass PluginSystem {\n    applyPlugin(plugin) {\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)((0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.h)(plugin), \"Plugin configuration is invalid.\");\n        // The plugin's name is mandatory and must be unique\n        const pluginName = plugin.name;\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(pluginName, \"A name must be provided by the plugin.\");\n        if (!this.registerPlugins[pluginName]) {\n            this.registerPlugins[pluginName] = plugin;\n            Object.keys(this.lifecycle).forEach((key)=>{\n                const pluginLife = plugin[key];\n                if (pluginLife) {\n                    this.lifecycle[key].on(pluginLife);\n                }\n            });\n        }\n    }\n    removePlugin(pluginName) {\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(pluginName, \"A name is required.\");\n        const plugin = this.registerPlugins[pluginName];\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(plugin, `The plugin \"${pluginName}\" is not registered.`);\n        Object.keys(plugin).forEach((key)=>{\n            if (key !== \"name\") {\n                this.lifecycle[key].remove(plugin[key]);\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    inherit({ lifecycle, registerPlugins }) {\n        Object.keys(lifecycle).forEach((hookName)=>{\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(!this.lifecycle[hookName], `The hook \"${hookName}\" has a conflict and cannot be inherited.`);\n            this.lifecycle[hookName] = lifecycle[hookName];\n        });\n        Object.keys(registerPlugins).forEach((pluginName)=>{\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(!this.registerPlugins[pluginName], `The plugin \"${pluginName}\" has a conflict and cannot be inherited.`);\n            this.applyPlugin(registerPlugins[pluginName]);\n        });\n    }\n    constructor(lifecycle){\n        this.registerPlugins = {};\n        this.lifecycle = lifecycle;\n        this.lifecycleKeys = Object.keys(lifecycle);\n    }\n}\nfunction defaultPreloadArgs(preloadConfig) {\n    return (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n        resourceCategory: \"sync\",\n        share: true,\n        depsRemote: true,\n        prefetchInterface: false\n    }, preloadConfig);\n}\nfunction formatPreloadArgs(remotes, preloadArgs) {\n    return preloadArgs.map((args)=>{\n        const remoteInfo = matchRemote(remotes, args.nameOrAlias);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(remoteInfo, `Unable to preload ${args.nameOrAlias} as it is not included in ${!remoteInfo && (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.safeToString)({\n            remoteInfo,\n            remotes\n        })}`);\n        return {\n            remote: remoteInfo,\n            preloadConfig: defaultPreloadArgs(args)\n        };\n    });\n}\nfunction normalizePreloadExposes(exposes) {\n    if (!exposes) {\n        return [];\n    }\n    return exposes.map((expose)=>{\n        if (expose === \".\") {\n            return expose;\n        }\n        if (expose.startsWith(\"./\")) {\n            return expose.replace(\"./\", \"\");\n        }\n        return expose;\n    });\n}\nfunction preloadAssets(remoteInfo, host, assets, useLinkPreload = true) {\n    const { cssAssets, jsAssetsWithoutEntry, entryAssets } = assets;\n    if (host.options.inBrowser) {\n        entryAssets.forEach((asset)=>{\n            const { moduleInfo } = asset;\n            const module = host.moduleCache.get(remoteInfo.name);\n            if (module) {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: module.remoteEntryExports\n                });\n            } else {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: undefined\n                });\n            }\n        });\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: \"preload\",\n                as: \"style\",\n                crossorigin: \"anonymous\"\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.createLink)({\n                    url: cssUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        } else {\n            const defaultAttrs = {\n                rel: \"stylesheet\",\n                type: \"text/css\"\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.createLink)({\n                    url: cssUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteLink: false\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        }\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: \"preload\",\n                as: \"script\",\n                crossorigin: \"anonymous\"\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { link: linkEl, needAttach } = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.createLink)({\n                    url: jsUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(linkEl);\n            });\n        } else {\n            const defaultAttrs = {\n                fetchpriority: \"high\",\n                type: (remoteInfo == null ? void 0 : remoteInfo.type) === \"module\" ? \"module\" : \"text/javascript\"\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { script: scriptEl, needAttach } = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.createScript)({\n                    url: jsUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createScriptHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createScript.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLScriptElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteScript: true\n                });\n                needAttach && document.head.appendChild(scriptEl);\n            });\n        }\n    }\n}\nfunction assignRemoteInfo(remoteInfo, remoteSnapshot) {\n    const remoteEntryInfo = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.l)(remoteSnapshot);\n    if (!remoteEntryInfo.url) {\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f)(`The attribute remoteEntry of ${remoteInfo.name} must not be undefined.`);\n    }\n    let entryUrl = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.getResourceUrl)(remoteSnapshot, remoteEntryInfo.url);\n    if (!(0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)() && !entryUrl.startsWith(\"http\")) {\n        entryUrl = `https:${entryUrl}`;\n    }\n    remoteInfo.type = remoteEntryInfo.type;\n    remoteInfo.entryGlobalName = remoteEntryInfo.globalName;\n    remoteInfo.entry = entryUrl;\n    remoteInfo.version = remoteSnapshot.version;\n    remoteInfo.buildVersion = remoteSnapshot.buildVersion;\n}\nfunction snapshotPlugin() {\n    return {\n        name: \"snapshot-plugin\",\n        async afterResolve (args) {\n            const { remote, pkgNameOrAlias, expose, origin, remoteInfo } = args;\n            if (!(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.j)(remote) || !(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.k)(remote)) {\n                const { remoteSnapshot, globalSnapshot } = await origin.snapshotHandler.loadRemoteSnapshotInfo(remote);\n                assignRemoteInfo(remoteInfo, remoteSnapshot);\n                // preloading assets\n                const preloadOptions = {\n                    remote,\n                    preloadConfig: {\n                        nameOrAlias: pkgNameOrAlias,\n                        exposes: [\n                            expose\n                        ],\n                        resourceCategory: \"sync\",\n                        share: false,\n                        depsRemote: false\n                    }\n                };\n                const assets = await origin.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({\n                    origin,\n                    preloadOptions,\n                    remoteInfo,\n                    remote,\n                    remoteSnapshot,\n                    globalSnapshot\n                });\n                if (assets) {\n                    preloadAssets(remoteInfo, origin, assets, false);\n                }\n                return (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, args, {\n                    remoteSnapshot\n                });\n            }\n            return args;\n        }\n    };\n}\n// name\n// name:version\nfunction splitId(id) {\n    const splitInfo = id.split(\":\");\n    if (splitInfo.length === 1) {\n        return {\n            name: splitInfo[0],\n            version: undefined\n        };\n    } else if (splitInfo.length === 2) {\n        return {\n            name: splitInfo[0],\n            version: splitInfo[1]\n        };\n    } else {\n        return {\n            name: splitInfo[1],\n            version: splitInfo[2]\n        };\n    }\n}\n// Traverse all nodes in moduleInfo and traverse the entire snapshot\nfunction traverseModuleInfo(globalSnapshot, remoteInfo, traverse, isRoot, memo = {}, remoteSnapshot) {\n    const id = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.e)(remoteInfo);\n    const { value: snapshotValue } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.m)(globalSnapshot, id);\n    const effectiveRemoteSnapshot = remoteSnapshot || snapshotValue;\n    if (effectiveRemoteSnapshot && !(0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isManifestProvider)(effectiveRemoteSnapshot)) {\n        traverse(effectiveRemoteSnapshot, remoteInfo, isRoot);\n        if (effectiveRemoteSnapshot.remotesInfo) {\n            const remoteKeys = Object.keys(effectiveRemoteSnapshot.remotesInfo);\n            for (const key of remoteKeys){\n                if (memo[key]) {\n                    continue;\n                }\n                memo[key] = true;\n                const subRemoteInfo = splitId(key);\n                const remoteValue = effectiveRemoteSnapshot.remotesInfo[key];\n                traverseModuleInfo(globalSnapshot, {\n                    name: subRemoteInfo.name,\n                    version: remoteValue.matchedVersion\n                }, traverse, false, memo, undefined);\n            }\n        }\n    }\n}\n// eslint-disable-next-line max-lines-per-function\nfunction generatePreloadAssets(origin, preloadOptions, remote, globalSnapshot, remoteSnapshot) {\n    const cssAssets = [];\n    const jsAssets = [];\n    const entryAssets = [];\n    const loadedSharedJsAssets = new Set();\n    const loadedSharedCssAssets = new Set();\n    const { options } = origin;\n    const { preloadConfig: rootPreloadConfig } = preloadOptions;\n    const { depsRemote } = rootPreloadConfig;\n    const memo = {};\n    traverseModuleInfo(globalSnapshot, remote, (moduleInfoSnapshot, remoteInfo, isRoot)=>{\n        let preloadConfig;\n        if (isRoot) {\n            preloadConfig = rootPreloadConfig;\n        } else {\n            if (Array.isArray(depsRemote)) {\n                // eslint-disable-next-line array-callback-return\n                const findPreloadConfig = depsRemote.find((remoteConfig)=>{\n                    if (remoteConfig.nameOrAlias === remoteInfo.name || remoteConfig.nameOrAlias === remoteInfo.alias) {\n                        return true;\n                    }\n                    return false;\n                });\n                if (!findPreloadConfig) {\n                    return;\n                }\n                preloadConfig = defaultPreloadArgs(findPreloadConfig);\n            } else if (depsRemote === true) {\n                preloadConfig = rootPreloadConfig;\n            } else {\n                return;\n            }\n        }\n        const remoteEntryUrl = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.getResourceUrl)(moduleInfoSnapshot, (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.l)(moduleInfoSnapshot).url);\n        if (remoteEntryUrl) {\n            entryAssets.push({\n                name: remoteInfo.name,\n                moduleInfo: {\n                    name: remoteInfo.name,\n                    entry: remoteEntryUrl,\n                    type: \"remoteEntryType\" in moduleInfoSnapshot ? moduleInfoSnapshot.remoteEntryType : \"global\",\n                    entryGlobalName: \"globalName\" in moduleInfoSnapshot ? moduleInfoSnapshot.globalName : remoteInfo.name,\n                    shareScope: \"\",\n                    version: \"version\" in moduleInfoSnapshot ? moduleInfoSnapshot.version : undefined\n                },\n                url: remoteEntryUrl\n            });\n        }\n        let moduleAssetsInfo = \"modules\" in moduleInfoSnapshot ? moduleInfoSnapshot.modules : [];\n        const normalizedPreloadExposes = normalizePreloadExposes(preloadConfig.exposes);\n        if (normalizedPreloadExposes.length && \"modules\" in moduleInfoSnapshot) {\n            var _moduleInfoSnapshot_modules;\n            moduleAssetsInfo = moduleInfoSnapshot == null ? void 0 : (_moduleInfoSnapshot_modules = moduleInfoSnapshot.modules) == null ? void 0 : _moduleInfoSnapshot_modules.reduce((assets, moduleAssetInfo)=>{\n                if ((normalizedPreloadExposes == null ? void 0 : normalizedPreloadExposes.indexOf(moduleAssetInfo.moduleName)) !== -1) {\n                    assets.push(moduleAssetInfo);\n                }\n                return assets;\n            }, []);\n        }\n        function handleAssets(assets) {\n            const assetsRes = assets.map((asset)=>(0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.getResourceUrl)(moduleInfoSnapshot, asset));\n            if (preloadConfig.filter) {\n                return assetsRes.filter(preloadConfig.filter);\n            }\n            return assetsRes;\n        }\n        if (moduleAssetsInfo) {\n            const assetsLength = moduleAssetsInfo.length;\n            for(let index = 0; index < assetsLength; index++){\n                const assetsInfo = moduleAssetsInfo[index];\n                const exposeFullPath = `${remoteInfo.name}/${assetsInfo.moduleName}`;\n                origin.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({\n                    id: assetsInfo.moduleName === \".\" ? remoteInfo.name : exposeFullPath,\n                    name: remoteInfo.name,\n                    remoteSnapshot: moduleInfoSnapshot,\n                    preloadConfig,\n                    remote: remoteInfo,\n                    origin\n                });\n                const preloaded = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.n)(exposeFullPath);\n                if (preloaded) {\n                    continue;\n                }\n                if (preloadConfig.resourceCategory === \"all\") {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.async));\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.async));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                // eslint-disable-next-line no-constant-condition\n                } else if (preloadConfig.resourceCategory = \"sync\") {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                }\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.s)(exposeFullPath);\n            }\n        }\n    }, true, memo, remoteSnapshot);\n    if (remoteSnapshot.shared) {\n        const collectSharedAssets = (shareInfo, snapshotShared)=>{\n            const registeredShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(origin.shareScopeMap, snapshotShared.sharedName, shareInfo, origin.sharedHandler.hooks.lifecycle.resolveShare);\n            // If the global share does not exist, or the lib function does not exist, it means that the shared has not been loaded yet and can be preloaded.\n            if (registeredShared && typeof registeredShared.lib === \"function\") {\n                snapshotShared.assets.js.sync.forEach((asset)=>{\n                    loadedSharedJsAssets.add(asset);\n                });\n                snapshotShared.assets.css.sync.forEach((asset)=>{\n                    loadedSharedCssAssets.add(asset);\n                });\n            }\n        };\n        remoteSnapshot.shared.forEach((shared)=>{\n            var _options_shared;\n            const shareInfos = (_options_shared = options.shared) == null ? void 0 : _options_shared[shared.sharedName];\n            if (!shareInfos) {\n                return;\n            }\n            // if no version, preload all shared\n            const sharedOptions = shared.version ? shareInfos.find((s)=>s.version === shared.version) : shareInfos;\n            if (!sharedOptions) {\n                return;\n            }\n            const arrayShareInfo = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.p)(sharedOptions);\n            arrayShareInfo.forEach((s)=>{\n                collectSharedAssets(s, shared);\n            });\n        });\n    }\n    const needPreloadJsAssets = jsAssets.filter((asset)=>!loadedSharedJsAssets.has(asset));\n    const needPreloadCssAssets = cssAssets.filter((asset)=>!loadedSharedCssAssets.has(asset));\n    return {\n        cssAssets: needPreloadCssAssets,\n        jsAssetsWithoutEntry: needPreloadJsAssets,\n        entryAssets\n    };\n}\nconst generatePreloadAssetsPlugin = function() {\n    return {\n        name: \"generate-preload-assets-plugin\",\n        async generatePreloadAssets (args) {\n            const { origin, preloadOptions, remoteInfo, remote, globalSnapshot, remoteSnapshot } = args;\n            if ((0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.j)(remote) && (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.k)(remote)) {\n                return {\n                    cssAssets: [],\n                    jsAssetsWithoutEntry: [],\n                    entryAssets: [\n                        {\n                            name: remote.name,\n                            url: remote.entry,\n                            moduleInfo: {\n                                name: remoteInfo.name,\n                                entry: remote.entry,\n                                type: \"global\",\n                                entryGlobalName: \"\",\n                                shareScope: \"\"\n                            }\n                        }\n                    ]\n                };\n            }\n            assignRemoteInfo(remoteInfo, remoteSnapshot);\n            const assets = generatePreloadAssets(origin, preloadOptions, remoteInfo, globalSnapshot, remoteSnapshot);\n            return assets;\n        }\n    };\n};\nfunction getGlobalRemoteInfo(moduleInfo, origin) {\n    const hostGlobalSnapshot = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.q)({\n        name: origin.options.name,\n        version: origin.options.version\n    });\n    // get remote detail info from global\n    const globalRemoteInfo = hostGlobalSnapshot && \"remotesInfo\" in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.m)(hostGlobalSnapshot.remotesInfo, moduleInfo.name).value;\n    if (globalRemoteInfo && globalRemoteInfo.matchedVersion) {\n        return {\n            hostGlobalSnapshot,\n            globalSnapshot: (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.u)(),\n            remoteSnapshot: (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.q)({\n                name: moduleInfo.name,\n                version: globalRemoteInfo.matchedVersion\n            })\n        };\n    }\n    return {\n        hostGlobalSnapshot: undefined,\n        globalSnapshot: (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.u)(),\n        remoteSnapshot: (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.q)({\n            name: moduleInfo.name,\n            version: \"version\" in moduleInfo ? moduleInfo.version : undefined\n        })\n    };\n}\nclass SnapshotHandler {\n    async loadSnapshot(moduleInfo) {\n        const { options } = this.HostInstance;\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        return {\n            remoteSnapshot: globalRemoteSnapshot,\n            globalSnapshot: globalSnapshotRes\n        };\n    }\n    // eslint-disable-next-line max-lines-per-function\n    async loadRemoteSnapshotInfo(moduleInfo) {\n        const { options } = this.HostInstance;\n        await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({\n            options,\n            moduleInfo\n        });\n        let hostSnapshot = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.q)({\n            name: this.HostInstance.options.name,\n            version: this.HostInstance.options.version\n        });\n        if (!hostSnapshot) {\n            hostSnapshot = {\n                version: this.HostInstance.options.version || \"\",\n                remoteEntry: \"\",\n                remotesInfo: {}\n            };\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.r)({\n                [this.HostInstance.options.name]: hostSnapshot\n            });\n        }\n        // In dynamic loadRemote scenarios, incomplete remotesInfo delivery may occur. In such cases, the remotesInfo in the host needs to be completed in the snapshot at runtime.\n        // This ensures the snapshot's integrity and helps the chrome plugin correctly identify all producer modules, ensuring that proxyable producer modules will not be missing.\n        if (hostSnapshot && \"remotesInfo\" in hostSnapshot && !(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.m)(hostSnapshot.remotesInfo, moduleInfo.name).value) {\n            if (\"version\" in moduleInfo || \"entry\" in moduleInfo) {\n                hostSnapshot.remotesInfo = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, hostSnapshot == null ? void 0 : hostSnapshot.remotesInfo, {\n                    [moduleInfo.name]: {\n                        matchedVersion: \"version\" in moduleInfo ? moduleInfo.version : moduleInfo.entry\n                    }\n                });\n            }\n        }\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        // global snapshot includes manifest or module info includes manifest\n        if (globalRemoteSnapshot) {\n            if ((0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isManifestProvider)(globalRemoteSnapshot)) {\n                const remoteEntry = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)() ? globalRemoteSnapshot.remoteEntry : globalRemoteSnapshot.ssrRemoteEntry || globalRemoteSnapshot.remoteEntry || \"\";\n                const moduleSnapshot = await this.getManifestJson(remoteEntry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.t)((0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, moduleInfo, {\n                    // The global remote may be overridden\n                    // Therefore, set the snapshot key to the global address of the actual request\n                    entry: remoteEntry\n                }), moduleSnapshot);\n                return {\n                    remoteSnapshot: moduleSnapshot,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: globalRemoteSnapshot,\n                    from: \"global\"\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            }\n        } else {\n            if ((0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.j)(moduleInfo)) {\n                // get from manifest.json and merge remote info from remote server\n                const moduleSnapshot = await this.getManifestJson(moduleInfo.entry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.t)(moduleInfo, moduleSnapshot);\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: moduleSnapshot,\n                    from: \"global\"\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f)(`\n          Cannot get remoteSnapshot with the name: '${moduleInfo.name}', version: '${moduleInfo.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:\\n\n          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.\\n\n          2. The remote '${moduleInfo.name}' version '${moduleInfo.version}' is not released.\\n\n          The transformed module info: ${JSON.stringify(globalSnapshotRes)}\n        `);\n            }\n        }\n    }\n    getGlobalRemoteInfo(moduleInfo) {\n        return getGlobalRemoteInfo(moduleInfo, this.HostInstance);\n    }\n    async getManifestJson(manifestUrl, moduleInfo, extraOptions) {\n        const getManifest = async ()=>{\n            let manifestJson = this.manifestCache.get(manifestUrl);\n            if (manifestJson) {\n                return manifestJson;\n            }\n            try {\n                let res = await this.loaderHook.lifecycle.fetch.emit(manifestUrl, {});\n                if (!res || !(res instanceof Response)) {\n                    res = await fetch(manifestUrl, {});\n                }\n                manifestJson = await res.json();\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(manifestJson.metaData && manifestJson.exposes && manifestJson.shared, `${manifestUrl} is not a federation manifest`);\n                this.manifestCache.set(manifestUrl, manifestJson);\n                return manifestJson;\n            } catch (err) {\n                delete this.manifestLoading[manifestUrl];\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.f)(`Failed to get manifestJson for ${moduleInfo.name}. The manifest URL is ${manifestUrl}. Please ensure that the manifestUrl is accessible.\n          \\n Error message:\n          \\n ${err}`);\n            }\n        };\n        const asyncLoadProcess = async ()=>{\n            const manifestJson = await getManifest();\n            const remoteSnapshot = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.generateSnapshotFromManifest)(manifestJson, {\n                version: manifestUrl\n            });\n            const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                options: this.HostInstance.options,\n                moduleInfo,\n                manifestJson,\n                remoteSnapshot,\n                manifestUrl,\n                from: \"manifest\"\n            });\n            return remoteSnapshotRes;\n        };\n        if (!this.manifestLoading[manifestUrl]) {\n            this.manifestLoading[manifestUrl] = asyncLoadProcess().then((res)=>res);\n        }\n        return this.manifestLoading[manifestUrl];\n    }\n    constructor(HostInstance){\n        this.loadingHostSnapshot = null;\n        this.manifestCache = new Map();\n        this.hooks = new PluginSystem({\n            beforeLoadRemoteSnapshot: new AsyncHook(\"beforeLoadRemoteSnapshot\"),\n            loadSnapshot: new AsyncWaterfallHook(\"loadGlobalSnapshot\"),\n            loadRemoteSnapshot: new AsyncWaterfallHook(\"loadRemoteSnapshot\")\n        });\n        this.manifestLoading = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.G.__FEDERATION__.__MANIFEST_LOADING__;\n        this.HostInstance = HostInstance;\n        this.loaderHook = HostInstance.loaderHook;\n    }\n}\nclass SharedHandler {\n    // register shared in shareScopeMap\n    registerShared(globalOptions, userOptions) {\n        const { shareInfos, shared } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.v)(globalOptions, userOptions);\n        const sharedKeys = Object.keys(shareInfos);\n        sharedKeys.forEach((sharedKey)=>{\n            const sharedVals = shareInfos[sharedKey];\n            sharedVals.forEach((sharedVal)=>{\n                const registeredShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(this.shareScopeMap, sharedKey, sharedVal, this.hooks.lifecycle.resolveShare);\n                if (!registeredShared && sharedVal && sharedVal.lib) {\n                    this.setShared({\n                        pkgName: sharedKey,\n                        lib: sharedVal.lib,\n                        get: sharedVal.get,\n                        loaded: true,\n                        shared: sharedVal,\n                        from: userOptions.name\n                    });\n                }\n            });\n        });\n        return {\n            shareInfos,\n            shared\n        };\n    }\n    async loadShare(pkgName, extraOptions) {\n        const { host } = this;\n        // This function performs the following steps:\n        // 1. Checks if the currently loaded share already exists, if not, it throws an error\n        // 2. Searches globally for a matching share, if found, it uses it directly\n        // 3. If not found, it retrieves it from the current share and stores the obtained share globally.\n        const shareInfo = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.x)({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            await Promise.all(shareInfo.scope.map(async (shareScope)=>{\n                await Promise.all(this.initializeSharing(shareScope, {\n                    strategy: shareInfo.strategy\n                }));\n                return;\n            }));\n        }\n        const loadShareRes = await this.hooks.lifecycle.beforeLoadShare.emit({\n            pkgName,\n            shareInfo,\n            shared: host.options.shared,\n            origin: host\n        });\n        const { shareInfo: shareInfoRes } = loadShareRes;\n        // Assert that shareInfoRes exists, if not, throw an error\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(shareInfoRes, `Cannot find ${pkgName} Share in the ${host.options.name}. Please ensure that the ${pkgName} Share parameters have been injected`);\n        // Retrieve from cache\n        const registeredShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.z)(shared.useIn, host.options.name);\n        };\n        if (registeredShared && registeredShared.lib) {\n            addUseIn(registeredShared);\n            return registeredShared.lib;\n        } else if (registeredShared && registeredShared.loading && !registeredShared.loaded) {\n            const factory = await registeredShared.loading;\n            registeredShared.loaded = true;\n            if (!registeredShared.lib) {\n                registeredShared.lib = factory;\n            }\n            addUseIn(registeredShared);\n            return factory;\n        } else if (registeredShared) {\n            const asyncLoadProcess = async ()=>{\n                const factory = await registeredShared.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: registeredShared,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        } else {\n            if (extraOptions == null ? void 0 : extraOptions.customShareInfo) {\n                return false;\n            }\n            const asyncLoadProcess = async ()=>{\n                const factory = await shareInfoRes.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: shareInfoRes,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        }\n    }\n    /**\n   * This function initializes the sharing sequence (executed only once per share scope).\n   * It accepts one argument, the name of the share scope.\n   * If the share scope does not exist, it creates one.\n   */ // eslint-disable-next-line @typescript-eslint/member-ordering\n    initializeSharing(shareScopeName = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.b, extraOptions) {\n        const { host } = this;\n        const from = extraOptions == null ? void 0 : extraOptions.from;\n        const strategy = extraOptions == null ? void 0 : extraOptions.strategy;\n        let initScope = extraOptions == null ? void 0 : extraOptions.initScope;\n        const promises = [];\n        if (from !== \"build\") {\n            const { initTokens } = this;\n            if (!initScope) initScope = [];\n            let initToken = initTokens[shareScopeName];\n            if (!initToken) initToken = initTokens[shareScopeName] = {\n                from: this.host.name\n            };\n            if (initScope.indexOf(initToken) >= 0) return promises;\n            initScope.push(initToken);\n        }\n        const shareScope = this.shareScopeMap;\n        const hostName = host.options.name;\n        // Creates a new share scope if necessary\n        if (!shareScope[shareScopeName]) {\n            shareScope[shareScopeName] = {};\n        }\n        // Executes all initialization snippets from all accessible modules\n        const scope = shareScope[shareScopeName];\n        const register = (name, shared)=>{\n            var _activeVersion_shareConfig;\n            const { version, eager } = shared;\n            scope[name] = scope[name] || {};\n            const versions = scope[name];\n            const activeVersion = versions[version];\n            const activeVersionEager = Boolean(activeVersion && (activeVersion.eager || ((_activeVersion_shareConfig = activeVersion.shareConfig) == null ? void 0 : _activeVersion_shareConfig.eager)));\n            if (!activeVersion || activeVersion.strategy !== \"loaded-first\" && !activeVersion.loaded && (Boolean(!eager) !== !activeVersionEager ? eager : hostName > activeVersion.from)) {\n                versions[version] = shared;\n            }\n        };\n        const initFn = (mod)=>mod && mod.init && mod.init(shareScope[shareScopeName], initScope);\n        const initRemoteModule = async (key)=>{\n            const { module } = await host.remoteHandler.getRemoteModuleAndOptions({\n                id: key\n            });\n            if (module.getEntry) {\n                const entry = await module.getEntry();\n                if (!module.inited) {\n                    await initFn(entry);\n                    module.inited = true;\n                }\n            }\n        };\n        Object.keys(host.options.shared).forEach((shareName)=>{\n            const sharedArr = host.options.shared[shareName];\n            sharedArr.forEach((shared)=>{\n                if (shared.scope.includes(shareScopeName)) {\n                    register(shareName, shared);\n                }\n            });\n        });\n        // TODO: strategy==='version-first' need to be removed in the future\n        if (host.options.shareStrategy === \"version-first\" || strategy === \"version-first\") {\n            host.options.remotes.forEach((remote)=>{\n                if (remote.shareScope === shareScopeName) {\n                    promises.push(initRemoteModule(remote.name));\n                }\n            });\n        }\n        return promises;\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        const { host } = this;\n        const shareInfo = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.x)({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            shareInfo.scope.forEach((shareScope)=>{\n                this.initializeSharing(shareScope, {\n                    strategy: shareInfo.strategy\n                });\n            });\n        }\n        const registeredShared = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.o)(this.shareScopeMap, pkgName, shareInfo, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.z)(shared.useIn, host.options.name);\n        };\n        if (registeredShared) {\n            if (typeof registeredShared.lib === \"function\") {\n                addUseIn(registeredShared);\n                if (!registeredShared.loaded) {\n                    registeredShared.loaded = true;\n                    if (registeredShared.from === host.options.name) {\n                        shareInfo.loaded = true;\n                    }\n                }\n                return registeredShared.lib;\n            }\n            if (typeof registeredShared.get === \"function\") {\n                const module = registeredShared.get();\n                if (!(module instanceof Promise)) {\n                    addUseIn(registeredShared);\n                    this.setShared({\n                        pkgName,\n                        loaded: true,\n                        from: host.options.name,\n                        lib: module,\n                        shared: registeredShared\n                    });\n                    return module;\n                }\n            }\n        }\n        if (shareInfo.lib) {\n            if (!shareInfo.loaded) {\n                shareInfo.loaded = true;\n            }\n            return shareInfo.lib;\n        }\n        if (shareInfo.get) {\n            const module = shareInfo.get();\n            if (module instanceof Promise) {\n                throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${host.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n            }\n            shareInfo.lib = module;\n            this.setShared({\n                pkgName,\n                loaded: true,\n                from: host.options.name,\n                lib: shareInfo.lib,\n                shared: shareInfo\n            });\n            return shareInfo.lib;\n        }\n        throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${host.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        const { host } = this;\n        this.shareScopeMap[scopeName] = shareScope;\n        this.hooks.lifecycle.initContainerShareScopeMap.emit({\n            shareScope,\n            options: host.options,\n            origin: host,\n            scopeName,\n            hostShareScopeMap: extraOptions.hostShareScopeMap\n        });\n    }\n    setShared({ pkgName, shared, from, lib, loading, loaded, get }) {\n        const { version, scope = \"default\" } = shared, shareInfo = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(shared, [\n            \"version\",\n            \"scope\"\n        ]);\n        const scopes = Array.isArray(scope) ? scope : [\n            scope\n        ];\n        scopes.forEach((sc)=>{\n            if (!this.shareScopeMap[sc]) {\n                this.shareScopeMap[sc] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName]) {\n                this.shareScopeMap[sc][pkgName] = {};\n            }\n            if (this.shareScopeMap[sc][pkgName][version]) {\n                return;\n            }\n            this.shareScopeMap[sc][pkgName][version] = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n                version,\n                scope: [\n                    \"default\"\n                ]\n            }, shareInfo, {\n                lib,\n                loaded,\n                loading\n            });\n            if (get) {\n                this.shareScopeMap[sc][pkgName][version].get = get;\n            }\n        });\n    }\n    _setGlobalShareScopeMap(hostOptions) {\n        const globalShareScopeMap = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.y)();\n        const identifier = hostOptions.id || hostOptions.name;\n        if (identifier && !globalShareScopeMap[identifier]) {\n            globalShareScopeMap[identifier] = this.shareScopeMap;\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            afterResolve: new AsyncWaterfallHook(\"afterResolve\"),\n            beforeLoadShare: new AsyncWaterfallHook(\"beforeLoadShare\"),\n            // not used yet\n            loadShare: new AsyncHook(),\n            resolveShare: new SyncWaterfallHook(\"resolveShare\"),\n            // maybe will change, temporarily for internal use only\n            initContainerShareScopeMap: new SyncWaterfallHook(\"initContainerShareScopeMap\")\n        });\n        this.host = host;\n        this.shareScopeMap = {};\n        this.initTokens = {};\n        this._setGlobalShareScopeMap(host.options);\n    }\n}\nclass RemoteHandler {\n    formatAndRegisterRemote(globalOptions, userOptions) {\n        const userRemotes = userOptions.remotes || [];\n        return userRemotes.reduce((res, remote)=>{\n            this.registerRemote(remote, res, {\n                force: false\n            });\n            return res;\n        }, globalOptions.remotes);\n    }\n    setIdToRemoteMap(id, remoteMatchInfo) {\n        const { remote, expose } = remoteMatchInfo;\n        const { name, alias } = remote;\n        this.idToRemoteMap[id] = {\n            name: remote.name,\n            expose\n        };\n        if (alias && id.startsWith(name)) {\n            const idWithAlias = id.replace(name, alias);\n            this.idToRemoteMap[idWithAlias] = {\n                name: remote.name,\n                expose\n            };\n            return;\n        }\n        if (alias && id.startsWith(alias)) {\n            const idWithName = id.replace(alias, name);\n            this.idToRemoteMap[idWithName] = {\n                name: remote.name,\n                expose\n            };\n        }\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        const { host } = this;\n        try {\n            const { loadFactory = true } = options || {\n                loadFactory: true\n            };\n            // 1. Validate the parameters of the retrieved module. There are two module request methods: pkgName + expose and alias + expose.\n            // 2. Request the snapshot information of the current host and globally store the obtained snapshot information. The retrieved module information is partially offline and partially online. The online module information will retrieve the modules used online.\n            // 3. Retrieve the detailed information of the current module from global (remoteEntry address, expose resource address)\n            // 4. After retrieving remoteEntry, call the init of the module, and then retrieve the exported content of the module through get\n            // id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n            // id: alias(app1) + expose(button) = app1/button\n            // id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\n            const { module, moduleOptions, remoteMatchInfo } = await this.getRemoteModuleAndOptions({\n                id\n            });\n            const { pkgNameOrAlias, remote, expose, id: idRes } = remoteMatchInfo;\n            const moduleOrFactory = await module.get(idRes, expose, options);\n            const moduleWrapper = await this.hooks.lifecycle.onLoad.emit({\n                id: idRes,\n                pkgNameOrAlias,\n                expose,\n                exposeModule: loadFactory ? moduleOrFactory : undefined,\n                exposeModuleFactory: loadFactory ? undefined : moduleOrFactory,\n                remote,\n                options: moduleOptions,\n                moduleInstance: module,\n                origin: host\n            });\n            this.setIdToRemoteMap(id, remoteMatchInfo);\n            if (typeof moduleWrapper === \"function\") {\n                return moduleWrapper;\n            }\n            return moduleOrFactory;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        const { host } = this;\n        await this.hooks.lifecycle.beforePreloadRemote.emit({\n            preloadOps: preloadOptions,\n            options: host.options,\n            origin: host\n        });\n        const preloadOps = formatPreloadArgs(host.options.remotes, preloadOptions);\n        await Promise.all(preloadOps.map(async (ops)=>{\n            const { remote } = ops;\n            const remoteInfo = getRemoteInfo(remote);\n            const { globalSnapshot, remoteSnapshot } = await host.snapshotHandler.loadRemoteSnapshotInfo(remote);\n            const assets = await this.hooks.lifecycle.generatePreloadAssets.emit({\n                origin: host,\n                preloadOptions: ops,\n                remote,\n                remoteInfo,\n                globalSnapshot,\n                remoteSnapshot\n            });\n            if (!assets) {\n                return;\n            }\n            preloadAssets(remoteInfo, host, assets);\n        }));\n    }\n    registerRemotes(remotes, options) {\n        const { host } = this;\n        remotes.forEach((remote)=>{\n            this.registerRemote(remote, host.options.remotes, {\n                force: options == null ? void 0 : options.force\n            });\n        });\n    }\n    async getRemoteModuleAndOptions(options) {\n        const { host } = this;\n        const { id } = options;\n        let loadRemoteArgs;\n        try {\n            loadRemoteArgs = await this.hooks.lifecycle.beforeRequest.emit({\n                id,\n                options: host.options,\n                origin: host\n            });\n        } catch (error) {\n            loadRemoteArgs = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                options: host.options,\n                origin: host,\n                from: \"runtime\",\n                error,\n                lifecycle: \"beforeRequest\"\n            });\n            if (!loadRemoteArgs) {\n                throw error;\n            }\n        }\n        const { id: idRes } = loadRemoteArgs;\n        const remoteSplitInfo = matchRemoteWithNameAndExpose(host.options.remotes, idRes);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(remoteSplitInfo, `\n        Unable to locate ${idRes} in ${host.options.name}. Potential reasons for failure include:\\n\n        1. ${idRes} was not included in the 'remotes' parameter of ${host.options.name || \"the host\"}.\\n\n        2. ${idRes} could not be found in the 'remotes' of ${host.options.name} with either 'name' or 'alias' attributes.\n        3. ${idRes} is not online, injected, or loaded.\n        4. ${idRes}  cannot be accessed on the expected.\n        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${idRes}.\n      `);\n        const { remote: rawRemote } = remoteSplitInfo;\n        const remoteInfo = getRemoteInfo(rawRemote);\n        const matchInfo = await host.sharedHandler.hooks.lifecycle.afterResolve.emit((0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n            id: idRes\n        }, remoteSplitInfo, {\n            options: host.options,\n            origin: host,\n            remoteInfo\n        }));\n        const { remote, expose } = matchInfo;\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(remote && expose, `The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${idRes}.`);\n        let module = host.moduleCache.get(remote.name);\n        const moduleOptions = {\n            host: host,\n            remoteInfo\n        };\n        if (!module) {\n            module = new Module(moduleOptions);\n            host.moduleCache.set(remote.name, module);\n        }\n        return {\n            module,\n            moduleOptions,\n            remoteMatchInfo: matchInfo\n        };\n    }\n    registerRemote(remote, targetRemotes, options) {\n        const { host } = this;\n        const normalizeRemote = ()=>{\n            if (remote.alias) {\n                // Validate if alias equals the prefix of remote.name and remote.alias, if so, throw an error\n                // As multi-level path references cannot guarantee unique names, alias being a prefix of remote.name is not supported\n                const findEqual = targetRemotes.find((item)=>{\n                    var _item_alias;\n                    return remote.alias && (item.name.startsWith(remote.alias) || ((_item_alias = item.alias) == null ? void 0 : _item_alias.startsWith(remote.alias)));\n                });\n                (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(!findEqual, `The alias ${remote.alias} of remote ${remote.name} is not allowed to be the prefix of ${findEqual && findEqual.name} name or alias`);\n            }\n            // Set the remote entry to a complete path\n            if (\"entry\" in remote) {\n                if ((0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)() && !remote.entry.startsWith(\"http\")) {\n                    remote.entry = new URL(remote.entry, window.location.origin).href;\n                }\n            }\n            if (!remote.shareScope) {\n                remote.shareScope = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.b;\n            }\n            if (!remote.type) {\n                remote.type = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.D;\n            }\n        };\n        this.hooks.lifecycle.beforeRegisterRemote.emit({\n            remote,\n            origin: host\n        });\n        const registeredRemote = targetRemotes.find((item)=>item.name === remote.name);\n        if (!registeredRemote) {\n            normalizeRemote();\n            targetRemotes.push(remote);\n            this.hooks.lifecycle.registerRemote.emit({\n                remote,\n                origin: host\n            });\n        } else {\n            const messages = [\n                `The remote \"${remote.name}\" is already registered.`,\n                (options == null ? void 0 : options.force) ? \"Hope you have known that OVERRIDE it may have some unexpected errors\" : 'If you want to merge the remote, you can set \"force: true\".'\n            ];\n            if (options == null ? void 0 : options.force) {\n                // remove registered remote\n                this.removeRemote(registeredRemote);\n                normalizeRemote();\n                targetRemotes.push(remote);\n                this.hooks.lifecycle.registerRemote.emit({\n                    remote,\n                    origin: host\n                });\n            }\n            (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.warn)(messages.join(\" \"));\n        }\n    }\n    removeRemote(remote) {\n        try {\n            const { host } = this;\n            const { name } = remote;\n            const remoteIndex = host.options.remotes.findIndex((item)=>item.name === name);\n            if (remoteIndex !== -1) {\n                host.options.remotes.splice(remoteIndex, 1);\n            }\n            const loadedModule = host.moduleCache.get(remote.name);\n            if (loadedModule) {\n                const remoteInfo = loadedModule.remoteInfo;\n                const key = remoteInfo.entryGlobalName;\n                if (globalThis[key]) {\n                    var _Object_getOwnPropertyDescriptor;\n                    if ((_Object_getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor(globalThis, key)) == null ? void 0 : _Object_getOwnPropertyDescriptor.configurable) {\n                        delete globalThis[key];\n                    } else {\n                        // @ts-ignore\n                        globalThis[key] = undefined;\n                    }\n                }\n                const remoteEntryUniqueKey = getRemoteEntryUniqueKey(loadedModule.remoteInfo);\n                if (_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[remoteEntryUniqueKey]) {\n                    delete _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.a[remoteEntryUniqueKey];\n                }\n                host.snapshotHandler.manifestCache.delete(remoteInfo.entry);\n                // delete unloaded shared and instance\n                let remoteInsId = remoteInfo.buildVersion ? (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.composeKeyWithSeparator)(remoteInfo.name, remoteInfo.buildVersion) : remoteInfo.name;\n                const remoteInsIndex = globalThis.__FEDERATION__.__INSTANCES__.findIndex((ins)=>{\n                    if (remoteInfo.buildVersion) {\n                        return ins.options.id === remoteInsId;\n                    } else {\n                        return ins.name === remoteInsId;\n                    }\n                });\n                if (remoteInsIndex !== -1) {\n                    const remoteIns = globalThis.__FEDERATION__.__INSTANCES__[remoteInsIndex];\n                    remoteInsId = remoteIns.options.id || remoteInsId;\n                    const globalShareScopeMap = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.y)();\n                    let isAllSharedNotUsed = true;\n                    const needDeleteKeys = [];\n                    Object.keys(globalShareScopeMap).forEach((instId)=>{\n                        const shareScopeMap = globalShareScopeMap[instId];\n                        shareScopeMap && Object.keys(shareScopeMap).forEach((shareScope)=>{\n                            const shareScopeVal = shareScopeMap[shareScope];\n                            shareScopeVal && Object.keys(shareScopeVal).forEach((shareName)=>{\n                                const sharedPkgs = shareScopeVal[shareName];\n                                sharedPkgs && Object.keys(sharedPkgs).forEach((shareVersion)=>{\n                                    const shared = sharedPkgs[shareVersion];\n                                    if (shared && typeof shared === \"object\" && shared.from === remoteInfo.name) {\n                                        if (shared.loaded || shared.loading) {\n                                            shared.useIn = shared.useIn.filter((usedHostName)=>usedHostName !== remoteInfo.name);\n                                            if (shared.useIn.length) {\n                                                isAllSharedNotUsed = false;\n                                            } else {\n                                                needDeleteKeys.push([\n                                                    instId,\n                                                    shareScope,\n                                                    shareName,\n                                                    shareVersion\n                                                ]);\n                                            }\n                                        } else {\n                                            needDeleteKeys.push([\n                                                instId,\n                                                shareScope,\n                                                shareName,\n                                                shareVersion\n                                            ]);\n                                        }\n                                    }\n                                });\n                            });\n                        });\n                    });\n                    if (isAllSharedNotUsed) {\n                        remoteIns.shareScopeMap = {};\n                        delete globalShareScopeMap[remoteInsId];\n                    }\n                    needDeleteKeys.forEach(([insId, shareScope, shareName, shareVersion])=>{\n                        var _globalShareScopeMap_insId_shareScope_shareName, _globalShareScopeMap_insId_shareScope, _globalShareScopeMap_insId;\n                        (_globalShareScopeMap_insId = globalShareScopeMap[insId]) == null ? true : (_globalShareScopeMap_insId_shareScope = _globalShareScopeMap_insId[shareScope]) == null ? true : (_globalShareScopeMap_insId_shareScope_shareName = _globalShareScopeMap_insId_shareScope[shareName]) == null ? true : delete _globalShareScopeMap_insId_shareScope_shareName[shareVersion];\n                    });\n                    globalThis.__FEDERATION__.__INSTANCES__.splice(remoteInsIndex, 1);\n                }\n                const { hostGlobalSnapshot } = getGlobalRemoteInfo(remote, host);\n                if (hostGlobalSnapshot) {\n                    const remoteKey = hostGlobalSnapshot && \"remotesInfo\" in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.m)(hostGlobalSnapshot.remotesInfo, remote.name).key;\n                    if (remoteKey) {\n                        delete hostGlobalSnapshot.remotesInfo[remoteKey];\n                        if (Boolean(_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.G.__FEDERATION__.__MANIFEST_LOADING__[remoteKey])) {\n                            delete _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.G.__FEDERATION__.__MANIFEST_LOADING__[remoteKey];\n                        }\n                    }\n                }\n                host.moduleCache.delete(remote.name);\n            }\n        } catch (err) {\n            console.log(\"removeRemote fail: \", err);\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            beforeRegisterRemote: new SyncWaterfallHook(\"beforeRegisterRemote\"),\n            registerRemote: new SyncWaterfallHook(\"registerRemote\"),\n            beforeRequest: new AsyncWaterfallHook(\"beforeRequest\"),\n            onLoad: new AsyncHook(\"onLoad\"),\n            handlePreloadModule: new SyncHook(\"handlePreloadModule\"),\n            errorLoadRemote: new AsyncHook(\"errorLoadRemote\"),\n            beforePreloadRemote: new AsyncHook(\"beforePreloadRemote\"),\n            generatePreloadAssets: new AsyncHook(\"generatePreloadAssets\"),\n            // not used yet\n            afterPreloadRemote: new AsyncHook(),\n            loadEntry: new AsyncHook()\n        });\n        this.host = host;\n        this.idToRemoteMap = {};\n    }\n}\nclass FederationHost {\n    initOptions(userOptions) {\n        this.registerPlugins(userOptions.plugins);\n        const options = this.formatOptions(this.options, userOptions);\n        this.options = options;\n        return options;\n    }\n    async loadShare(pkgName, extraOptions) {\n        return this.sharedHandler.loadShare(pkgName, extraOptions);\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        return this.sharedHandler.loadShareSync(pkgName, extraOptions);\n    }\n    initializeSharing(shareScopeName = _share_esm_js__WEBPACK_IMPORTED_MODULE_2__.b, extraOptions) {\n        return this.sharedHandler.initializeSharing(shareScopeName, extraOptions);\n    }\n    initRawContainer(name, url, container) {\n        const remoteInfo = getRemoteInfo({\n            name,\n            entry: url\n        });\n        const module = new Module({\n            host: this,\n            remoteInfo\n        });\n        module.remoteEntryExports = container;\n        this.moduleCache.set(name, module);\n        return module;\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        return this.remoteHandler.loadRemote(id, options);\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        return this.remoteHandler.preloadRemote(preloadOptions);\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        this.sharedHandler.initShareScopeMap(scopeName, shareScope, extraOptions);\n    }\n    formatOptions(globalOptions, userOptions) {\n        const { shared } = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.v)(globalOptions, userOptions);\n        const { userOptions: userOptionsRes, options: globalOptionsRes } = this.hooks.lifecycle.beforeInit.emit({\n            origin: this,\n            userOptions,\n            options: globalOptions,\n            shareInfo: shared\n        });\n        const remotes = this.remoteHandler.formatAndRegisterRemote(globalOptionsRes, userOptionsRes);\n        const { shared: handledShared } = this.sharedHandler.registerShared(globalOptionsRes, userOptionsRes);\n        const plugins = [\n            ...globalOptionsRes.plugins\n        ];\n        if (userOptionsRes.plugins) {\n            userOptionsRes.plugins.forEach((plugin)=>{\n                if (!plugins.includes(plugin)) {\n                    plugins.push(plugin);\n                }\n            });\n        }\n        const optionsRes = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, globalOptions, userOptions, {\n            plugins,\n            remotes,\n            shared: handledShared\n        });\n        this.hooks.lifecycle.init.emit({\n            origin: this,\n            options: optionsRes\n        });\n        return optionsRes;\n    }\n    registerPlugins(plugins) {\n        const pluginRes = registerPlugins$1(plugins, [\n            this.hooks,\n            this.remoteHandler.hooks,\n            this.sharedHandler.hooks,\n            this.snapshotHandler.hooks,\n            this.loaderHook\n        ]);\n        // Merge plugin\n        this.options.plugins = this.options.plugins.reduce((res, plugin)=>{\n            if (!plugin) return res;\n            if (res && !res.find((item)=>item.name === plugin.name)) {\n                res.push(plugin);\n            }\n            return res;\n        }, pluginRes || []);\n    }\n    registerRemotes(remotes, options) {\n        return this.remoteHandler.registerRemotes(remotes, options);\n    }\n    constructor(userOptions){\n        this.hooks = new PluginSystem({\n            beforeInit: new SyncWaterfallHook(\"beforeInit\"),\n            init: new SyncHook(),\n            // maybe will change, temporarily for internal use only\n            beforeInitContainer: new AsyncWaterfallHook(\"beforeInitContainer\"),\n            // maybe will change, temporarily for internal use only\n            initContainer: new AsyncWaterfallHook(\"initContainer\")\n        });\n        this.version = \"0.6.0\";\n        this.moduleCache = new Map();\n        this.loaderHook = new PluginSystem({\n            // FIXME: may not be suitable , not open to the public yet\n            getModuleInfo: new SyncHook(),\n            createScript: new SyncHook(),\n            createLink: new SyncHook(),\n            // only work for manifest , so not open to the public yet\n            fetch: new AsyncHook()\n        });\n        // TODO: Validate the details of the options\n        // Initialize options with default values\n        const defaultOptions = {\n            id: (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.A)(),\n            name: userOptions.name,\n            plugins: [\n                snapshotPlugin(),\n                generatePreloadAssetsPlugin()\n            ],\n            remotes: [],\n            shared: {},\n            inBrowser: (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)()\n        };\n        this.name = userOptions.name;\n        this.options = defaultOptions;\n        this.snapshotHandler = new SnapshotHandler(this);\n        this.sharedHandler = new SharedHandler(this);\n        this.remoteHandler = new RemoteHandler(this);\n        this.shareScopeMap = this.sharedHandler.shareScopeMap;\n        this.registerPlugins([\n            ...defaultOptions.plugins,\n            ...userOptions.plugins || []\n        ]);\n        this.options = this.formatOptions(defaultOptions, userOptions);\n    }\n}\nlet FederationInstance = null;\nfunction init(options) {\n    // Retrieve the same instance with the same name\n    const instance = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.C)(options.name, options.version);\n    if (!instance) {\n        // Retrieve debug constructor\n        const FederationConstructor = (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.E)() || FederationHost;\n        FederationInstance = new FederationConstructor(options);\n        (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.F)(FederationInstance);\n        return FederationInstance;\n    } else {\n        // Merge options\n        instance.initOptions(options);\n        if (!FederationInstance) {\n            FederationInstance = instance;\n        }\n        return instance;\n    }\n}\nfunction loadRemote(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    const loadRemote1 = FederationInstance.loadRemote;\n    // eslint-disable-next-line prefer-spread\n    return loadRemote1.apply(FederationInstance, args);\n}\nfunction loadShare(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    // eslint-disable-next-line prefer-spread\n    const loadShare1 = FederationInstance.loadShare;\n    return loadShare1.apply(FederationInstance, args);\n}\nfunction loadShareSync(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    const loadShareSync1 = FederationInstance.loadShareSync;\n    // eslint-disable-next-line prefer-spread\n    return loadShareSync1.apply(FederationInstance, args);\n}\nfunction preloadRemote(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.preloadRemote.apply(FederationInstance, args);\n}\nfunction registerRemotes(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerRemotes.apply(FederationInstance, args);\n}\nfunction registerPlugins(...args) {\n    (0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.d)(FederationInstance, \"Please call init first\");\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerPlugins.apply(FederationInstance, args);\n}\nfunction getInstance() {\n    return FederationInstance;\n}\n// Inject for debug\n(0,_share_esm_js__WEBPACK_IMPORTED_MODULE_2__.B)(FederationHost);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvcnVudGltZS9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRjtBQUMySTtBQUNqSztBQUNnd0I7QUFDeHdCO0FBRTVELHNEQUFzRDtBQUN0RCwyRUFBMkU7QUFDM0UsaURBQWlEO0FBQ2pELHlFQUF5RTtBQUN6RSxTQUFTa0YsNkJBQTZCQyxPQUFPLEVBQUVDLEVBQUU7SUFDN0MsS0FBSyxNQUFNQyxVQUFVRixRQUFRO1FBQ3pCLGdCQUFnQjtRQUNoQixNQUFNRyxnQkFBZ0JGLEdBQUdHLFVBQVUsQ0FBQ0YsT0FBT0csSUFBSTtRQUMvQyxJQUFJQyxTQUFTTCxHQUFHTSxPQUFPLENBQUNMLE9BQU9HLElBQUksRUFBRTtRQUNyQyxJQUFJRixlQUFlO1lBQ2YsSUFBSUcsT0FBT0YsVUFBVSxDQUFDLE1BQU07Z0JBQ3hCLE1BQU1JLGlCQUFpQk4sT0FBT0csSUFBSTtnQkFDbENDLFNBQVMsQ0FBQyxDQUFDLEVBQUVBLE9BQU8sQ0FBQztnQkFDckIsT0FBTztvQkFDSEU7b0JBQ0FGO29CQUNBSjtnQkFDSjtZQUNKLE9BQU8sSUFBSUksV0FBVyxJQUFJO2dCQUN0QixPQUFPO29CQUNIRSxnQkFBZ0JOLE9BQU9HLElBQUk7b0JBQzNCQyxRQUFRO29CQUNSSjtnQkFDSjtZQUNKO1FBQ0o7UUFDQSxjQUFjO1FBQ2QsTUFBTU8saUJBQWlCUCxPQUFPUSxLQUFLLElBQUlULEdBQUdHLFVBQVUsQ0FBQ0YsT0FBT1EsS0FBSztRQUNqRSxJQUFJQyxrQkFBa0JULE9BQU9RLEtBQUssSUFBSVQsR0FBR00sT0FBTyxDQUFDTCxPQUFPUSxLQUFLLEVBQUU7UUFDL0QsSUFBSVIsT0FBT1EsS0FBSyxJQUFJRCxnQkFBZ0I7WUFDaEMsSUFBSUUsbUJBQW1CQSxnQkFBZ0JQLFVBQVUsQ0FBQyxNQUFNO2dCQUNwRCxNQUFNSSxpQkFBaUJOLE9BQU9RLEtBQUs7Z0JBQ25DQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUVBLGdCQUFnQixDQUFDO2dCQUN2QyxPQUFPO29CQUNISDtvQkFDQUYsUUFBUUs7b0JBQ1JUO2dCQUNKO1lBQ0osT0FBTyxJQUFJUyxvQkFBb0IsSUFBSTtnQkFDL0IsT0FBTztvQkFDSEgsZ0JBQWdCTixPQUFPUSxLQUFLO29CQUM1QkosUUFBUTtvQkFDUko7Z0JBQ0o7WUFDSjtRQUNKO0lBQ0o7SUFDQTtBQUNKO0FBQ0Esb0RBQW9EO0FBQ3BELFNBQVNVLFlBQVlaLE9BQU8sRUFBRWEsV0FBVztJQUNyQyxLQUFLLE1BQU1YLFVBQVVGLFFBQVE7UUFDekIsTUFBTUcsZ0JBQWdCVSxnQkFBZ0JYLE9BQU9HLElBQUk7UUFDakQsSUFBSUYsZUFBZTtZQUNmLE9BQU9EO1FBQ1g7UUFDQSxNQUFNTyxpQkFBaUJQLE9BQU9RLEtBQUssSUFBSUcsZ0JBQWdCWCxPQUFPUSxLQUFLO1FBQ25FLElBQUlELGdCQUFnQjtZQUNoQixPQUFPUDtRQUNYO0lBQ0o7SUFDQTtBQUNKO0FBRUEsU0FBU1ksa0JBQWtCQyxPQUFPLEVBQUVDLGFBQWE7SUFDN0MsTUFBTUMsZ0JBQWdCbkYsZ0RBQW9CQTtJQUMxQyw2QkFBNkI7SUFDN0IsSUFBSW1GLGNBQWNDLE1BQU0sR0FBRyxHQUFHO1FBQzFCRCxjQUFjRSxPQUFPLENBQUMsQ0FBQ0M7WUFDbkIsSUFBSUwsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUU0sSUFBSSxDQUFDLENBQUNDLE9BQU9BLEtBQUtqQixJQUFJLEtBQUtlLE9BQU9mLElBQUksR0FBRztnQkFDNUVVLFFBQVFRLElBQUksQ0FBQ0g7WUFDakI7UUFDSjtJQUNKO0lBQ0EsSUFBSUwsV0FBV0EsUUFBUUcsTUFBTSxHQUFHLEdBQUc7UUFDL0JILFFBQVFJLE9BQU8sQ0FBQyxDQUFDQztZQUNiSixjQUFjRyxPQUFPLENBQUMsQ0FBQ0s7Z0JBQ25CQSxhQUFhQyxXQUFXLENBQUNMO1lBQzdCO1FBQ0o7SUFDSjtJQUNBLE9BQU9MO0FBQ1g7QUFFQSxlQUFlVyxhQUFhLEVBQUVDLEtBQUssRUFBRUMsa0JBQWtCLEVBQUU7SUFDckQsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCLElBQUk7WUFDQSxJQUFJLENBQUNILG9CQUFvQjtnQkFDckIsbUNBQW1DO2dCQUNuQyxJQUFJSSxTQUFTLGFBQWEsQ0FBQyxRQUFRLEVBQUVMLE1BQU0seUNBQXlDLENBQUMsRUFBRTtvQkFDbkZHO29CQUNBQztpQkFDSDtZQUNMLE9BQU87Z0JBQ0hELFFBQVFGO1lBQ1o7UUFDSixFQUFFLE9BQU9wRixHQUFHO1lBQ1J1RixPQUFPdkY7UUFDWDtJQUNKO0FBQ0o7QUFDQSxlQUFleUYsa0JBQWtCLEVBQUVOLEtBQUssRUFBRUMsa0JBQWtCLEVBQUU7SUFDMUQsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCLElBQUk7WUFDQSxJQUFJLENBQUNILG9CQUFvQjtnQkFDckIsbUNBQW1DO2dCQUNuQyxJQUFJSSxTQUFTLGFBQWEsQ0FBQyxlQUFlLEVBQUVMLE1BQU0seUNBQXlDLENBQUMsRUFBRTtvQkFDMUZHO29CQUNBQztpQkFDSDtZQUNMLE9BQU87Z0JBQ0hELFFBQVFGO1lBQ1o7UUFDSixFQUFFLE9BQU9wRixHQUFHO1lBQ1J1RixPQUFPdkY7UUFDWDtJQUNKO0FBQ0o7QUFDQSxlQUFlMEYsZ0JBQWdCLEVBQUU3QixJQUFJLEVBQUU4QixVQUFVLEVBQUVSLEtBQUssRUFBRVMsZ0JBQWdCLEVBQUU7SUFDeEUsTUFBTSxFQUFFQyxjQUFjVCxrQkFBa0IsRUFBRSxHQUFHdkYsZ0RBQXFCQSxDQUFDZ0UsTUFBTThCO0lBQ3pFLElBQUlQLG9CQUFvQjtRQUNwQixPQUFPQTtJQUNYO0lBQ0EsT0FBT3hHLGtFQUFVQSxDQUFDdUcsT0FBTztRQUNyQlcsT0FBTyxDQUFDO1FBQ1JGLGtCQUFrQixDQUFDRyxLQUFLRDtZQUNwQixNQUFNRSxNQUFNSixpQkFBaUJLLElBQUksQ0FBQztnQkFDOUJGO2dCQUNBRDtZQUNKO1lBQ0EsSUFBSSxDQUFDRSxLQUFLO1lBQ1YsSUFBSUEsZUFBZUUsbUJBQW1CO2dCQUNsQyxPQUFPRjtZQUNYO1lBQ0EsSUFBSSxZQUFZQSxPQUFPLGFBQWFBLEtBQUs7Z0JBQ3JDLE9BQU9BO1lBQ1g7WUFDQTtRQUNKO0lBQ0osR0FBR0csSUFBSSxDQUFDO1FBQ0osTUFBTSxFQUFFQyxjQUFjLEVBQUVQLFlBQVksRUFBRSxHQUFHaEcsZ0RBQXFCQSxDQUFDZ0UsTUFBTThCO1FBQ3JFNUYsZ0RBQU1BLENBQUM4RixjQUFjLENBQUM7d0JBQ04sRUFBRWhDLEtBQUssSUFBSSxFQUFFc0IsTUFBTSxXQUFXLEVBQUVpQixlQUFlOztVQUU3RCxFQUFFakIsTUFBTTtTQUNULEVBQUVpQixlQUFlO0lBQ3RCLENBQUM7UUFDRyxPQUFPUDtJQUNYLEdBQUdRLEtBQUssQ0FBQyxDQUFDckc7UUFDTixNQUFNQTtJQUNWO0FBQ0o7QUFDQSxlQUFlc0csYUFBYSxFQUFFQyxVQUFVLEVBQUVuQixrQkFBa0IsRUFBRVEsZ0JBQWdCLEVBQUU7SUFDNUUsTUFBTSxFQUFFVCxLQUFLLEVBQUVxQixpQkFBaUJiLFVBQVUsRUFBRTlCLElBQUksRUFBRTRDLElBQUksRUFBRSxHQUFHRjtJQUMzRCxPQUFPRTtRQUNILEtBQUs7UUFDTCxLQUFLO1lBQ0QsT0FBT3ZCLGFBQWE7Z0JBQ2hCQztnQkFDQUM7WUFDSjtRQUNKLEtBQUs7WUFDRCxPQUFPSyxrQkFBa0I7Z0JBQ3JCTjtnQkFDQUM7WUFDSjtRQUNKO1lBQ0ksT0FBT00sZ0JBQWdCO2dCQUNuQlA7Z0JBQ0FRO2dCQUNBOUI7Z0JBQ0ErQjtZQUNKO0lBQ1I7QUFDSjtBQUNBLGVBQWVjLGNBQWMsRUFBRUgsVUFBVSxFQUFFWCxnQkFBZ0IsRUFBRTtJQUN6RCxNQUFNLEVBQUVULEtBQUssRUFBRXFCLGlCQUFpQmIsVUFBVSxFQUFFOUIsSUFBSSxFQUFFLEdBQUcwQztJQUNyRCxNQUFNLEVBQUVWLGNBQWNULGtCQUFrQixFQUFFLEdBQUd2RixnREFBcUJBLENBQUNnRSxNQUFNOEI7SUFDekUsSUFBSVAsb0JBQW9CO1FBQ3BCLE9BQU9BO0lBQ1g7SUFDQSxPQUFPMUcsc0VBQWNBLENBQUN5RyxPQUFPO1FBQ3pCVyxPQUFPO1lBQ0hqQztZQUNBOEI7UUFDSjtRQUNBQyxrQkFBa0IsQ0FBQ0csS0FBS0Q7WUFDcEIsTUFBTUUsTUFBTUosaUJBQWlCSyxJQUFJLENBQUM7Z0JBQzlCRjtnQkFDQUQ7WUFDSjtZQUNBLElBQUksQ0FBQ0UsS0FBSztZQUNWLElBQUksU0FBU0EsS0FBSztnQkFDZCxPQUFPQTtZQUNYO1lBQ0E7UUFDSjtJQUNKLEdBQUdHLElBQUksQ0FBQztRQUNKLE1BQU0sRUFBRUMsY0FBYyxFQUFFUCxZQUFZLEVBQUUsR0FBR2hHLGdEQUFxQkEsQ0FBQ2dFLE1BQU04QjtRQUNyRTVGLGdEQUFNQSxDQUFDOEYsY0FBYyxDQUFDO3dCQUNOLEVBQUVoQyxLQUFLLElBQUksRUFBRXNCLE1BQU0sV0FBVyxFQUFFaUIsZUFBZTs7VUFFN0QsRUFBRWpCLE1BQU07U0FDVCxFQUFFaUIsZUFBZTtJQUN0QixDQUFDO1FBQ0csT0FBT1A7SUFDWCxHQUFHUSxLQUFLLENBQUMsQ0FBQ3JHO1FBQ04sTUFBTUE7SUFDVjtBQUNKO0FBQ0EsU0FBUzJHLHdCQUF3QkosVUFBVTtJQUN2QyxNQUFNLEVBQUVwQixLQUFLLEVBQUV0QixJQUFJLEVBQUUsR0FBRzBDO0lBQ3hCLE9BQU81SCwrRUFBdUJBLENBQUNrRixNQUFNc0I7QUFDekM7QUFDQSxlQUFleUIsZUFBZSxFQUFFQyxNQUFNLEVBQUV6QixrQkFBa0IsRUFBRW1CLFVBQVUsRUFBRTtJQUNwRSxNQUFNTyxZQUFZSCx3QkFBd0JKO0lBQzFDLElBQUluQixvQkFBb0I7UUFDcEIsT0FBT0E7SUFDWDtJQUNBLElBQUksQ0FBQzdGLDRDQUFhLENBQUN1SCxVQUFVLEVBQUU7UUFDM0IsTUFBTUMsZ0JBQWdCRixPQUFPRyxhQUFhLENBQUNDLEtBQUssQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTO1FBQ3BFLElBQUlKLGNBQWNLLFNBQVMsQ0FBQ0MsSUFBSSxFQUFFO1lBQzlCOUgsNENBQWEsQ0FBQ3VILFVBQVUsR0FBR0MsY0FBY2QsSUFBSSxDQUFDO2dCQUMxQ0wsa0JBQWtCaUIsT0FBT1MsVUFBVSxDQUFDSixTQUFTLENBQUNuSSxZQUFZO2dCQUMxRHdIO2dCQUNBbkI7WUFDSixHQUFHZSxJQUFJLENBQUMsQ0FBQ0gsTUFBTUEsT0FBT3VCO1FBQzFCLE9BQU87WUFDSCxNQUFNM0IsbUJBQW1CaUIsT0FBT1MsVUFBVSxDQUFDSixTQUFTLENBQUNuSSxZQUFZO1lBQ2pFLElBQUksQ0FBQ04sb0VBQVlBLElBQUk7Z0JBQ2pCYyw0Q0FBYSxDQUFDdUgsVUFBVSxHQUFHSixjQUFjO29CQUNyQ0g7b0JBQ0FYO2dCQUNKO1lBQ0osT0FBTztnQkFDSHJHLDRDQUFhLENBQUN1SCxVQUFVLEdBQUdSLGFBQWE7b0JBQ3BDQztvQkFDQW5CO29CQUNBUTtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtJQUNBLE9BQU9yRyw0Q0FBYSxDQUFDdUgsVUFBVTtBQUNuQztBQUNBLFNBQVNVLGNBQWM5RCxNQUFNO0lBQ3pCLE9BQU9wRixvREFBUUEsQ0FBQyxDQUFDLEdBQUdvRixRQUFRO1FBQ3hCeUIsT0FBTyxXQUFXekIsU0FBU0EsT0FBT3lCLEtBQUssR0FBRztRQUMxQ3NCLE1BQU0vQyxPQUFPK0MsSUFBSSxJQUFJaEgsNENBQW1CQTtRQUN4QytHLGlCQUFpQjlDLE9BQU84QyxlQUFlLElBQUk5QyxPQUFPRyxJQUFJO1FBQ3RENEQsWUFBWS9ELE9BQU8rRCxVQUFVLElBQUk5SCw0Q0FBYUE7SUFDbEQ7QUFDSjtBQUVBLElBQUkrSCxTQUFTLE1BQU1BO0lBQ2YsTUFBTUMsV0FBVztRQUNiLElBQUksSUFBSSxDQUFDdkMsa0JBQWtCLEVBQUU7WUFDekIsT0FBTyxJQUFJLENBQUNBLGtCQUFrQjtRQUNsQztRQUNBLHFCQUFxQjtRQUNyQixNQUFNQSxxQkFBcUIsTUFBTXdCLGVBQWU7WUFDNUNDLFFBQVEsSUFBSSxDQUFDZSxJQUFJO1lBQ2pCckIsWUFBWSxJQUFJLENBQUNBLFVBQVU7WUFDM0JuQixvQkFBb0IsSUFBSSxDQUFDQSxrQkFBa0I7UUFDL0M7UUFDQXJGLGdEQUFNQSxDQUFDcUYsb0JBQW9CLENBQUMsbUNBQW1DLEVBQUV2RyxvRUFBWUEsQ0FBQyxJQUFJLENBQUMwSCxVQUFVLEVBQUUsQ0FBQztRQUNoRyxJQUFJLENBQUNuQixrQkFBa0IsR0FBR0E7UUFDMUIsT0FBTyxJQUFJLENBQUNBLGtCQUFrQjtJQUNsQztJQUNBLDZFQUE2RTtJQUM3RSxNQUFNeUMsSUFBSXBFLEVBQUUsRUFBRUssTUFBTSxFQUFFZ0UsT0FBTyxFQUFFO1FBQzNCLE1BQU0sRUFBRUMsY0FBYyxJQUFJLEVBQUUsR0FBR0QsV0FBVztZQUN0Q0MsYUFBYTtRQUNqQjtRQUNBLHFCQUFxQjtRQUNyQixNQUFNM0MscUJBQXFCLE1BQU0sSUFBSSxDQUFDdUMsUUFBUTtRQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDSyxNQUFNLEVBQUU7WUFDZCxNQUFNQyxxQkFBcUIsSUFBSSxDQUFDTCxJQUFJLENBQUNNLGFBQWE7WUFDbEQsTUFBTUMsbUJBQW1CLElBQUksQ0FBQzVCLFVBQVUsQ0FBQ2tCLFVBQVUsSUFBSTtZQUN2RCxJQUFJLENBQUNRLGtCQUFrQixDQUFDRSxpQkFBaUIsRUFBRTtnQkFDdkNGLGtCQUFrQixDQUFDRSxpQkFBaUIsR0FBRyxDQUFDO1lBQzVDO1lBQ0EsTUFBTVYsYUFBYVEsa0JBQWtCLENBQUNFLGlCQUFpQjtZQUN2RCxNQUFNQyxZQUFZLEVBQUU7WUFDcEIsTUFBTUMseUJBQXlCO2dCQUMzQkMsU0FBUyxJQUFJLENBQUMvQixVQUFVLENBQUMrQixPQUFPLElBQUk7WUFDeEM7WUFDQSw2QkFBNkI7WUFDN0JDLE9BQU9DLGNBQWMsQ0FBQ0gsd0JBQXdCLGlCQUFpQjtnQkFDM0RJLE9BQU9SO2dCQUNQLGlJQUFpSTtnQkFDaklTLFlBQVk7WUFDaEI7WUFDQSxNQUFNQyx1QkFBdUIsTUFBTSxJQUFJLENBQUNmLElBQUksQ0FBQ1gsS0FBSyxDQUFDQyxTQUFTLENBQUMwQixtQkFBbUIsQ0FBQzNDLElBQUksQ0FBQztnQkFDbEZ3QjtnQkFDQSxnRUFBZ0U7Z0JBQ2hFWTtnQkFDQUQ7Z0JBQ0E3QixZQUFZLElBQUksQ0FBQ0EsVUFBVTtnQkFDM0JNLFFBQVEsSUFBSSxDQUFDZSxJQUFJO1lBQ3JCO1lBQ0EsSUFBSSxPQUFReEMsQ0FBQUEsc0JBQXNCLE9BQU8sS0FBSyxJQUFJQSxtQkFBbUJ5RCxJQUFJLE1BQU0sYUFBYTtnQkFDeEZDLFFBQVF6SSxLQUFLLENBQUMsc0RBQXNELE1BQU0sc0hBQXNILE1BQU07WUFDMU07WUFDQSxNQUFNK0UsbUJBQW1CeUQsSUFBSSxDQUFDRixxQkFBcUJsQixVQUFVLEVBQUVrQixxQkFBcUJQLFNBQVMsRUFBRU8scUJBQXFCTixzQkFBc0I7WUFDMUksTUFBTSxJQUFJLENBQUNULElBQUksQ0FBQ1gsS0FBSyxDQUFDQyxTQUFTLENBQUM2QixhQUFhLENBQUM5QyxJQUFJLENBQUMzSCxvREFBUUEsQ0FBQyxDQUFDLEdBQUdxSyxzQkFBc0I7Z0JBQ2xGdkQ7WUFDSjtRQUNKO1FBQ0EsSUFBSSxDQUFDNEQsR0FBRyxHQUFHNUQ7UUFDWCxJQUFJLENBQUM0QyxNQUFNLEdBQUc7UUFDZCxtQkFBbUI7UUFDbkIsTUFBTWlCLGdCQUFnQixNQUFNN0QsbUJBQW1CeUMsR0FBRyxDQUFDL0Q7UUFDbkQvRCxnREFBTUEsQ0FBQ2tKLGVBQWUsQ0FBQyxFQUFFaEosZ0RBQU9BLENBQUMsSUFBSSxDQUFDc0csVUFBVSxFQUFFLHFCQUFxQixFQUFFekMsT0FBTyxDQUFDLENBQUM7UUFDbEYsTUFBTW9GLG9CQUFvQixJQUFJLENBQUNDLGFBQWEsQ0FBQ0YsZUFBZXhGO1FBQzVELElBQUksQ0FBQ3NFLGFBQWE7WUFDZCxPQUFPbUI7UUFDWDtRQUNBLE1BQU1FLGdCQUFnQixNQUFNRjtRQUM1QixPQUFPRTtJQUNYO0lBQ0FELGNBQWNGLGFBQWEsRUFBRXhGLEVBQUUsRUFBRTtRQUM3QixTQUFTNEYsZUFBZXJELEdBQUcsRUFBRXZDLEVBQUU7WUFDM0IsSUFBSXVDLE9BQU8sT0FBT0EsUUFBUSxZQUFZdUMsT0FBT2UsWUFBWSxDQUFDdEQsUUFBUSxDQUFDdUMsT0FBT2dCLHdCQUF3QixDQUFDdkQsS0FBS3dELE9BQU9DLEdBQUcsQ0FBQyxrQkFBa0I7Z0JBQ2pJbEIsT0FBT0MsY0FBYyxDQUFDeEMsS0FBS3dELE9BQU9DLEdBQUcsQ0FBQyxpQkFBaUI7b0JBQ25EaEIsT0FBT2hGO29CQUNQaUYsWUFBWTtnQkFDaEI7WUFDSjtRQUNKO1FBQ0EsSUFBSU8seUJBQXlCNUQsU0FBUztZQUNsQyxPQUFPO2dCQUNILE1BQU1XLE1BQU0sTUFBTWlEO2dCQUNsQiw4Q0FBOEM7Z0JBQzlDSSxlQUFlckQsS0FBS3ZDO2dCQUNwQixPQUFPdUM7WUFDWDtRQUNKLE9BQU87WUFDSCxPQUFPO2dCQUNILE1BQU1BLE1BQU1pRDtnQkFDWiw4Q0FBOEM7Z0JBQzlDSSxlQUFlckQsS0FBS3ZDO2dCQUNwQixPQUFPdUM7WUFDWDtRQUNKO0lBQ0o7SUFDQTBELFlBQVksRUFBRW5ELFVBQVUsRUFBRXFCLElBQUksRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQ0ksTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDZ0IsR0FBRyxHQUFHekI7UUFDWCxJQUFJLENBQUNoQixVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ3FCLElBQUksR0FBR0E7SUFDaEI7QUFDSjtBQUVBLE1BQU0rQjtJQUNGQyxHQUFHQyxFQUFFLEVBQUU7UUFDSCxJQUFJLE9BQU9BLE9BQU8sWUFBWTtZQUMxQixJQUFJLENBQUN6QyxTQUFTLENBQUMwQyxHQUFHLENBQUNEO1FBQ3ZCO0lBQ0o7SUFDQUUsS0FBS0YsRUFBRSxFQUFFO1FBQ0wsNERBQTREO1FBQzVELE1BQU1HLE9BQU8sSUFBSTtRQUNqQixJQUFJLENBQUNKLEVBQUUsQ0FBQyxTQUFTSyxRQUFRLEdBQUdDLElBQUk7WUFDNUJGLEtBQUtHLE1BQU0sQ0FBQ0Y7WUFDWix5Q0FBeUM7WUFDekMsT0FBT0osR0FBR08sS0FBSyxDQUFDLE1BQU1GO1FBQzFCO0lBQ0o7SUFDQWpFLEtBQUssR0FBR29FLElBQUksRUFBRTtRQUNWLElBQUlDO1FBQ0osSUFBSSxJQUFJLENBQUNsRCxTQUFTLENBQUNDLElBQUksR0FBRyxHQUFHO1lBQ3pCLHlDQUF5QztZQUN6QyxJQUFJLENBQUNELFNBQVMsQ0FBQ3pDLE9BQU8sQ0FBQyxDQUFDa0Y7Z0JBQ3BCUyxTQUFTVCxNQUFNUTtZQUNuQjtRQUNKO1FBQ0EsT0FBT0M7SUFDWDtJQUNBSCxPQUFPTixFQUFFLEVBQUU7UUFDUCxJQUFJLENBQUN6QyxTQUFTLENBQUNtRCxNQUFNLENBQUNWO0lBQzFCO0lBQ0FXLFlBQVk7UUFDUixJQUFJLENBQUNwRCxTQUFTLENBQUNxRCxLQUFLO0lBQ3hCO0lBQ0FmLFlBQVlqRCxJQUFJLENBQUM7UUFDYixJQUFJLENBQUNBLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ1csU0FBUyxHQUFHLElBQUlzRDtRQUNyQixJQUFJakUsTUFBTTtZQUNOLElBQUksQ0FBQ0EsSUFBSSxHQUFHQTtRQUNoQjtJQUNKO0FBQ0o7QUFFQSxNQUFNa0Usa0JBQWtCaEI7SUFDcEIxRCxLQUFLLEdBQUdvRSxJQUFJLEVBQUU7UUFDVixJQUFJQztRQUNKLE1BQU1NLEtBQUtDLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUMxRCxTQUFTO1FBQ3BDLElBQUl3RCxHQUFHbEcsTUFBTSxHQUFHLEdBQUc7WUFDZixJQUFJeEUsSUFBSTtZQUNSLE1BQU02SyxPQUFPLENBQUNDO2dCQUNWLElBQUlBLFNBQVMsT0FBTztvQkFDaEIsT0FBTyxPQUFPLGdCQUFnQjtnQkFDbEMsT0FBTyxJQUFJOUssSUFBSTBLLEdBQUdsRyxNQUFNLEVBQUU7b0JBQ3RCLE9BQU9XLFFBQVFDLE9BQU8sQ0FBQ3NGLEVBQUUsQ0FBQzFLLElBQUksQ0FBQ2tLLEtBQUssQ0FBQyxNQUFNQyxPQUFPbEUsSUFBSSxDQUFDNEU7Z0JBQzNELE9BQU87b0JBQ0gsT0FBT0M7Z0JBQ1g7WUFDSjtZQUNBVixTQUFTUztRQUNiO1FBQ0EsT0FBTzFGLFFBQVFDLE9BQU8sQ0FBQ2dGO0lBQzNCO0FBQ0o7QUFFQSw2RUFBNkU7QUFDN0UsU0FBU1csZ0JBQWdCQyxZQUFZLEVBQUVDLFlBQVk7SUFDL0MsSUFBSSxDQUFDaEwsZ0RBQVFBLENBQUNnTCxlQUFlO1FBQ3pCLE9BQU87SUFDWDtJQUNBLElBQUlELGlCQUFpQkMsY0FBYztRQUMvQixnREFBZ0Q7UUFDaEQsSUFBSSxNQUFNQyxPQUFPRixhQUFhO1lBQzFCLElBQUksQ0FBRUUsQ0FBQUEsT0FBT0QsWUFBVyxHQUFJO2dCQUN4QixPQUFPO1lBQ1g7UUFDSjtJQUNKO0lBQ0EsT0FBTztBQUNYO0FBQ0EsTUFBTUUsMEJBQTBCMUI7SUFDNUIxRCxLQUFLb0UsSUFBSSxFQUFFO1FBQ1AsSUFBSSxDQUFDbEssZ0RBQVFBLENBQUNrSyxPQUFPO1lBQ2pCaEssZ0RBQUtBLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUNvRyxJQUFJLENBQUMsMkJBQTJCLENBQUM7UUFDckU7UUFDQSxLQUFLLE1BQU1vRCxNQUFNLElBQUksQ0FBQ3pDLFNBQVMsQ0FBQztZQUM1QixJQUFJO2dCQUNBLE1BQU1rRSxXQUFXekIsR0FBR1E7Z0JBQ3BCLElBQUlZLGdCQUFnQlosTUFBTWlCLFdBQVc7b0JBQ2pDakIsT0FBT2lCO2dCQUNYLE9BQU87b0JBQ0gsSUFBSSxDQUFDQyxPQUFPLENBQUMsQ0FBQyxpREFBaUQsRUFBRSxJQUFJLENBQUM5RSxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNuRjtnQkFDSjtZQUNKLEVBQUUsT0FBT3pHLEdBQUc7Z0JBQ1JiLGdEQUFJQSxDQUFDYTtnQkFDTCxJQUFJLENBQUN1TCxPQUFPLENBQUN2TDtZQUNqQjtRQUNKO1FBQ0EsT0FBT3FLO0lBQ1g7SUFDQVgsWUFBWWpELElBQUksQ0FBQztRQUNiLEtBQUs7UUFDTCxJQUFJLENBQUM4RSxPQUFPLEdBQUdsTCw0Q0FBS0E7UUFDcEIsSUFBSSxDQUFDb0csSUFBSSxHQUFHQTtJQUNoQjtBQUNKO0FBRUEsTUFBTStFLDJCQUEyQjdCO0lBQzdCMUQsS0FBS29FLElBQUksRUFBRTtRQUNQLElBQUksQ0FBQ2xLLGdEQUFRQSxDQUFDa0ssT0FBTztZQUNqQmhLLGdEQUFLQSxDQUFDLENBQUMsMkJBQTJCLEVBQUUsSUFBSSxDQUFDb0csSUFBSSxDQUFDLHlCQUF5QixDQUFDO1FBQzVFO1FBQ0EsTUFBTW1FLEtBQUtDLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUMxRCxTQUFTO1FBQ3BDLElBQUl3RCxHQUFHbEcsTUFBTSxHQUFHLEdBQUc7WUFDZixJQUFJeEUsSUFBSTtZQUNSLE1BQU11TCxlQUFlLENBQUN6TDtnQkFDbEJiLGdEQUFJQSxDQUFDYTtnQkFDTCxJQUFJLENBQUN1TCxPQUFPLENBQUN2TDtnQkFDYixPQUFPcUs7WUFDWDtZQUNBLE1BQU1VLE9BQU8sQ0FBQ1c7Z0JBQ1YsSUFBSVQsZ0JBQWdCWixNQUFNcUIsV0FBVztvQkFDakNyQixPQUFPcUI7b0JBQ1AsSUFBSXhMLElBQUkwSyxHQUFHbEcsTUFBTSxFQUFFO3dCQUNmLElBQUk7NEJBQ0EsT0FBT1csUUFBUUMsT0FBTyxDQUFDc0YsRUFBRSxDQUFDMUssSUFBSSxDQUFDbUssT0FBT2xFLElBQUksQ0FBQzRFLE1BQU1VO3dCQUNyRCxFQUFFLE9BQU96TCxHQUFHOzRCQUNSLE9BQU95TCxhQUFhekw7d0JBQ3hCO29CQUNKO2dCQUNKLE9BQU87b0JBQ0gsSUFBSSxDQUFDdUwsT0FBTyxDQUFDLENBQUMsOENBQThDLEVBQUUsSUFBSSxDQUFDOUUsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDcEY7Z0JBQ0EsT0FBTzREO1lBQ1g7WUFDQSxPQUFPaEYsUUFBUUMsT0FBTyxDQUFDeUYsS0FBS1Y7UUFDaEM7UUFDQSxPQUFPaEYsUUFBUUMsT0FBTyxDQUFDK0U7SUFDM0I7SUFDQVgsWUFBWWpELElBQUksQ0FBQztRQUNiLEtBQUs7UUFDTCxJQUFJLENBQUM4RSxPQUFPLEdBQUdsTCw0Q0FBS0E7UUFDcEIsSUFBSSxDQUFDb0csSUFBSSxHQUFHQTtJQUNoQjtBQUNKO0FBRUEsTUFBTWtGO0lBQ0YxRyxZQUFZTCxNQUFNLEVBQUU7UUFDaEI3RSxnREFBTUEsQ0FBQ1MsZ0RBQWFBLENBQUNvRSxTQUFTO1FBQzlCLG9EQUFvRDtRQUNwRCxNQUFNZ0gsYUFBYWhILE9BQU9mLElBQUk7UUFDOUI5RCxnREFBTUEsQ0FBQzZMLFlBQVk7UUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQ0MsZUFBZSxDQUFDRCxXQUFXLEVBQUU7WUFDbkMsSUFBSSxDQUFDQyxlQUFlLENBQUNELFdBQVcsR0FBR2hIO1lBQ25DMkQsT0FBT3VELElBQUksQ0FBQyxJQUFJLENBQUM1RSxTQUFTLEVBQUV2QyxPQUFPLENBQUMsQ0FBQ3lHO2dCQUNqQyxNQUFNVyxhQUFhbkgsTUFBTSxDQUFDd0csSUFBSTtnQkFDOUIsSUFBSVcsWUFBWTtvQkFDWixJQUFJLENBQUM3RSxTQUFTLENBQUNrRSxJQUFJLENBQUN4QixFQUFFLENBQUNtQztnQkFDM0I7WUFDSjtRQUNKO0lBQ0o7SUFDQUMsYUFBYUosVUFBVSxFQUFFO1FBQ3JCN0wsZ0RBQU1BLENBQUM2TCxZQUFZO1FBQ25CLE1BQU1oSCxTQUFTLElBQUksQ0FBQ2lILGVBQWUsQ0FBQ0QsV0FBVztRQUMvQzdMLGdEQUFNQSxDQUFDNkUsUUFBUSxDQUFDLFlBQVksRUFBRWdILFdBQVcsb0JBQW9CLENBQUM7UUFDOURyRCxPQUFPdUQsSUFBSSxDQUFDbEgsUUFBUUQsT0FBTyxDQUFDLENBQUN5RztZQUN6QixJQUFJQSxRQUFRLFFBQVE7Z0JBQ2hCLElBQUksQ0FBQ2xFLFNBQVMsQ0FBQ2tFLElBQUksQ0FBQ2pCLE1BQU0sQ0FBQ3ZGLE1BQU0sQ0FBQ3dHLElBQUk7WUFDMUM7UUFDSjtJQUNKO0lBQ0Esd0RBQXdEO0lBQ3hEYSxRQUFRLEVBQUUvRSxTQUFTLEVBQUUyRSxlQUFlLEVBQUUsRUFBRTtRQUNwQ3RELE9BQU91RCxJQUFJLENBQUM1RSxXQUFXdkMsT0FBTyxDQUFDLENBQUN1SDtZQUM1Qm5NLGdEQUFNQSxDQUFDLENBQUMsSUFBSSxDQUFDbUgsU0FBUyxDQUFDZ0YsU0FBUyxFQUFFLENBQUMsVUFBVSxFQUFFQSxTQUFTLHlDQUF5QyxDQUFDO1lBQ2xHLElBQUksQ0FBQ2hGLFNBQVMsQ0FBQ2dGLFNBQVMsR0FBR2hGLFNBQVMsQ0FBQ2dGLFNBQVM7UUFDbEQ7UUFDQTNELE9BQU91RCxJQUFJLENBQUNELGlCQUFpQmxILE9BQU8sQ0FBQyxDQUFDaUg7WUFDbEM3TCxnREFBTUEsQ0FBQyxDQUFDLElBQUksQ0FBQzhMLGVBQWUsQ0FBQ0QsV0FBVyxFQUFFLENBQUMsWUFBWSxFQUFFQSxXQUFXLHlDQUF5QyxDQUFDO1lBQzlHLElBQUksQ0FBQzNHLFdBQVcsQ0FBQzRHLGVBQWUsQ0FBQ0QsV0FBVztRQUNoRDtJQUNKO0lBQ0FsQyxZQUFZeEMsU0FBUyxDQUFDO1FBQ2xCLElBQUksQ0FBQzJFLGVBQWUsR0FBRyxDQUFDO1FBQ3hCLElBQUksQ0FBQzNFLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDaUYsYUFBYSxHQUFHNUQsT0FBT3VELElBQUksQ0FBQzVFO0lBQ3JDO0FBQ0o7QUFFQSxTQUFTa0YsbUJBQW1CQyxhQUFhO0lBQ3JDLE9BQU8vTixvREFBUUEsQ0FBQztRQUNaZ08sa0JBQWtCO1FBQ2xCQyxPQUFPO1FBQ1BDLFlBQVk7UUFDWkMsbUJBQW1CO0lBQ3ZCLEdBQUdKO0FBQ1A7QUFDQSxTQUFTSyxrQkFBa0JsSixPQUFPLEVBQUVtSixXQUFXO0lBQzNDLE9BQU9BLFlBQVlDLEdBQUcsQ0FBQyxDQUFDMUM7UUFDcEIsTUFBTTNELGFBQWFuQyxZQUFZWixTQUFTMEcsS0FBSzdGLFdBQVc7UUFDeER0RSxnREFBTUEsQ0FBQ3dHLFlBQVksQ0FBQyxrQkFBa0IsRUFBRTJELEtBQUs3RixXQUFXLENBQUMsMEJBQTBCLEVBQUUsQ0FBQ2tDLGNBQWMxSCxvRUFBWUEsQ0FBQztZQUM3RzBIO1lBQ0EvQztRQUNKLEdBQUcsQ0FBQztRQUNKLE9BQU87WUFDSEUsUUFBUTZDO1lBQ1I4RixlQUFlRCxtQkFBbUJsQztRQUN0QztJQUNKO0FBQ0o7QUFDQSxTQUFTMkMsd0JBQXdCQyxPQUFPO0lBQ3BDLElBQUksQ0FBQ0EsU0FBUztRQUNWLE9BQU8sRUFBRTtJQUNiO0lBQ0EsT0FBT0EsUUFBUUYsR0FBRyxDQUFDLENBQUM5STtRQUNoQixJQUFJQSxXQUFXLEtBQUs7WUFDaEIsT0FBT0E7UUFDWDtRQUNBLElBQUlBLE9BQU9GLFVBQVUsQ0FBQyxPQUFPO1lBQ3pCLE9BQU9FLE9BQU9DLE9BQU8sQ0FBQyxNQUFNO1FBQ2hDO1FBQ0EsT0FBT0Q7SUFDWDtBQUNKO0FBQ0EsU0FBU2lKLGNBQWN4RyxVQUFVLEVBQUVxQixJQUFJLEVBQUVvRixNQUFNLEVBQy9DQyxpQkFBaUIsSUFBSTtJQUNqQixNQUFNLEVBQUVDLFNBQVMsRUFBRUMsb0JBQW9CLEVBQUVDLFdBQVcsRUFBRSxHQUFHSjtJQUN6RCxJQUFJcEYsS0FBS0UsT0FBTyxDQUFDdUYsU0FBUyxFQUFFO1FBQ3hCRCxZQUFZekksT0FBTyxDQUFDLENBQUMySTtZQUNqQixNQUFNLEVBQUVDLFVBQVUsRUFBRSxHQUFHRDtZQUN2QixNQUFNRSxTQUFTNUYsS0FBSzZGLFdBQVcsQ0FBQzVGLEdBQUcsQ0FBQ3RCLFdBQVcxQyxJQUFJO1lBQ25ELElBQUkySixRQUFRO2dCQUNSNUcsZUFBZTtvQkFDWEMsUUFBUWU7b0JBQ1JyQixZQUFZZ0g7b0JBQ1puSSxvQkFBb0JvSSxPQUFPcEksa0JBQWtCO2dCQUNqRDtZQUNKLE9BQU87Z0JBQ0h3QixlQUFlO29CQUNYQyxRQUFRZTtvQkFDUnJCLFlBQVlnSDtvQkFDWm5JLG9CQUFvQm1DO2dCQUN4QjtZQUNKO1FBQ0o7UUFDQSxJQUFJMEYsZ0JBQWdCO1lBQ2hCLE1BQU1TLGVBQWU7Z0JBQ2pCQyxLQUFLO2dCQUNMQyxJQUFJO2dCQUNKQyxhQUFhO1lBQ2pCO1lBQ0FYLFVBQVV2SSxPQUFPLENBQUMsQ0FBQ21KO2dCQUNmLE1BQU0sRUFBRUMsTUFBTUMsS0FBSyxFQUFFQyxVQUFVLEVBQUUsR0FBR25QLGtFQUFVQSxDQUFDO29CQUMzQ2lILEtBQUsrSDtvQkFDTEksSUFBSSxLQUFLO29CQUNUcEksT0FBTzRIO29CQUNQUyxnQkFBZ0IsQ0FBQ3BJLEtBQUtEO3dCQUNsQixNQUFNRSxNQUFNNEIsS0FBS04sVUFBVSxDQUFDSixTQUFTLENBQUNwSSxVQUFVLENBQUNtSCxJQUFJLENBQUM7NEJBQ2xERjs0QkFDQUQ7d0JBQ0o7d0JBQ0EsSUFBSUUsZUFBZW9JLGlCQUFpQjs0QkFDaEMsT0FBT3BJO3dCQUNYO3dCQUNBO29CQUNKO2dCQUNKO2dCQUNBaUksY0FBY0ksU0FBU0MsSUFBSSxDQUFDQyxXQUFXLENBQUNQO1lBQzVDO1FBQ0osT0FBTztZQUNILE1BQU1OLGVBQWU7Z0JBQ2pCQyxLQUFLO2dCQUNMbEgsTUFBTTtZQUNWO1lBQ0F5RyxVQUFVdkksT0FBTyxDQUFDLENBQUNtSjtnQkFDZixNQUFNLEVBQUVDLE1BQU1DLEtBQUssRUFBRUMsVUFBVSxFQUFFLEdBQUduUCxrRUFBVUEsQ0FBQztvQkFDM0NpSCxLQUFLK0g7b0JBQ0xJLElBQUksS0FBSztvQkFDVHBJLE9BQU80SDtvQkFDUFMsZ0JBQWdCLENBQUNwSSxLQUFLRDt3QkFDbEIsTUFBTUUsTUFBTTRCLEtBQUtOLFVBQVUsQ0FBQ0osU0FBUyxDQUFDcEksVUFBVSxDQUFDbUgsSUFBSSxDQUFDOzRCQUNsREY7NEJBQ0FEO3dCQUNKO3dCQUNBLElBQUlFLGVBQWVvSSxpQkFBaUI7NEJBQ2hDLE9BQU9wSTt3QkFDWDt3QkFDQTtvQkFDSjtvQkFDQXdJLGdCQUFnQjtnQkFDcEI7Z0JBQ0FQLGNBQWNJLFNBQVNDLElBQUksQ0FBQ0MsV0FBVyxDQUFDUDtZQUM1QztRQUNKO1FBQ0EsSUFBSWYsZ0JBQWdCO1lBQ2hCLE1BQU1TLGVBQWU7Z0JBQ2pCQyxLQUFLO2dCQUNMQyxJQUFJO2dCQUNKQyxhQUFhO1lBQ2pCO1lBQ0FWLHFCQUFxQnhJLE9BQU8sQ0FBQyxDQUFDOEo7Z0JBQzFCLE1BQU0sRUFBRVYsTUFBTVcsTUFBTSxFQUFFVCxVQUFVLEVBQUUsR0FBR25QLGtFQUFVQSxDQUFDO29CQUM1Q2lILEtBQUswSTtvQkFDTFAsSUFBSSxLQUFLO29CQUNUcEksT0FBTzRIO29CQUNQUyxnQkFBZ0IsQ0FBQ3BJLEtBQUtEO3dCQUNsQixNQUFNRSxNQUFNNEIsS0FBS04sVUFBVSxDQUFDSixTQUFTLENBQUNwSSxVQUFVLENBQUNtSCxJQUFJLENBQUM7NEJBQ2xERjs0QkFDQUQ7d0JBQ0o7d0JBQ0EsSUFBSUUsZUFBZW9JLGlCQUFpQjs0QkFDaEMsT0FBT3BJO3dCQUNYO3dCQUNBO29CQUNKO2dCQUNKO2dCQUNBaUksY0FBY0ksU0FBU0MsSUFBSSxDQUFDQyxXQUFXLENBQUNHO1lBQzVDO1FBQ0osT0FBTztZQUNILE1BQU1oQixlQUFlO2dCQUNqQmlCLGVBQWU7Z0JBQ2ZsSSxNQUFNLENBQUNGLGNBQWMsT0FBTyxLQUFLLElBQUlBLFdBQVdFLElBQUksTUFBTSxXQUFXLFdBQVc7WUFDcEY7WUFDQTBHLHFCQUFxQnhJLE9BQU8sQ0FBQyxDQUFDOEo7Z0JBQzFCLE1BQU0sRUFBRUcsUUFBUUMsUUFBUSxFQUFFWixVQUFVLEVBQUUsR0FBR2xQLG9FQUFZQSxDQUFDO29CQUNsRGdILEtBQUswSTtvQkFDTFAsSUFBSSxLQUFLO29CQUNUcEksT0FBTzRIO29CQUNQOUgsa0JBQWtCLENBQUNHLEtBQUtEO3dCQUNwQixNQUFNRSxNQUFNNEIsS0FBS04sVUFBVSxDQUFDSixTQUFTLENBQUNuSSxZQUFZLENBQUNrSCxJQUFJLENBQUM7NEJBQ3BERjs0QkFDQUQ7d0JBQ0o7d0JBQ0EsSUFBSUUsZUFBZUUsbUJBQW1COzRCQUNsQyxPQUFPRjt3QkFDWDt3QkFDQTtvQkFDSjtvQkFDQThJLGtCQUFrQjtnQkFDdEI7Z0JBQ0FiLGNBQWNJLFNBQVNDLElBQUksQ0FBQ0MsV0FBVyxDQUFDTTtZQUM1QztRQUNKO0lBQ0o7QUFDSjtBQUVBLFNBQVNFLGlCQUFpQnhJLFVBQVUsRUFBRXlJLGNBQWM7SUFDaEQsTUFBTUMsa0JBQWtCbk8sZ0RBQThCQSxDQUFDa087SUFDdkQsSUFBSSxDQUFDQyxnQkFBZ0JsSixHQUFHLEVBQUU7UUFDdEIxRixnREFBS0EsQ0FBQyxDQUFDLDZCQUE2QixFQUFFa0csV0FBVzFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQztJQUNsRjtJQUNBLElBQUlxTCxXQUFXbFEsc0VBQWNBLENBQUNnUSxnQkFBZ0JDLGdCQUFnQmxKLEdBQUc7SUFDakUsSUFBSSxDQUFDdEgsb0VBQVlBLE1BQU0sQ0FBQ3lRLFNBQVN0TCxVQUFVLENBQUMsU0FBUztRQUNqRHNMLFdBQVcsQ0FBQyxNQUFNLEVBQUVBLFNBQVMsQ0FBQztJQUNsQztJQUNBM0ksV0FBV0UsSUFBSSxHQUFHd0ksZ0JBQWdCeEksSUFBSTtJQUN0Q0YsV0FBV0MsZUFBZSxHQUFHeUksZ0JBQWdCdEosVUFBVTtJQUN2RFksV0FBV3BCLEtBQUssR0FBRytKO0lBQ25CM0ksV0FBVytCLE9BQU8sR0FBRzBHLGVBQWUxRyxPQUFPO0lBQzNDL0IsV0FBVzRJLFlBQVksR0FBR0gsZUFBZUcsWUFBWTtBQUN6RDtBQUNBLFNBQVNDO0lBQ0wsT0FBTztRQUNIdkwsTUFBTTtRQUNOLE1BQU13TCxjQUFjbkYsSUFBSTtZQUNwQixNQUFNLEVBQUV4RyxNQUFNLEVBQUVNLGNBQWMsRUFBRUYsTUFBTSxFQUFFK0MsTUFBTSxFQUFFTixVQUFVLEVBQUUsR0FBRzJEO1lBQy9ELElBQUksQ0FBQ3hKLGdEQUFxQkEsQ0FBQ2dELFdBQVcsQ0FBQzlDLGdEQUFpQkEsQ0FBQzhDLFNBQVM7Z0JBQzlELE1BQU0sRUFBRXNMLGNBQWMsRUFBRU0sY0FBYyxFQUFFLEdBQUcsTUFBTXpJLE9BQU8wSSxlQUFlLENBQUNDLHNCQUFzQixDQUFDOUw7Z0JBQy9GcUwsaUJBQWlCeEksWUFBWXlJO2dCQUM3QixvQkFBb0I7Z0JBQ3BCLE1BQU1TLGlCQUFpQjtvQkFDbkIvTDtvQkFDQTJJLGVBQWU7d0JBQ1hoSSxhQUFhTDt3QkFDYjhJLFNBQVM7NEJBQ0xoSjt5QkFDSDt3QkFDRHdJLGtCQUFrQjt3QkFDbEJDLE9BQU87d0JBQ1BDLFlBQVk7b0JBQ2hCO2dCQUNKO2dCQUNBLE1BQU1RLFNBQVMsTUFBTW5HLE9BQU9HLGFBQWEsQ0FBQ0MsS0FBSyxDQUFDQyxTQUFTLENBQUN3SSxxQkFBcUIsQ0FBQ3pKLElBQUksQ0FBQztvQkFDakZZO29CQUNBNEk7b0JBQ0FsSjtvQkFDQTdDO29CQUNBc0w7b0JBQ0FNO2dCQUNKO2dCQUNBLElBQUl0QyxRQUFRO29CQUNSRCxjQUFjeEcsWUFBWU0sUUFBUW1HLFFBQVE7Z0JBQzlDO2dCQUNBLE9BQU8xTyxvREFBUUEsQ0FBQyxDQUFDLEdBQUc0TCxNQUFNO29CQUN0QjhFO2dCQUNKO1lBQ0o7WUFDQSxPQUFPOUU7UUFDWDtJQUNKO0FBQ0o7QUFFQSxPQUFPO0FBQ1AsZUFBZTtBQUNmLFNBQVN5RixRQUFRbE0sRUFBRTtJQUNmLE1BQU1tTSxZQUFZbk0sR0FBR29NLEtBQUssQ0FBQztJQUMzQixJQUFJRCxVQUFVbEwsTUFBTSxLQUFLLEdBQUc7UUFDeEIsT0FBTztZQUNIYixNQUFNK0wsU0FBUyxDQUFDLEVBQUU7WUFDbEJ0SCxTQUFTZjtRQUNiO0lBQ0osT0FBTyxJQUFJcUksVUFBVWxMLE1BQU0sS0FBSyxHQUFHO1FBQy9CLE9BQU87WUFDSGIsTUFBTStMLFNBQVMsQ0FBQyxFQUFFO1lBQ2xCdEgsU0FBU3NILFNBQVMsQ0FBQyxFQUFFO1FBQ3pCO0lBQ0osT0FBTztRQUNILE9BQU87WUFDSC9MLE1BQU0rTCxTQUFTLENBQUMsRUFBRTtZQUNsQnRILFNBQVNzSCxTQUFTLENBQUMsRUFBRTtRQUN6QjtJQUNKO0FBQ0o7QUFDQSxvRUFBb0U7QUFDcEUsU0FBU0UsbUJBQW1CUixjQUFjLEVBQUUvSSxVQUFVLEVBQUV3SixRQUFRLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFDLENBQUMsRUFBRWpCLGNBQWM7SUFDL0YsTUFBTXZMLEtBQUt4RCxnREFBT0EsQ0FBQ3NHO0lBQ25CLE1BQU0sRUFBRWtDLE9BQU95SCxhQUFhLEVBQUUsR0FBR2xQLGdEQUFrQkEsQ0FBQ3NPLGdCQUFnQjdMO0lBQ3BFLE1BQU0wTSwwQkFBMEJuQixrQkFBa0JrQjtJQUNsRCxJQUFJQywyQkFBMkIsQ0FBQ2xSLDBFQUFrQkEsQ0FBQ2tSLDBCQUEwQjtRQUN6RUosU0FBU0kseUJBQXlCNUosWUFBWXlKO1FBQzlDLElBQUlHLHdCQUF3QkMsV0FBVyxFQUFFO1lBQ3JDLE1BQU1DLGFBQWE5SCxPQUFPdUQsSUFBSSxDQUFDcUUsd0JBQXdCQyxXQUFXO1lBQ2xFLEtBQUssTUFBTWhGLE9BQU9pRixXQUFXO2dCQUN6QixJQUFJSixJQUFJLENBQUM3RSxJQUFJLEVBQUU7b0JBQ1g7Z0JBQ0o7Z0JBQ0E2RSxJQUFJLENBQUM3RSxJQUFJLEdBQUc7Z0JBQ1osTUFBTWtGLGdCQUFnQlgsUUFBUXZFO2dCQUM5QixNQUFNbUYsY0FBY0osd0JBQXdCQyxXQUFXLENBQUNoRixJQUFJO2dCQUM1RDBFLG1CQUFtQlIsZ0JBQWdCO29CQUMvQnpMLE1BQU15TSxjQUFjek0sSUFBSTtvQkFDeEJ5RSxTQUFTaUksWUFBWUMsY0FBYztnQkFDdkMsR0FBR1QsVUFBVSxPQUFPRSxNQUFNMUk7WUFDOUI7UUFDSjtJQUNKO0FBQ0o7QUFDQSxrREFBa0Q7QUFDbEQsU0FBU21JLHNCQUFzQjdJLE1BQU0sRUFBRTRJLGNBQWMsRUFBRS9MLE1BQU0sRUFBRTRMLGNBQWMsRUFBRU4sY0FBYztJQUN6RixNQUFNOUIsWUFBWSxFQUFFO0lBQ3BCLE1BQU11RCxXQUFXLEVBQUU7SUFDbkIsTUFBTXJELGNBQWMsRUFBRTtJQUN0QixNQUFNc0QsdUJBQXVCLElBQUloRztJQUNqQyxNQUFNaUcsd0JBQXdCLElBQUlqRztJQUNsQyxNQUFNLEVBQUU1QyxPQUFPLEVBQUUsR0FBR2pCO0lBQ3BCLE1BQU0sRUFBRXdGLGVBQWV1RSxpQkFBaUIsRUFBRSxHQUFHbkI7SUFDN0MsTUFBTSxFQUFFakQsVUFBVSxFQUFFLEdBQUdvRTtJQUN2QixNQUFNWCxPQUFPLENBQUM7SUFDZEgsbUJBQW1CUixnQkFBZ0I1TCxRQUFRLENBQUNtTixvQkFBb0J0SyxZQUFZeUo7UUFDeEUsSUFBSTNEO1FBQ0osSUFBSTJELFFBQVE7WUFDUjNELGdCQUFnQnVFO1FBQ3BCLE9BQU87WUFDSCxJQUFJL0YsTUFBTWlHLE9BQU8sQ0FBQ3RFLGFBQWE7Z0JBQzNCLGlEQUFpRDtnQkFDakQsTUFBTXVFLG9CQUFvQnZFLFdBQVczSCxJQUFJLENBQUMsQ0FBQ21NO29CQUN2QyxJQUFJQSxhQUFhM00sV0FBVyxLQUFLa0MsV0FBVzFDLElBQUksSUFBSW1OLGFBQWEzTSxXQUFXLEtBQUtrQyxXQUFXckMsS0FBSyxFQUFFO3dCQUMvRixPQUFPO29CQUNYO29CQUNBLE9BQU87Z0JBQ1g7Z0JBQ0EsSUFBSSxDQUFDNk0sbUJBQW1CO29CQUNwQjtnQkFDSjtnQkFDQTFFLGdCQUFnQkQsbUJBQW1CMkU7WUFDdkMsT0FBTyxJQUFJdkUsZUFBZSxNQUFNO2dCQUM1QkgsZ0JBQWdCdUU7WUFDcEIsT0FBTztnQkFDSDtZQUNKO1FBQ0o7UUFDQSxNQUFNSyxpQkFBaUJqUyxzRUFBY0EsQ0FBQzZSLG9CQUFvQi9QLGdEQUE4QkEsQ0FBQytQLG9CQUFvQjlLLEdBQUc7UUFDaEgsSUFBSWtMLGdCQUFnQjtZQUNoQjdELFlBQVlySSxJQUFJLENBQUM7Z0JBQ2JsQixNQUFNMEMsV0FBVzFDLElBQUk7Z0JBQ3JCMEosWUFBWTtvQkFDUjFKLE1BQU0wQyxXQUFXMUMsSUFBSTtvQkFDckJzQixPQUFPOEw7b0JBQ1B4SyxNQUFNLHFCQUFxQm9LLHFCQUFxQkEsbUJBQW1CSyxlQUFlLEdBQUc7b0JBQ3JGMUssaUJBQWlCLGdCQUFnQnFLLHFCQUFxQkEsbUJBQW1CbEwsVUFBVSxHQUFHWSxXQUFXMUMsSUFBSTtvQkFDckc0RCxZQUFZO29CQUNaYSxTQUFTLGFBQWF1SSxxQkFBcUJBLG1CQUFtQnZJLE9BQU8sR0FBR2Y7Z0JBQzVFO2dCQUNBeEIsS0FBS2tMO1lBQ1Q7UUFDSjtRQUNBLElBQUlFLG1CQUFtQixhQUFhTixxQkFBcUJBLG1CQUFtQk8sT0FBTyxHQUFHLEVBQUU7UUFDeEYsTUFBTUMsMkJBQTJCeEUsd0JBQXdCUixjQUFjUyxPQUFPO1FBQzlFLElBQUl1RSx5QkFBeUIzTSxNQUFNLElBQUksYUFBYW1NLG9CQUFvQjtZQUNwRSxJQUFJUztZQUNKSCxtQkFBbUJOLHNCQUFzQixPQUFPLEtBQUssSUFBSSxDQUFDUyw4QkFBOEJULG1CQUFtQk8sT0FBTyxLQUFLLE9BQU8sS0FBSyxJQUFJRSw0QkFBNEJDLE1BQU0sQ0FBQyxDQUFDdkUsUUFBUXdFO2dCQUMvSyxJQUFJLENBQUNILDRCQUE0QixPQUFPLEtBQUssSUFBSUEseUJBQXlCSSxPQUFPLENBQUNELGdCQUFnQkUsVUFBVSxPQUFPLENBQUMsR0FBRztvQkFDbkgxRSxPQUFPakksSUFBSSxDQUFDeU07Z0JBQ2hCO2dCQUNBLE9BQU94RTtZQUNYLEdBQUcsRUFBRTtRQUNUO1FBQ0EsU0FBUzJFLGFBQWEzRSxNQUFNO1lBQ3hCLE1BQU00RSxZQUFZNUUsT0FBT0osR0FBRyxDQUFDLENBQUNVLFFBQVF0TyxzRUFBY0EsQ0FBQzZSLG9CQUFvQnZEO1lBQ3pFLElBQUlqQixjQUFjd0YsTUFBTSxFQUFFO2dCQUN0QixPQUFPRCxVQUFVQyxNQUFNLENBQUN4RixjQUFjd0YsTUFBTTtZQUNoRDtZQUNBLE9BQU9EO1FBQ1g7UUFDQSxJQUFJVCxrQkFBa0I7WUFDbEIsTUFBTVcsZUFBZVgsaUJBQWlCek0sTUFBTTtZQUM1QyxJQUFJLElBQUlxTixRQUFRLEdBQUdBLFFBQVFELGNBQWNDLFFBQVE7Z0JBQzdDLE1BQU1DLGFBQWFiLGdCQUFnQixDQUFDWSxNQUFNO2dCQUMxQyxNQUFNRSxpQkFBaUIsQ0FBQyxFQUFFMUwsV0FBVzFDLElBQUksQ0FBQyxDQUFDLEVBQUVtTyxXQUFXTixVQUFVLENBQUMsQ0FBQztnQkFDcEU3SyxPQUFPRyxhQUFhLENBQUNDLEtBQUssQ0FBQ0MsU0FBUyxDQUFDZ0wsbUJBQW1CLENBQUNqTSxJQUFJLENBQUM7b0JBQzFEeEMsSUFBSXVPLFdBQVdOLFVBQVUsS0FBSyxNQUFNbkwsV0FBVzFDLElBQUksR0FBR29PO29CQUN0RHBPLE1BQU0wQyxXQUFXMUMsSUFBSTtvQkFDckJtTCxnQkFBZ0I2QjtvQkFDaEJ4RTtvQkFDQTNJLFFBQVE2QztvQkFDUk07Z0JBQ0o7Z0JBQ0EsTUFBTXNMLFlBQVlqUixnREFBWUEsQ0FBQytRO2dCQUMvQixJQUFJRSxXQUFXO29CQUNYO2dCQUNKO2dCQUNBLElBQUk5RixjQUFjQyxnQkFBZ0IsS0FBSyxPQUFPO29CQUMxQ1ksVUFBVW5JLElBQUksSUFBSTRNLGFBQWFLLFdBQVdoRixNQUFNLENBQUNvRixHQUFHLENBQUNDLEtBQUs7b0JBQzFEbkYsVUFBVW5JLElBQUksSUFBSTRNLGFBQWFLLFdBQVdoRixNQUFNLENBQUNvRixHQUFHLENBQUNFLElBQUk7b0JBQ3pEN0IsU0FBUzFMLElBQUksSUFBSTRNLGFBQWFLLFdBQVdoRixNQUFNLENBQUN1RixFQUFFLENBQUNGLEtBQUs7b0JBQ3hENUIsU0FBUzFMLElBQUksSUFBSTRNLGFBQWFLLFdBQVdoRixNQUFNLENBQUN1RixFQUFFLENBQUNELElBQUk7Z0JBQzNELGlEQUFpRDtnQkFDakQsT0FBTyxJQUFJakcsY0FBY0MsZ0JBQWdCLEdBQUcsUUFBUTtvQkFDaERZLFVBQVVuSSxJQUFJLElBQUk0TSxhQUFhSyxXQUFXaEYsTUFBTSxDQUFDb0YsR0FBRyxDQUFDRSxJQUFJO29CQUN6RDdCLFNBQVMxTCxJQUFJLElBQUk0TSxhQUFhSyxXQUFXaEYsTUFBTSxDQUFDdUYsRUFBRSxDQUFDRCxJQUFJO2dCQUMzRDtnQkFDQWxSLGdEQUFZQSxDQUFDNlE7WUFDakI7UUFDSjtJQUNKLEdBQUcsTUFBTWhDLE1BQU1qQjtJQUNmLElBQUlBLGVBQWV3RCxNQUFNLEVBQUU7UUFDdkIsTUFBTUMsc0JBQXNCLENBQUNDLFdBQVdDO1lBQ3BDLE1BQU1DLG1CQUFtQnRSLGdEQUFrQkEsQ0FBQ3VGLE9BQU9xQixhQUFhLEVBQUV5SyxlQUFlRSxVQUFVLEVBQUVILFdBQVc3TCxPQUFPaU0sYUFBYSxDQUFDN0wsS0FBSyxDQUFDQyxTQUFTLENBQUM2TCxZQUFZO1lBQ3pKLGlKQUFpSjtZQUNqSixJQUFJSCxvQkFBb0IsT0FBT0EsaUJBQWlCNUosR0FBRyxLQUFLLFlBQVk7Z0JBQ2hFMkosZUFBZTNGLE1BQU0sQ0FBQ3VGLEVBQUUsQ0FBQ0QsSUFBSSxDQUFDM04sT0FBTyxDQUFDLENBQUMySTtvQkFDbkNvRCxxQkFBcUI1RyxHQUFHLENBQUN3RDtnQkFDN0I7Z0JBQ0FxRixlQUFlM0YsTUFBTSxDQUFDb0YsR0FBRyxDQUFDRSxJQUFJLENBQUMzTixPQUFPLENBQUMsQ0FBQzJJO29CQUNwQ3FELHNCQUFzQjdHLEdBQUcsQ0FBQ3dEO2dCQUM5QjtZQUNKO1FBQ0o7UUFDQTBCLGVBQWV3RCxNQUFNLENBQUM3TixPQUFPLENBQUMsQ0FBQzZOO1lBQzNCLElBQUlRO1lBQ0osTUFBTUMsYUFBYSxDQUFDRCxrQkFBa0JsTCxRQUFRMEssTUFBTSxLQUFLLE9BQU8sS0FBSyxJQUFJUSxlQUFlLENBQUNSLE9BQU9LLFVBQVUsQ0FBQztZQUMzRyxJQUFJLENBQUNJLFlBQVk7Z0JBQ2I7WUFDSjtZQUNBLG9DQUFvQztZQUNwQyxNQUFNQyxnQkFBZ0JWLE9BQU9sSyxPQUFPLEdBQUcySyxXQUFXcE8sSUFBSSxDQUFDLENBQUMxRCxJQUFJQSxFQUFFbUgsT0FBTyxLQUFLa0ssT0FBT2xLLE9BQU8sSUFBSTJLO1lBQzVGLElBQUksQ0FBQ0MsZUFBZTtnQkFDaEI7WUFDSjtZQUNBLE1BQU1DLGlCQUFpQjNSLGdEQUFZQSxDQUFDMFI7WUFDcENDLGVBQWV4TyxPQUFPLENBQUMsQ0FBQ3hEO2dCQUNwQnNSLG9CQUFvQnRSLEdBQUdxUjtZQUMzQjtRQUNKO0lBQ0o7SUFDQSxNQUFNWSxzQkFBc0IzQyxTQUFTb0IsTUFBTSxDQUFDLENBQUN2RSxRQUFRLENBQUNvRCxxQkFBcUIyQyxHQUFHLENBQUMvRjtJQUMvRSxNQUFNZ0csdUJBQXVCcEcsVUFBVTJFLE1BQU0sQ0FBQyxDQUFDdkUsUUFBUSxDQUFDcUQsc0JBQXNCMEMsR0FBRyxDQUFDL0Y7SUFDbEYsT0FBTztRQUNISixXQUFXb0c7UUFDWG5HLHNCQUFzQmlHO1FBQ3RCaEc7SUFDSjtBQUNKO0FBQ0EsTUFBTW1HLDhCQUE4QjtJQUNoQyxPQUFPO1FBQ0gxUCxNQUFNO1FBQ04sTUFBTTZMLHVCQUF1QnhGLElBQUk7WUFDN0IsTUFBTSxFQUFFckQsTUFBTSxFQUFFNEksY0FBYyxFQUFFbEosVUFBVSxFQUFFN0MsTUFBTSxFQUFFNEwsY0FBYyxFQUFFTixjQUFjLEVBQUUsR0FBRzlFO1lBQ3ZGLElBQUl4SixnREFBcUJBLENBQUNnRCxXQUFXOUMsZ0RBQWlCQSxDQUFDOEMsU0FBUztnQkFDNUQsT0FBTztvQkFDSHdKLFdBQVcsRUFBRTtvQkFDYkMsc0JBQXNCLEVBQUU7b0JBQ3hCQyxhQUFhO3dCQUNUOzRCQUNJdkosTUFBTUgsT0FBT0csSUFBSTs0QkFDakJrQyxLQUFLckMsT0FBT3lCLEtBQUs7NEJBQ2pCb0ksWUFBWTtnQ0FDUjFKLE1BQU0wQyxXQUFXMUMsSUFBSTtnQ0FDckJzQixPQUFPekIsT0FBT3lCLEtBQUs7Z0NBQ25Cc0IsTUFBTTtnQ0FDTkQsaUJBQWlCO2dDQUNqQmlCLFlBQVk7NEJBQ2hCO3dCQUNKO3FCQUNIO2dCQUNMO1lBQ0o7WUFDQXNILGlCQUFpQnhJLFlBQVl5STtZQUM3QixNQUFNaEMsU0FBUzBDLHNCQUFzQjdJLFFBQVE0SSxnQkFBZ0JsSixZQUFZK0ksZ0JBQWdCTjtZQUN6RixPQUFPaEM7UUFDWDtJQUNKO0FBQ0o7QUFFQSxTQUFTd0csb0JBQW9CakcsVUFBVSxFQUFFMUcsTUFBTTtJQUMzQyxNQUFNNE0scUJBQXFCL1IsZ0RBQWlDQSxDQUFDO1FBQ3pEbUMsTUFBTWdELE9BQU9pQixPQUFPLENBQUNqRSxJQUFJO1FBQ3pCeUUsU0FBU3pCLE9BQU9pQixPQUFPLENBQUNRLE9BQU87SUFDbkM7SUFDQSxxQ0FBcUM7SUFDckMsTUFBTW9MLG1CQUFtQkQsc0JBQXNCLGlCQUFpQkEsc0JBQXNCQSxtQkFBbUJyRCxXQUFXLElBQUlwUCxnREFBa0JBLENBQUN5UyxtQkFBbUJyRCxXQUFXLEVBQUU3QyxXQUFXMUosSUFBSSxFQUFFNEUsS0FBSztJQUNqTSxJQUFJaUwsb0JBQW9CQSxpQkFBaUJsRCxjQUFjLEVBQUU7UUFDckQsT0FBTztZQUNIaUQ7WUFDQW5FLGdCQUFnQnBOLGdEQUFpQkE7WUFDakM4TSxnQkFBZ0J0TixnREFBaUNBLENBQUM7Z0JBQzlDbUMsTUFBTTBKLFdBQVcxSixJQUFJO2dCQUNyQnlFLFNBQVNvTCxpQkFBaUJsRCxjQUFjO1lBQzVDO1FBQ0o7SUFDSjtJQUNBLE9BQU87UUFDSGlELG9CQUFvQmxNO1FBQ3BCK0gsZ0JBQWdCcE4sZ0RBQWlCQTtRQUNqQzhNLGdCQUFnQnROLGdEQUFpQ0EsQ0FBQztZQUM5Q21DLE1BQU0wSixXQUFXMUosSUFBSTtZQUNyQnlFLFNBQVMsYUFBYWlGLGFBQWFBLFdBQVdqRixPQUFPLEdBQUdmO1FBQzVEO0lBQ0o7QUFDSjtBQUNBLE1BQU1vTTtJQUNGLE1BQU1DLGFBQWFyRyxVQUFVLEVBQUU7UUFDM0IsTUFBTSxFQUFFekYsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDK0wsWUFBWTtRQUNyQyxNQUFNLEVBQUVKLGtCQUFrQixFQUFFekUsY0FBYyxFQUFFTSxjQUFjLEVBQUUsR0FBRyxJQUFJLENBQUNrRSxtQkFBbUIsQ0FBQ2pHO1FBQ3hGLE1BQU0sRUFBRXlCLGdCQUFnQjhFLG9CQUFvQixFQUFFeEUsZ0JBQWdCeUUsaUJBQWlCLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQzlNLEtBQUssQ0FBQ0MsU0FBUyxDQUFDME0sWUFBWSxDQUFDM04sSUFBSSxDQUFDO1lBQzdINkI7WUFDQXlGO1lBQ0FrRztZQUNBekU7WUFDQU07UUFDSjtRQUNBLE9BQU87WUFDSE4sZ0JBQWdCOEU7WUFDaEJ4RSxnQkFBZ0J5RTtRQUNwQjtJQUNKO0lBQ0Esa0RBQWtEO0lBQ2xELE1BQU12RSx1QkFBdUJqQyxVQUFVLEVBQUU7UUFDckMsTUFBTSxFQUFFekYsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDK0wsWUFBWTtRQUNyQyxNQUFNLElBQUksQ0FBQzVNLEtBQUssQ0FBQ0MsU0FBUyxDQUFDOE0sd0JBQXdCLENBQUMvTixJQUFJLENBQUM7WUFDckQ2QjtZQUNBeUY7UUFDSjtRQUNBLElBQUkwRyxlQUFldlMsZ0RBQWlDQSxDQUFDO1lBQ2pEbUMsTUFBTSxJQUFJLENBQUNnUSxZQUFZLENBQUMvTCxPQUFPLENBQUNqRSxJQUFJO1lBQ3BDeUUsU0FBUyxJQUFJLENBQUN1TCxZQUFZLENBQUMvTCxPQUFPLENBQUNRLE9BQU87UUFDOUM7UUFDQSxJQUFJLENBQUMyTCxjQUFjO1lBQ2ZBLGVBQWU7Z0JBQ1gzTCxTQUFTLElBQUksQ0FBQ3VMLFlBQVksQ0FBQy9MLE9BQU8sQ0FBQ1EsT0FBTyxJQUFJO2dCQUM5QzRMLGFBQWE7Z0JBQ2I5RCxhQUFhLENBQUM7WUFDbEI7WUFDQXhPLGdEQUFpQkEsQ0FBQztnQkFDZCxDQUFDLElBQUksQ0FBQ2lTLFlBQVksQ0FBQy9MLE9BQU8sQ0FBQ2pFLElBQUksQ0FBQyxFQUFFb1E7WUFDdEM7UUFDSjtRQUNBLDJLQUEySztRQUMzSywyS0FBMks7UUFDM0ssSUFBSUEsZ0JBQWdCLGlCQUFpQkEsZ0JBQWdCLENBQUNqVCxnREFBa0JBLENBQUNpVCxhQUFhN0QsV0FBVyxFQUFFN0MsV0FBVzFKLElBQUksRUFBRTRFLEtBQUssRUFBRTtZQUN2SCxJQUFJLGFBQWE4RSxjQUFjLFdBQVdBLFlBQVk7Z0JBQ2xEMEcsYUFBYTdELFdBQVcsR0FBRzlSLG9EQUFRQSxDQUFDLENBQUMsR0FBRzJWLGdCQUFnQixPQUFPLEtBQUssSUFBSUEsYUFBYTdELFdBQVcsRUFBRTtvQkFDOUYsQ0FBQzdDLFdBQVcxSixJQUFJLENBQUMsRUFBRTt3QkFDZjJNLGdCQUFnQixhQUFhakQsYUFBYUEsV0FBV2pGLE9BQU8sR0FBR2lGLFdBQVdwSSxLQUFLO29CQUNuRjtnQkFDSjtZQUNKO1FBQ0o7UUFDQSxNQUFNLEVBQUVzTyxrQkFBa0IsRUFBRXpFLGNBQWMsRUFBRU0sY0FBYyxFQUFFLEdBQUcsSUFBSSxDQUFDa0UsbUJBQW1CLENBQUNqRztRQUN4RixNQUFNLEVBQUV5QixnQkFBZ0I4RSxvQkFBb0IsRUFBRXhFLGdCQUFnQnlFLGlCQUFpQixFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUM5TSxLQUFLLENBQUNDLFNBQVMsQ0FBQzBNLFlBQVksQ0FBQzNOLElBQUksQ0FBQztZQUM3SDZCO1lBQ0F5RjtZQUNBa0c7WUFDQXpFO1lBQ0FNO1FBQ0o7UUFDQSxxRUFBcUU7UUFDckUsSUFBSXdFLHNCQUFzQjtZQUN0QixJQUFJN1UsMEVBQWtCQSxDQUFDNlUsdUJBQXVCO2dCQUMxQyxNQUFNSSxjQUFjelYsb0VBQVlBLEtBQUtxVixxQkFBcUJJLFdBQVcsR0FBR0oscUJBQXFCSyxjQUFjLElBQUlMLHFCQUFxQkksV0FBVyxJQUFJO2dCQUNuSixNQUFNRSxpQkFBaUIsTUFBTSxJQUFJLENBQUNDLGVBQWUsQ0FBQ0gsYUFBYTNHLFlBQVksQ0FBQztnQkFDNUUsd0RBQXdEO2dCQUN4RCxNQUFNd0csb0JBQW9CalMsZ0RBQWlDQSxDQUFDeEQsb0RBQVFBLENBQUMsQ0FBQyxHQUFHaVAsWUFBWTtvQkFDakYsc0NBQXNDO29CQUN0Qyw4RUFBOEU7b0JBQzlFcEksT0FBTytPO2dCQUNYLElBQUlFO2dCQUNKLE9BQU87b0JBQ0hwRixnQkFBZ0JvRjtvQkFDaEI5RSxnQkFBZ0J5RTtnQkFDcEI7WUFDSixPQUFPO2dCQUNILE1BQU0sRUFBRS9FLGdCQUFnQnNGLGlCQUFpQixFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUNyTixLQUFLLENBQUNDLFNBQVMsQ0FBQ3FOLGtCQUFrQixDQUFDdE8sSUFBSSxDQUFDO29CQUM3RjZCLFNBQVMsSUFBSSxDQUFDK0wsWUFBWSxDQUFDL0wsT0FBTztvQkFDbEN5RjtvQkFDQXlCLGdCQUFnQjhFO29CQUNoQmhKLE1BQU07Z0JBQ1Y7Z0JBQ0EsT0FBTztvQkFDSGtFLGdCQUFnQnNGO29CQUNoQmhGLGdCQUFnQnlFO2dCQUNwQjtZQUNKO1FBQ0osT0FBTztZQUNILElBQUlyVCxnREFBcUJBLENBQUM2TSxhQUFhO2dCQUNuQyxrRUFBa0U7Z0JBQ2xFLE1BQU02RyxpQkFBaUIsTUFBTSxJQUFJLENBQUNDLGVBQWUsQ0FBQzlHLFdBQVdwSSxLQUFLLEVBQUVvSSxZQUFZLENBQUM7Z0JBQ2pGLHdEQUF3RDtnQkFDeEQsTUFBTXdHLG9CQUFvQmpTLGdEQUFpQ0EsQ0FBQ3lMLFlBQVk2RztnQkFDeEUsTUFBTSxFQUFFcEYsZ0JBQWdCc0YsaUJBQWlCLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ3JOLEtBQUssQ0FBQ0MsU0FBUyxDQUFDcU4sa0JBQWtCLENBQUN0TyxJQUFJLENBQUM7b0JBQzdGNkIsU0FBUyxJQUFJLENBQUMrTCxZQUFZLENBQUMvTCxPQUFPO29CQUNsQ3lGO29CQUNBeUIsZ0JBQWdCb0Y7b0JBQ2hCdEosTUFBTTtnQkFDVjtnQkFDQSxPQUFPO29CQUNIa0UsZ0JBQWdCc0Y7b0JBQ2hCaEYsZ0JBQWdCeUU7Z0JBQ3BCO1lBQ0osT0FBTztnQkFDSDFULGdEQUFLQSxDQUFDLENBQUM7b0RBQzZCLEVBQUVrTixXQUFXMUosSUFBSSxDQUFDLGFBQWEsRUFBRTBKLFdBQVdqRixPQUFPLENBQUM7O3lCQUUvRSxFQUFFaUYsV0FBVzFKLElBQUksQ0FBQyxXQUFXLEVBQUUwSixXQUFXakYsT0FBTyxDQUFDO3VDQUNwQyxFQUFFa00sS0FBS0MsU0FBUyxDQUFDVixtQkFBbUI7UUFDbkUsQ0FBQztZQUNHO1FBQ0o7SUFDSjtJQUNBUCxvQkFBb0JqRyxVQUFVLEVBQUU7UUFDNUIsT0FBT2lHLG9CQUFvQmpHLFlBQVksSUFBSSxDQUFDc0csWUFBWTtJQUM1RDtJQUNBLE1BQU1RLGdCQUFnQkssV0FBVyxFQUFFbkgsVUFBVSxFQUFFb0gsWUFBWSxFQUFFO1FBQ3pELE1BQU1DLGNBQWM7WUFDaEIsSUFBSUMsZUFBZSxJQUFJLENBQUNDLGFBQWEsQ0FBQ2pOLEdBQUcsQ0FBQzZNO1lBQzFDLElBQUlHLGNBQWM7Z0JBQ2QsT0FBT0E7WUFDWDtZQUNBLElBQUk7Z0JBQ0EsSUFBSTdPLE1BQU0sTUFBTSxJQUFJLENBQUNzQixVQUFVLENBQUNKLFNBQVMsQ0FBQzZOLEtBQUssQ0FBQzlPLElBQUksQ0FBQ3lPLGFBQWEsQ0FBQztnQkFDbkUsSUFBSSxDQUFDMU8sT0FBTyxDQUFFQSxDQUFBQSxlQUFlZ1AsUUFBTyxHQUFJO29CQUNwQ2hQLE1BQU0sTUFBTStPLE1BQU1MLGFBQWEsQ0FBQztnQkFDcEM7Z0JBQ0FHLGVBQWUsTUFBTTdPLElBQUlpUCxJQUFJO2dCQUM3QmxWLGdEQUFNQSxDQUFDOFUsYUFBYUssUUFBUSxJQUFJTCxhQUFhL0gsT0FBTyxJQUFJK0gsYUFBYXJDLE1BQU0sRUFBRSxDQUFDLEVBQUVrQyxZQUFZLDZCQUE2QixDQUFDO2dCQUMxSCxJQUFJLENBQUNJLGFBQWEsQ0FBQ0ssR0FBRyxDQUFDVCxhQUFhRztnQkFDcEMsT0FBT0E7WUFDWCxFQUFFLE9BQU9PLEtBQUs7Z0JBQ1YsT0FBTyxJQUFJLENBQUNDLGVBQWUsQ0FBQ1gsWUFBWTtnQkFDeENyVSxnREFBS0EsQ0FBQyxDQUFDLCtCQUErQixFQUFFa04sV0FBVzFKLElBQUksQ0FBQyxzQkFBc0IsRUFBRTZRLFlBQVk7O2FBRS9GLEVBQUVVLElBQUksQ0FBQztZQUNSO1FBQ0o7UUFDQSxNQUFNRSxtQkFBbUI7WUFDckIsTUFBTVQsZUFBZSxNQUFNRDtZQUMzQixNQUFNNUYsaUJBQWlCOVAsb0ZBQTRCQSxDQUFDMlYsY0FBYztnQkFDOUR2TSxTQUFTb007WUFDYjtZQUNBLE1BQU0sRUFBRTFGLGdCQUFnQnNGLGlCQUFpQixFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUNyTixLQUFLLENBQUNDLFNBQVMsQ0FBQ3FOLGtCQUFrQixDQUFDdE8sSUFBSSxDQUFDO2dCQUM3RjZCLFNBQVMsSUFBSSxDQUFDK0wsWUFBWSxDQUFDL0wsT0FBTztnQkFDbEN5RjtnQkFDQXNIO2dCQUNBN0Y7Z0JBQ0EwRjtnQkFDQTVKLE1BQU07WUFDVjtZQUNBLE9BQU93SjtRQUNYO1FBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ2UsZUFBZSxDQUFDWCxZQUFZLEVBQUU7WUFDcEMsSUFBSSxDQUFDVyxlQUFlLENBQUNYLFlBQVksR0FBR1ksbUJBQW1CblAsSUFBSSxDQUFDLENBQUNILE1BQU1BO1FBQ3ZFO1FBQ0EsT0FBTyxJQUFJLENBQUNxUCxlQUFlLENBQUNYLFlBQVk7SUFDNUM7SUFDQWhMLFlBQVltSyxZQUFZLENBQUM7UUFDckIsSUFBSSxDQUFDMEIsbUJBQW1CLEdBQUc7UUFDM0IsSUFBSSxDQUFDVCxhQUFhLEdBQUcsSUFBSVU7UUFDekIsSUFBSSxDQUFDdk8sS0FBSyxHQUFHLElBQUkwRSxhQUFhO1lBQzFCcUksMEJBQTBCLElBQUlySixVQUFVO1lBQ3hDaUosY0FBYyxJQUFJcEksbUJBQW1CO1lBQ3JDK0ksb0JBQW9CLElBQUkvSSxtQkFBbUI7UUFDL0M7UUFDQSxJQUFJLENBQUM2SixlQUFlLEdBQUdyVCw0Q0FBTUEsQ0FBQ3lULGNBQWMsQ0FBQ0Msb0JBQW9CO1FBQ2pFLElBQUksQ0FBQzdCLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDdk0sVUFBVSxHQUFHdU0sYUFBYXZNLFVBQVU7SUFDN0M7QUFDSjtBQUVBLE1BQU1xTztJQUNGLG1DQUFtQztJQUNuQ0MsZUFBZUMsYUFBYSxFQUFFQyxXQUFXLEVBQUU7UUFDdkMsTUFBTSxFQUFFN0MsVUFBVSxFQUFFVCxNQUFNLEVBQUUsR0FBR3BRLGdEQUFrQkEsQ0FBQ3lULGVBQWVDO1FBQ2pFLE1BQU1DLGFBQWF4TixPQUFPdUQsSUFBSSxDQUFDbUg7UUFDL0I4QyxXQUFXcFIsT0FBTyxDQUFDLENBQUNxUjtZQUNoQixNQUFNQyxhQUFhaEQsVUFBVSxDQUFDK0MsVUFBVTtZQUN4Q0MsV0FBV3RSLE9BQU8sQ0FBQyxDQUFDdVI7Z0JBQ2hCLE1BQU10RCxtQkFBbUJ0UixnREFBa0JBLENBQUMsSUFBSSxDQUFDNEcsYUFBYSxFQUFFOE4sV0FBV0UsV0FBVyxJQUFJLENBQUNqUCxLQUFLLENBQUNDLFNBQVMsQ0FBQzZMLFlBQVk7Z0JBQ3ZILElBQUksQ0FBQ0gsb0JBQW9Cc0QsYUFBYUEsVUFBVWxOLEdBQUcsRUFBRTtvQkFDakQsSUFBSSxDQUFDbU4sU0FBUyxDQUFDO3dCQUNYQyxTQUFTSjt3QkFDVGhOLEtBQUtrTixVQUFVbE4sR0FBRzt3QkFDbEJuQixLQUFLcU8sVUFBVXJPLEdBQUc7d0JBQ2xCd08sUUFBUTt3QkFDUjdELFFBQVEwRDt3QkFDUnBMLE1BQU1nTCxZQUFZalMsSUFBSTtvQkFDMUI7Z0JBQ0o7WUFDSjtRQUNKO1FBQ0EsT0FBTztZQUNIb1A7WUFDQVQ7UUFDSjtJQUNKO0lBQ0EsTUFBTThELFVBQVVGLE9BQU8sRUFBRXpCLFlBQVksRUFBRTtRQUNuQyxNQUFNLEVBQUUvTSxJQUFJLEVBQUUsR0FBRyxJQUFJO1FBQ3JCLDhDQUE4QztRQUM5QyxxRkFBcUY7UUFDckYsMkVBQTJFO1FBQzNFLGtHQUFrRztRQUNsRyxNQUFNOEssWUFBWXBRLGdEQUFzQkEsQ0FBQztZQUNyQzhUO1lBQ0F6QjtZQUNBMUIsWUFBWXJMLEtBQUtFLE9BQU8sQ0FBQzBLLE1BQU07UUFDbkM7UUFDQSxJQUFJRSxhQUFhLE9BQU8sS0FBSyxJQUFJQSxVQUFVNkQsS0FBSyxFQUFFO1lBQzlDLE1BQU1sUixRQUFRbVIsR0FBRyxDQUFDOUQsVUFBVTZELEtBQUssQ0FBQzNKLEdBQUcsQ0FBQyxPQUFPbkY7Z0JBQ3pDLE1BQU1wQyxRQUFRbVIsR0FBRyxDQUFDLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNoUCxZQUFZO29CQUNqRGlQLFVBQVVoRSxVQUFVZ0UsUUFBUTtnQkFDaEM7Z0JBQ0E7WUFDSjtRQUNKO1FBQ0EsTUFBTUMsZUFBZSxNQUFNLElBQUksQ0FBQzFQLEtBQUssQ0FBQ0MsU0FBUyxDQUFDMFAsZUFBZSxDQUFDM1EsSUFBSSxDQUFDO1lBQ2pFbVE7WUFDQTFEO1lBQ0FGLFFBQVE1SyxLQUFLRSxPQUFPLENBQUMwSyxNQUFNO1lBQzNCM0wsUUFBUWU7UUFDWjtRQUNBLE1BQU0sRUFBRThLLFdBQVdtRSxZQUFZLEVBQUUsR0FBR0Y7UUFDcEMsMERBQTBEO1FBQzFENVcsZ0RBQU1BLENBQUM4VyxjQUFjLENBQUMsWUFBWSxFQUFFVCxRQUFRLGNBQWMsRUFBRXhPLEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUksQ0FBQyx5QkFBeUIsRUFBRXVTLFFBQVEsb0NBQW9DLENBQUM7UUFDdEosc0JBQXNCO1FBQ3RCLE1BQU14RCxtQkFBbUJ0UixnREFBa0JBLENBQUMsSUFBSSxDQUFDNEcsYUFBYSxFQUFFa08sU0FBU1MsY0FBYyxJQUFJLENBQUM1UCxLQUFLLENBQUNDLFNBQVMsQ0FBQzZMLFlBQVk7UUFDeEgsTUFBTStELFdBQVcsQ0FBQ3RFO1lBQ2QsSUFBSSxDQUFDQSxPQUFPdUUsS0FBSyxFQUFFO2dCQUNmdkUsT0FBT3VFLEtBQUssR0FBRyxFQUFFO1lBQ3JCO1lBQ0FyVSxnREFBYUEsQ0FBQzhQLE9BQU91RSxLQUFLLEVBQUVuUCxLQUFLRSxPQUFPLENBQUNqRSxJQUFJO1FBQ2pEO1FBQ0EsSUFBSStPLG9CQUFvQkEsaUJBQWlCNUosR0FBRyxFQUFFO1lBQzFDOE4sU0FBU2xFO1lBQ1QsT0FBT0EsaUJBQWlCNUosR0FBRztRQUMvQixPQUFPLElBQUk0SixvQkFBb0JBLGlCQUFpQm9FLE9BQU8sSUFBSSxDQUFDcEUsaUJBQWlCeUQsTUFBTSxFQUFFO1lBQ2pGLE1BQU1ZLFVBQVUsTUFBTXJFLGlCQUFpQm9FLE9BQU87WUFDOUNwRSxpQkFBaUJ5RCxNQUFNLEdBQUc7WUFDMUIsSUFBSSxDQUFDekQsaUJBQWlCNUosR0FBRyxFQUFFO2dCQUN2QjRKLGlCQUFpQjVKLEdBQUcsR0FBR2lPO1lBQzNCO1lBQ0FILFNBQVNsRTtZQUNULE9BQU9xRTtRQUNYLE9BQU8sSUFBSXJFLGtCQUFrQjtZQUN6QixNQUFNMEMsbUJBQW1CO2dCQUNyQixNQUFNMkIsVUFBVSxNQUFNckUsaUJBQWlCL0ssR0FBRztnQkFDMUNnUCxhQUFhN04sR0FBRyxHQUFHaU87Z0JBQ25CSixhQUFhUixNQUFNLEdBQUc7Z0JBQ3RCUyxTQUFTRDtnQkFDVCxNQUFNSyxVQUFVNVYsZ0RBQWtCQSxDQUFDLElBQUksQ0FBQzRHLGFBQWEsRUFBRWtPLFNBQVNTLGNBQWMsSUFBSSxDQUFDNVAsS0FBSyxDQUFDQyxTQUFTLENBQUM2TCxZQUFZO2dCQUMvRyxJQUFJbUUsU0FBUztvQkFDVEEsUUFBUWxPLEdBQUcsR0FBR2lPO29CQUNkQyxRQUFRYixNQUFNLEdBQUc7Z0JBQ3JCO2dCQUNBLE9BQU9ZO1lBQ1g7WUFDQSxNQUFNRCxVQUFVMUI7WUFDaEIsSUFBSSxDQUFDYSxTQUFTLENBQUM7Z0JBQ1hDO2dCQUNBQyxRQUFRO2dCQUNSN0QsUUFBUUk7Z0JBQ1I5SCxNQUFNbEQsS0FBS0UsT0FBTyxDQUFDakUsSUFBSTtnQkFDdkJtRixLQUFLO2dCQUNMZ087WUFDSjtZQUNBLE9BQU9BO1FBQ1gsT0FBTztZQUNILElBQUlyQyxnQkFBZ0IsT0FBTyxLQUFLLElBQUlBLGFBQWF3QyxlQUFlLEVBQUU7Z0JBQzlELE9BQU87WUFDWDtZQUNBLE1BQU03QixtQkFBbUI7Z0JBQ3JCLE1BQU0yQixVQUFVLE1BQU1KLGFBQWFoUCxHQUFHO2dCQUN0Q2dQLGFBQWE3TixHQUFHLEdBQUdpTztnQkFDbkJKLGFBQWFSLE1BQU0sR0FBRztnQkFDdEJTLFNBQVNEO2dCQUNULE1BQU1LLFVBQVU1VixnREFBa0JBLENBQUMsSUFBSSxDQUFDNEcsYUFBYSxFQUFFa08sU0FBU1MsY0FBYyxJQUFJLENBQUM1UCxLQUFLLENBQUNDLFNBQVMsQ0FBQzZMLFlBQVk7Z0JBQy9HLElBQUltRSxTQUFTO29CQUNUQSxRQUFRbE8sR0FBRyxHQUFHaU87b0JBQ2RDLFFBQVFiLE1BQU0sR0FBRztnQkFDckI7Z0JBQ0EsT0FBT1k7WUFDWDtZQUNBLE1BQU1ELFVBQVUxQjtZQUNoQixJQUFJLENBQUNhLFNBQVMsQ0FBQztnQkFDWEM7Z0JBQ0FDLFFBQVE7Z0JBQ1I3RCxRQUFRcUU7Z0JBQ1IvTCxNQUFNbEQsS0FBS0UsT0FBTyxDQUFDakUsSUFBSTtnQkFDdkJtRixLQUFLO2dCQUNMZ087WUFDSjtZQUNBLE9BQU9BO1FBQ1g7SUFDSjtJQUNBOzs7O0dBSUQsR0FBRyw4REFBOEQ7SUFDaEVQLGtCQUFrQlcsaUJBQWlCelgsNENBQWEsRUFBRWdWLFlBQVksRUFBRTtRQUM1RCxNQUFNLEVBQUUvTSxJQUFJLEVBQUUsR0FBRyxJQUFJO1FBQ3JCLE1BQU1rRCxPQUFPNkosZ0JBQWdCLE9BQU8sS0FBSyxJQUFJQSxhQUFhN0osSUFBSTtRQUM5RCxNQUFNNEwsV0FBVy9CLGdCQUFnQixPQUFPLEtBQUssSUFBSUEsYUFBYStCLFFBQVE7UUFDdEUsSUFBSXRPLFlBQVl1TSxnQkFBZ0IsT0FBTyxLQUFLLElBQUlBLGFBQWF2TSxTQUFTO1FBQ3RFLE1BQU1pUCxXQUFXLEVBQUU7UUFDbkIsSUFBSXZNLFNBQVMsU0FBUztZQUNsQixNQUFNLEVBQUV3TSxVQUFVLEVBQUUsR0FBRyxJQUFJO1lBQzNCLElBQUksQ0FBQ2xQLFdBQVdBLFlBQVksRUFBRTtZQUM5QixJQUFJbVAsWUFBWUQsVUFBVSxDQUFDRixlQUFlO1lBQzFDLElBQUksQ0FBQ0csV0FBV0EsWUFBWUQsVUFBVSxDQUFDRixlQUFlLEdBQUc7Z0JBQ3JEdE0sTUFBTSxJQUFJLENBQUNsRCxJQUFJLENBQUMvRCxJQUFJO1lBQ3hCO1lBQ0EsSUFBSXVFLFVBQVVxSixPQUFPLENBQUM4RixjQUFjLEdBQUcsT0FBT0Y7WUFDOUNqUCxVQUFVckQsSUFBSSxDQUFDd1M7UUFDbkI7UUFDQSxNQUFNOVAsYUFBYSxJQUFJLENBQUNTLGFBQWE7UUFDckMsTUFBTXNQLFdBQVc1UCxLQUFLRSxPQUFPLENBQUNqRSxJQUFJO1FBQ2xDLHlDQUF5QztRQUN6QyxJQUFJLENBQUM0RCxVQUFVLENBQUMyUCxlQUFlLEVBQUU7WUFDN0IzUCxVQUFVLENBQUMyUCxlQUFlLEdBQUcsQ0FBQztRQUNsQztRQUNBLG1FQUFtRTtRQUNuRSxNQUFNYixRQUFROU8sVUFBVSxDQUFDMlAsZUFBZTtRQUN4QyxNQUFNSyxXQUFXLENBQUM1VCxNQUFNMk87WUFDcEIsSUFBSWtGO1lBQ0osTUFBTSxFQUFFcFAsT0FBTyxFQUFFcVAsS0FBSyxFQUFFLEdBQUduRjtZQUMzQitELEtBQUssQ0FBQzFTLEtBQUssR0FBRzBTLEtBQUssQ0FBQzFTLEtBQUssSUFBSSxDQUFDO1lBQzlCLE1BQU0rVCxXQUFXckIsS0FBSyxDQUFDMVMsS0FBSztZQUM1QixNQUFNZ1UsZ0JBQWdCRCxRQUFRLENBQUN0UCxRQUFRO1lBQ3ZDLE1BQU13UCxxQkFBcUJDLFFBQVFGLGlCQUFrQkEsQ0FBQUEsY0FBY0YsS0FBSyxJQUFLLEVBQUNELDZCQUE2QkcsY0FBY0csV0FBVyxLQUFLLE9BQU8sS0FBSyxJQUFJTiwyQkFBMkJDLEtBQUs7WUFDekwsSUFBSSxDQUFDRSxpQkFBaUJBLGNBQWNuQixRQUFRLEtBQUssa0JBQWtCLENBQUNtQixjQUFjeEIsTUFBTSxJQUFLMEIsQ0FBQUEsUUFBUSxDQUFDSixXQUFXLENBQUNHLHFCQUFxQkgsUUFBUUgsV0FBV0ssY0FBYy9NLElBQUksR0FBRztnQkFDM0s4TSxRQUFRLENBQUN0UCxRQUFRLEdBQUdrSztZQUN4QjtRQUNKO1FBQ0EsTUFBTXlGLFNBQVMsQ0FBQ0MsTUFBTUEsT0FBT0EsSUFBSXJQLElBQUksSUFBSXFQLElBQUlyUCxJQUFJLENBQUNwQixVQUFVLENBQUMyUCxlQUFlLEVBQUVoUDtRQUM5RSxNQUFNK1AsbUJBQW1CLE9BQU8vTTtZQUM1QixNQUFNLEVBQUVvQyxNQUFNLEVBQUUsR0FBRyxNQUFNNUYsS0FBS1osYUFBYSxDQUFDb1IseUJBQXlCLENBQUM7Z0JBQ2xFM1UsSUFBSTJIO1lBQ1I7WUFDQSxJQUFJb0MsT0FBTzdGLFFBQVEsRUFBRTtnQkFDakIsTUFBTXhDLFFBQVEsTUFBTXFJLE9BQU83RixRQUFRO2dCQUNuQyxJQUFJLENBQUM2RixPQUFPeEYsTUFBTSxFQUFFO29CQUNoQixNQUFNaVEsT0FBTzlTO29CQUNicUksT0FBT3hGLE1BQU0sR0FBRztnQkFDcEI7WUFDSjtRQUNKO1FBQ0FPLE9BQU91RCxJQUFJLENBQUNsRSxLQUFLRSxPQUFPLENBQUMwSyxNQUFNLEVBQUU3TixPQUFPLENBQUMsQ0FBQzBUO1lBQ3RDLE1BQU1DLFlBQVkxUSxLQUFLRSxPQUFPLENBQUMwSyxNQUFNLENBQUM2RixVQUFVO1lBQ2hEQyxVQUFVM1QsT0FBTyxDQUFDLENBQUM2TjtnQkFDZixJQUFJQSxPQUFPK0QsS0FBSyxDQUFDZ0MsUUFBUSxDQUFDbkIsaUJBQWlCO29CQUN2Q0ssU0FBU1ksV0FBVzdGO2dCQUN4QjtZQUNKO1FBQ0o7UUFDQSxvRUFBb0U7UUFDcEUsSUFBSTVLLEtBQUtFLE9BQU8sQ0FBQzBRLGFBQWEsS0FBSyxtQkFBbUI5QixhQUFhLGlCQUFpQjtZQUNoRjlPLEtBQUtFLE9BQU8sQ0FBQ3RFLE9BQU8sQ0FBQ21CLE9BQU8sQ0FBQyxDQUFDakI7Z0JBQzFCLElBQUlBLE9BQU8rRCxVQUFVLEtBQUsyUCxnQkFBZ0I7b0JBQ3RDQyxTQUFTdFMsSUFBSSxDQUFDb1QsaUJBQWlCelUsT0FBT0csSUFBSTtnQkFDOUM7WUFDSjtRQUNKO1FBQ0EsT0FBT3dUO0lBQ1g7SUFDQSxrSUFBa0k7SUFDbEksMEVBQTBFO0lBQzFFLDZEQUE2RDtJQUM3RCwwRkFBMEY7SUFDMUZvQixjQUFjckMsT0FBTyxFQUFFekIsWUFBWSxFQUFFO1FBQ2pDLE1BQU0sRUFBRS9NLElBQUksRUFBRSxHQUFHLElBQUk7UUFDckIsTUFBTThLLFlBQVlwUSxnREFBc0JBLENBQUM7WUFDckM4VDtZQUNBekI7WUFDQTFCLFlBQVlyTCxLQUFLRSxPQUFPLENBQUMwSyxNQUFNO1FBQ25DO1FBQ0EsSUFBSUUsYUFBYSxPQUFPLEtBQUssSUFBSUEsVUFBVTZELEtBQUssRUFBRTtZQUM5QzdELFVBQVU2RCxLQUFLLENBQUM1UixPQUFPLENBQUMsQ0FBQzhDO2dCQUNyQixJQUFJLENBQUNnUCxpQkFBaUIsQ0FBQ2hQLFlBQVk7b0JBQy9CaVAsVUFBVWhFLFVBQVVnRSxRQUFRO2dCQUNoQztZQUNKO1FBQ0o7UUFDQSxNQUFNOUQsbUJBQW1CdFIsZ0RBQWtCQSxDQUFDLElBQUksQ0FBQzRHLGFBQWEsRUFBRWtPLFNBQVMxRCxXQUFXLElBQUksQ0FBQ3pMLEtBQUssQ0FBQ0MsU0FBUyxDQUFDNkwsWUFBWTtRQUNySCxNQUFNK0QsV0FBVyxDQUFDdEU7WUFDZCxJQUFJLENBQUNBLE9BQU91RSxLQUFLLEVBQUU7Z0JBQ2Z2RSxPQUFPdUUsS0FBSyxHQUFHLEVBQUU7WUFDckI7WUFDQXJVLGdEQUFhQSxDQUFDOFAsT0FBT3VFLEtBQUssRUFBRW5QLEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUk7UUFDakQ7UUFDQSxJQUFJK08sa0JBQWtCO1lBQ2xCLElBQUksT0FBT0EsaUJBQWlCNUosR0FBRyxLQUFLLFlBQVk7Z0JBQzVDOE4sU0FBU2xFO2dCQUNULElBQUksQ0FBQ0EsaUJBQWlCeUQsTUFBTSxFQUFFO29CQUMxQnpELGlCQUFpQnlELE1BQU0sR0FBRztvQkFDMUIsSUFBSXpELGlCQUFpQjlILElBQUksS0FBS2xELEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUksRUFBRTt3QkFDN0M2TyxVQUFVMkQsTUFBTSxHQUFHO29CQUN2QjtnQkFDSjtnQkFDQSxPQUFPekQsaUJBQWlCNUosR0FBRztZQUMvQjtZQUNBLElBQUksT0FBTzRKLGlCQUFpQi9LLEdBQUcsS0FBSyxZQUFZO2dCQUM1QyxNQUFNMkYsU0FBU29GLGlCQUFpQi9LLEdBQUc7Z0JBQ25DLElBQUksQ0FBRTJGLENBQUFBLGtCQUFrQm5JLE9BQU0sR0FBSTtvQkFDOUJ5UixTQUFTbEU7b0JBQ1QsSUFBSSxDQUFDdUQsU0FBUyxDQUFDO3dCQUNYQzt3QkFDQUMsUUFBUTt3QkFDUnZMLE1BQU1sRCxLQUFLRSxPQUFPLENBQUNqRSxJQUFJO3dCQUN2Qm1GLEtBQUt3RTt3QkFDTGdGLFFBQVFJO29CQUNaO29CQUNBLE9BQU9wRjtnQkFDWDtZQUNKO1FBQ0o7UUFDQSxJQUFJa0YsVUFBVTFKLEdBQUcsRUFBRTtZQUNmLElBQUksQ0FBQzBKLFVBQVUyRCxNQUFNLEVBQUU7Z0JBQ25CM0QsVUFBVTJELE1BQU0sR0FBRztZQUN2QjtZQUNBLE9BQU8zRCxVQUFVMUosR0FBRztRQUN4QjtRQUNBLElBQUkwSixVQUFVN0ssR0FBRyxFQUFFO1lBQ2YsTUFBTTJGLFNBQVNrRixVQUFVN0ssR0FBRztZQUM1QixJQUFJMkYsa0JBQWtCbkksU0FBUztnQkFDM0IsTUFBTSxJQUFJcVQsTUFBTSxDQUFDO3NEQUNxQixFQUFFdEMsUUFBUSxNQUFNLEVBQUVBLFFBQVEsdUJBQXVCLEVBQUV4TyxLQUFLRSxPQUFPLENBQUNqRSxJQUFJLENBQUM7O2VBRTVHLEVBQUV1UyxRQUFRO2VBQ1YsRUFBRUEsUUFBUTtNQUNuQixDQUFDO1lBQ0s7WUFDQTFELFVBQVUxSixHQUFHLEdBQUd3RTtZQUNoQixJQUFJLENBQUMySSxTQUFTLENBQUM7Z0JBQ1hDO2dCQUNBQyxRQUFRO2dCQUNSdkwsTUFBTWxELEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUk7Z0JBQ3ZCbUYsS0FBSzBKLFVBQVUxSixHQUFHO2dCQUNsQndKLFFBQVFFO1lBQ1o7WUFDQSxPQUFPQSxVQUFVMUosR0FBRztRQUN4QjtRQUNBLE1BQU0sSUFBSTBQLE1BQU0sQ0FBQztzREFDNkIsRUFBRXRDLFFBQVEsTUFBTSxFQUFFQSxRQUFRLHVCQUF1QixFQUFFeE8sS0FBS0UsT0FBTyxDQUFDakUsSUFBSSxDQUFDOztlQUU1RyxFQUFFdVMsUUFBUTtlQUNWLEVBQUVBLFFBQVE7TUFDbkIsQ0FBQztJQUNIO0lBQ0F1QyxrQkFBa0JDLFNBQVMsRUFBRW5SLFVBQVUsRUFBRWtOLGVBQWUsQ0FBQyxDQUFDLEVBQUU7UUFDeEQsTUFBTSxFQUFFL00sSUFBSSxFQUFFLEdBQUcsSUFBSTtRQUNyQixJQUFJLENBQUNNLGFBQWEsQ0FBQzBRLFVBQVUsR0FBR25SO1FBQ2hDLElBQUksQ0FBQ1IsS0FBSyxDQUFDQyxTQUFTLENBQUMyUiwwQkFBMEIsQ0FBQzVTLElBQUksQ0FBQztZQUNqRHdCO1lBQ0FLLFNBQVNGLEtBQUtFLE9BQU87WUFDckJqQixRQUFRZTtZQUNSZ1I7WUFDQUUsbUJBQW1CbkUsYUFBYW1FLGlCQUFpQjtRQUNyRDtJQUNKO0lBQ0EzQyxVQUFVLEVBQUVDLE9BQU8sRUFBRTVELE1BQU0sRUFBRTFILElBQUksRUFBRTlCLEdBQUcsRUFBRWdPLE9BQU8sRUFBRVgsTUFBTSxFQUFFeE8sR0FBRyxFQUFFLEVBQUU7UUFDNUQsTUFBTSxFQUFFUyxPQUFPLEVBQUVpTyxRQUFRLFNBQVMsRUFBRSxHQUFHL0QsUUFBUUUsWUFBWWxVLG9EQUFnQ0EsQ0FBQ2dVLFFBQVE7WUFDaEc7WUFDQTtTQUNIO1FBQ0QsTUFBTXVHLFNBQVNsTyxNQUFNaUcsT0FBTyxDQUFDeUYsU0FBU0EsUUFBUTtZQUMxQ0E7U0FDSDtRQUNEd0MsT0FBT3BVLE9BQU8sQ0FBQyxDQUFDcVU7WUFDWixJQUFJLENBQUMsSUFBSSxDQUFDOVEsYUFBYSxDQUFDOFEsR0FBRyxFQUFFO2dCQUN6QixJQUFJLENBQUM5USxhQUFhLENBQUM4USxHQUFHLEdBQUcsQ0FBQztZQUM5QjtZQUNBLElBQUksQ0FBQyxJQUFJLENBQUM5USxhQUFhLENBQUM4USxHQUFHLENBQUM1QyxRQUFRLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQ2xPLGFBQWEsQ0FBQzhRLEdBQUcsQ0FBQzVDLFFBQVEsR0FBRyxDQUFDO1lBQ3ZDO1lBQ0EsSUFBSSxJQUFJLENBQUNsTyxhQUFhLENBQUM4USxHQUFHLENBQUM1QyxRQUFRLENBQUM5TixRQUFRLEVBQUU7Z0JBQzFDO1lBQ0o7WUFDQSxJQUFJLENBQUNKLGFBQWEsQ0FBQzhRLEdBQUcsQ0FBQzVDLFFBQVEsQ0FBQzlOLFFBQVEsR0FBR2hLLG9EQUFRQSxDQUFDO2dCQUNoRGdLO2dCQUNBaU8sT0FBTztvQkFDSDtpQkFDSDtZQUNMLEdBQUc3RCxXQUFXO2dCQUNWMUo7Z0JBQ0FxTjtnQkFDQVc7WUFDSjtZQUNBLElBQUluUCxLQUFLO2dCQUNMLElBQUksQ0FBQ0ssYUFBYSxDQUFDOFEsR0FBRyxDQUFDNUMsUUFBUSxDQUFDOU4sUUFBUSxDQUFDVCxHQUFHLEdBQUdBO1lBQ25EO1FBQ0o7SUFDSjtJQUNBb1Isd0JBQXdCQyxXQUFXLEVBQUU7UUFDakMsTUFBTUMsc0JBQXNCM1csZ0RBQW1CQTtRQUMvQyxNQUFNNFcsYUFBYUYsWUFBWXpWLEVBQUUsSUFBSXlWLFlBQVlyVixJQUFJO1FBQ3JELElBQUl1VixjQUFjLENBQUNELG1CQUFtQixDQUFDQyxXQUFXLEVBQUU7WUFDaERELG1CQUFtQixDQUFDQyxXQUFXLEdBQUcsSUFBSSxDQUFDbFIsYUFBYTtRQUN4RDtJQUNKO0lBQ0F3QixZQUFZOUIsSUFBSSxDQUFDO1FBQ2IsSUFBSSxDQUFDWCxLQUFLLEdBQUcsSUFBSTBFLGFBQWE7WUFDMUIwRCxjQUFjLElBQUk3RCxtQkFBbUI7WUFDckNvTCxpQkFBaUIsSUFBSXBMLG1CQUFtQjtZQUN4QyxlQUFlO1lBQ2Y4SyxXQUFXLElBQUkzTDtZQUNmb0ksY0FBYyxJQUFJMUgsa0JBQWtCO1lBQ3BDLHVEQUF1RDtZQUN2RHdOLDRCQUE0QixJQUFJeE4sa0JBQWtCO1FBQ3REO1FBQ0EsSUFBSSxDQUFDekQsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ00sYUFBYSxHQUFHLENBQUM7UUFDdEIsSUFBSSxDQUFDb1AsVUFBVSxHQUFHLENBQUM7UUFDbkIsSUFBSSxDQUFDMkIsdUJBQXVCLENBQUNyUixLQUFLRSxPQUFPO0lBQzdDO0FBQ0o7QUFFQSxNQUFNdVI7SUFDRkMsd0JBQXdCekQsYUFBYSxFQUFFQyxXQUFXLEVBQUU7UUFDaEQsTUFBTXlELGNBQWN6RCxZQUFZdFMsT0FBTyxJQUFJLEVBQUU7UUFDN0MsT0FBTytWLFlBQVloSSxNQUFNLENBQUMsQ0FBQ3ZMLEtBQUt0QztZQUM1QixJQUFJLENBQUM4VixjQUFjLENBQUM5VixRQUFRc0MsS0FBSztnQkFDN0J5VCxPQUFPO1lBQ1g7WUFDQSxPQUFPelQ7UUFDWCxHQUFHNlAsY0FBY3JTLE9BQU87SUFDNUI7SUFDQWtXLGlCQUFpQmpXLEVBQUUsRUFBRWtXLGVBQWUsRUFBRTtRQUNsQyxNQUFNLEVBQUVqVyxNQUFNLEVBQUVJLE1BQU0sRUFBRSxHQUFHNlY7UUFDM0IsTUFBTSxFQUFFOVYsSUFBSSxFQUFFSyxLQUFLLEVBQUUsR0FBR1I7UUFDeEIsSUFBSSxDQUFDa1csYUFBYSxDQUFDblcsR0FBRyxHQUFHO1lBQ3JCSSxNQUFNSCxPQUFPRyxJQUFJO1lBQ2pCQztRQUNKO1FBQ0EsSUFBSUksU0FBU1QsR0FBR0csVUFBVSxDQUFDQyxPQUFPO1lBQzlCLE1BQU1nVyxjQUFjcFcsR0FBR00sT0FBTyxDQUFDRixNQUFNSztZQUNyQyxJQUFJLENBQUMwVixhQUFhLENBQUNDLFlBQVksR0FBRztnQkFDOUJoVyxNQUFNSCxPQUFPRyxJQUFJO2dCQUNqQkM7WUFDSjtZQUNBO1FBQ0o7UUFDQSxJQUFJSSxTQUFTVCxHQUFHRyxVQUFVLENBQUNNLFFBQVE7WUFDL0IsTUFBTTRWLGFBQWFyVyxHQUFHTSxPQUFPLENBQUNHLE9BQU9MO1lBQ3JDLElBQUksQ0FBQytWLGFBQWEsQ0FBQ0UsV0FBVyxHQUFHO2dCQUM3QmpXLE1BQU1ILE9BQU9HLElBQUk7Z0JBQ2pCQztZQUNKO1FBQ0o7SUFDSjtJQUNBLGtEQUFrRDtJQUNsRCw4REFBOEQ7SUFDOUQsTUFBTWlXLFdBQVd0VyxFQUFFLEVBQUVxRSxPQUFPLEVBQUU7UUFDMUIsTUFBTSxFQUFFRixJQUFJLEVBQUUsR0FBRyxJQUFJO1FBQ3JCLElBQUk7WUFDQSxNQUFNLEVBQUVHLGNBQWMsSUFBSSxFQUFFLEdBQUdELFdBQVc7Z0JBQ3RDQyxhQUFhO1lBQ2pCO1lBQ0EsaUlBQWlJO1lBQ2pJLGlRQUFpUTtZQUNqUSx3SEFBd0g7WUFDeEgsaUlBQWlJO1lBQ2pJLDJFQUEyRTtZQUMzRSxpREFBaUQ7WUFDakQseUVBQXlFO1lBQ3pFLE1BQU0sRUFBRXlGLE1BQU0sRUFBRXdNLGFBQWEsRUFBRUwsZUFBZSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUN2Qix5QkFBeUIsQ0FBQztnQkFDcEYzVTtZQUNKO1lBQ0EsTUFBTSxFQUFFTyxjQUFjLEVBQUVOLE1BQU0sRUFBRUksTUFBTSxFQUFFTCxJQUFJd1csS0FBSyxFQUFFLEdBQUdOO1lBQ3RELE1BQU1PLGtCQUFrQixNQUFNMU0sT0FBTzNGLEdBQUcsQ0FBQ29TLE9BQU9uVyxRQUFRZ0U7WUFDeEQsTUFBTXFTLGdCQUFnQixNQUFNLElBQUksQ0FBQ2xULEtBQUssQ0FBQ0MsU0FBUyxDQUFDa1QsTUFBTSxDQUFDblUsSUFBSSxDQUFDO2dCQUN6RHhDLElBQUl3VztnQkFDSmpXO2dCQUNBRjtnQkFDQXVXLGNBQWN0UyxjQUFjbVMsa0JBQWtCM1M7Z0JBQzlDK1MscUJBQXFCdlMsY0FBY1IsWUFBWTJTO2dCQUMvQ3hXO2dCQUNBb0UsU0FBU2tTO2dCQUNUTyxnQkFBZ0IvTTtnQkFDaEIzRyxRQUFRZTtZQUNaO1lBQ0EsSUFBSSxDQUFDOFIsZ0JBQWdCLENBQUNqVyxJQUFJa1c7WUFDMUIsSUFBSSxPQUFPUSxrQkFBa0IsWUFBWTtnQkFDckMsT0FBT0E7WUFDWDtZQUNBLE9BQU9EO1FBQ1gsRUFBRSxPQUFPN1osT0FBTztZQUNaLE1BQU1BO1FBQ1Y7SUFDSjtJQUNBLDhEQUE4RDtJQUM5RCxNQUFNbWEsY0FBYy9LLGNBQWMsRUFBRTtRQUNoQyxNQUFNLEVBQUU3SCxJQUFJLEVBQUUsR0FBRyxJQUFJO1FBQ3JCLE1BQU0sSUFBSSxDQUFDWCxLQUFLLENBQUNDLFNBQVMsQ0FBQ3VULG1CQUFtQixDQUFDeFUsSUFBSSxDQUFDO1lBQ2hEeVUsWUFBWWpMO1lBQ1ozSCxTQUFTRixLQUFLRSxPQUFPO1lBQ3JCakIsUUFBUWU7UUFDWjtRQUNBLE1BQU04UyxhQUFhaE8sa0JBQWtCOUUsS0FBS0UsT0FBTyxDQUFDdEUsT0FBTyxFQUFFaU07UUFDM0QsTUFBTXBLLFFBQVFtUixHQUFHLENBQUNrRSxXQUFXOU4sR0FBRyxDQUFDLE9BQU8rTjtZQUNwQyxNQUFNLEVBQUVqWCxNQUFNLEVBQUUsR0FBR2lYO1lBQ25CLE1BQU1wVSxhQUFhaUIsY0FBYzlEO1lBQ2pDLE1BQU0sRUFBRTRMLGNBQWMsRUFBRU4sY0FBYyxFQUFFLEdBQUcsTUFBTXBILEtBQUsySCxlQUFlLENBQUNDLHNCQUFzQixDQUFDOUw7WUFDN0YsTUFBTXNKLFNBQVMsTUFBTSxJQUFJLENBQUMvRixLQUFLLENBQUNDLFNBQVMsQ0FBQ3dJLHFCQUFxQixDQUFDekosSUFBSSxDQUFDO2dCQUNqRVksUUFBUWU7Z0JBQ1I2SCxnQkFBZ0JrTDtnQkFDaEJqWDtnQkFDQTZDO2dCQUNBK0k7Z0JBQ0FOO1lBQ0o7WUFDQSxJQUFJLENBQUNoQyxRQUFRO2dCQUNUO1lBQ0o7WUFDQUQsY0FBY3hHLFlBQVlxQixNQUFNb0Y7UUFDcEM7SUFDSjtJQUNBNE4sZ0JBQWdCcFgsT0FBTyxFQUFFc0UsT0FBTyxFQUFFO1FBQzlCLE1BQU0sRUFBRUYsSUFBSSxFQUFFLEdBQUcsSUFBSTtRQUNyQnBFLFFBQVFtQixPQUFPLENBQUMsQ0FBQ2pCO1lBQ2IsSUFBSSxDQUFDOFYsY0FBYyxDQUFDOVYsUUFBUWtFLEtBQUtFLE9BQU8sQ0FBQ3RFLE9BQU8sRUFBRTtnQkFDOUNpVyxPQUFPM1IsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUTJSLEtBQUs7WUFDbkQ7UUFDSjtJQUNKO0lBQ0EsTUFBTXJCLDBCQUEwQnRRLE9BQU8sRUFBRTtRQUNyQyxNQUFNLEVBQUVGLElBQUksRUFBRSxHQUFHLElBQUk7UUFDckIsTUFBTSxFQUFFbkUsRUFBRSxFQUFFLEdBQUdxRTtRQUNmLElBQUkrUztRQUNKLElBQUk7WUFDQUEsaUJBQWlCLE1BQU0sSUFBSSxDQUFDNVQsS0FBSyxDQUFDQyxTQUFTLENBQUM0VCxhQUFhLENBQUM3VSxJQUFJLENBQUM7Z0JBQzNEeEM7Z0JBQ0FxRSxTQUFTRixLQUFLRSxPQUFPO2dCQUNyQmpCLFFBQVFlO1lBQ1o7UUFDSixFQUFFLE9BQU92SCxPQUFPO1lBQ1p3YSxpQkFBaUIsTUFBTSxJQUFJLENBQUM1VCxLQUFLLENBQUNDLFNBQVMsQ0FBQzZULGVBQWUsQ0FBQzlVLElBQUksQ0FBQztnQkFDN0R4QztnQkFDQXFFLFNBQVNGLEtBQUtFLE9BQU87Z0JBQ3JCakIsUUFBUWU7Z0JBQ1JrRCxNQUFNO2dCQUNOeks7Z0JBQ0E2RyxXQUFXO1lBQ2Y7WUFDQSxJQUFJLENBQUMyVCxnQkFBZ0I7Z0JBQ2pCLE1BQU14YTtZQUNWO1FBQ0o7UUFDQSxNQUFNLEVBQUVvRCxJQUFJd1csS0FBSyxFQUFFLEdBQUdZO1FBQ3RCLE1BQU1HLGtCQUFrQnpYLDZCQUE2QnFFLEtBQUtFLE9BQU8sQ0FBQ3RFLE9BQU8sRUFBRXlXO1FBQzNFbGEsZ0RBQU1BLENBQUNpYixpQkFBaUIsQ0FBQzt5QkFDUixFQUFFZixNQUFNLElBQUksRUFBRXJTLEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUksQ0FBQztXQUM5QyxFQUFFb1csTUFBTSxnREFBZ0QsRUFBRXJTLEtBQUtFLE9BQU8sQ0FBQ2pFLElBQUksSUFBSSxXQUFXO1dBQzFGLEVBQUVvVyxNQUFNLHdDQUF3QyxFQUFFclMsS0FBS0UsT0FBTyxDQUFDakUsSUFBSSxDQUFDO1dBQ3BFLEVBQUVvVyxNQUFNO1dBQ1IsRUFBRUEsTUFBTTtxSEFDa0csRUFBRUEsTUFBTTtNQUN2SCxDQUFDO1FBQ0MsTUFBTSxFQUFFdlcsUUFBUXVYLFNBQVMsRUFBRSxHQUFHRDtRQUM5QixNQUFNelUsYUFBYWlCLGNBQWN5VDtRQUNqQyxNQUFNQyxZQUFZLE1BQU10VCxLQUFLa0wsYUFBYSxDQUFDN0wsS0FBSyxDQUFDQyxTQUFTLENBQUNtSSxZQUFZLENBQUNwSixJQUFJLENBQUMzSCxvREFBUUEsQ0FBQztZQUNsRm1GLElBQUl3VztRQUNSLEdBQUdlLGlCQUFpQjtZQUNoQmxULFNBQVNGLEtBQUtFLE9BQU87WUFDckJqQixRQUFRZTtZQUNSckI7UUFDSjtRQUNBLE1BQU0sRUFBRTdDLE1BQU0sRUFBRUksTUFBTSxFQUFFLEdBQUdvWDtRQUMzQm5iLGdEQUFNQSxDQUFDMkQsVUFBVUksUUFBUSxDQUFDLHNIQUFzSCxFQUFFbVcsTUFBTSxDQUFDLENBQUM7UUFDMUosSUFBSXpNLFNBQVM1RixLQUFLNkYsV0FBVyxDQUFDNUYsR0FBRyxDQUFDbkUsT0FBT0csSUFBSTtRQUM3QyxNQUFNbVcsZ0JBQWdCO1lBQ2xCcFMsTUFBTUE7WUFDTnJCO1FBQ0o7UUFDQSxJQUFJLENBQUNpSCxRQUFRO1lBQ1RBLFNBQVMsSUFBSTlGLE9BQU9zUztZQUNwQnBTLEtBQUs2RixXQUFXLENBQUMwSCxHQUFHLENBQUN6UixPQUFPRyxJQUFJLEVBQUUySjtRQUN0QztRQUNBLE9BQU87WUFDSEE7WUFDQXdNO1lBQ0FMLGlCQUFpQnVCO1FBQ3JCO0lBQ0o7SUFDQTFCLGVBQWU5VixNQUFNLEVBQUV5WCxhQUFhLEVBQUVyVCxPQUFPLEVBQUU7UUFDM0MsTUFBTSxFQUFFRixJQUFJLEVBQUUsR0FBRyxJQUFJO1FBQ3JCLE1BQU13VCxrQkFBa0I7WUFDcEIsSUFBSTFYLE9BQU9RLEtBQUssRUFBRTtnQkFDZCw2RkFBNkY7Z0JBQzdGLHFIQUFxSDtnQkFDckgsTUFBTW1YLFlBQVlGLGNBQWN0VyxJQUFJLENBQUMsQ0FBQ0M7b0JBQ2xDLElBQUl3VztvQkFDSixPQUFPNVgsT0FBT1EsS0FBSyxJQUFLWSxDQUFBQSxLQUFLakIsSUFBSSxDQUFDRCxVQUFVLENBQUNGLE9BQU9RLEtBQUssS0FBTSxFQUFDb1gsY0FBY3hXLEtBQUtaLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSW9YLFlBQVkxWCxVQUFVLENBQUNGLE9BQU9RLEtBQUssRUFBQztnQkFDcko7Z0JBQ0FuRSxnREFBTUEsQ0FBQyxDQUFDc2IsV0FBVyxDQUFDLFVBQVUsRUFBRTNYLE9BQU9RLEtBQUssQ0FBQyxXQUFXLEVBQUVSLE9BQU9HLElBQUksQ0FBQyxvQ0FBb0MsRUFBRXdYLGFBQWFBLFVBQVV4WCxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQzNKO1lBQ0EsMENBQTBDO1lBQzFDLElBQUksV0FBV0gsUUFBUTtnQkFDbkIsSUFBSWpGLG9FQUFZQSxNQUFNLENBQUNpRixPQUFPeUIsS0FBSyxDQUFDdkIsVUFBVSxDQUFDLFNBQVM7b0JBQ3BERixPQUFPeUIsS0FBSyxHQUFHLElBQUlvVyxJQUFJN1gsT0FBT3lCLEtBQUssRUFBRXFXLE9BQU9DLFFBQVEsQ0FBQzVVLE1BQU0sRUFBRTZVLElBQUk7Z0JBQ3JFO1lBQ0o7WUFDQSxJQUFJLENBQUNoWSxPQUFPK0QsVUFBVSxFQUFFO2dCQUNwQi9ELE9BQU8rRCxVQUFVLEdBQUc5SCw0Q0FBYUE7WUFDckM7WUFDQSxJQUFJLENBQUMrRCxPQUFPK0MsSUFBSSxFQUFFO2dCQUNkL0MsT0FBTytDLElBQUksR0FBR2hILDRDQUFtQkE7WUFDckM7UUFDSjtRQUNBLElBQUksQ0FBQ3dILEtBQUssQ0FBQ0MsU0FBUyxDQUFDeVUsb0JBQW9CLENBQUMxVixJQUFJLENBQUM7WUFDM0N2QztZQUNBbUQsUUFBUWU7UUFDWjtRQUNBLE1BQU1nVSxtQkFBbUJULGNBQWN0VyxJQUFJLENBQUMsQ0FBQ0MsT0FBT0EsS0FBS2pCLElBQUksS0FBS0gsT0FBT0csSUFBSTtRQUM3RSxJQUFJLENBQUMrWCxrQkFBa0I7WUFDbkJSO1lBQ0FELGNBQWNwVyxJQUFJLENBQUNyQjtZQUNuQixJQUFJLENBQUN1RCxLQUFLLENBQUNDLFNBQVMsQ0FBQ3NTLGNBQWMsQ0FBQ3ZULElBQUksQ0FBQztnQkFDckN2QztnQkFDQW1ELFFBQVFlO1lBQ1o7UUFDSixPQUFPO1lBQ0gsTUFBTWlVLFdBQVc7Z0JBQ2IsQ0FBQyxZQUFZLEVBQUVuWSxPQUFPRyxJQUFJLENBQUMsd0JBQXdCLENBQUM7Z0JBQ25EaUUsQ0FBQUEsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUTJSLEtBQUssSUFBSSx5RUFBeUU7YUFDekg7WUFDRCxJQUFJM1IsV0FBVyxPQUFPLEtBQUssSUFBSUEsUUFBUTJSLEtBQUssRUFBRTtnQkFDMUMsMkJBQTJCO2dCQUMzQixJQUFJLENBQUNxQyxZQUFZLENBQUNGO2dCQUNsQlI7Z0JBQ0FELGNBQWNwVyxJQUFJLENBQUNyQjtnQkFDbkIsSUFBSSxDQUFDdUQsS0FBSyxDQUFDQyxTQUFTLENBQUNzUyxjQUFjLENBQUN2VCxJQUFJLENBQUM7b0JBQ3JDdkM7b0JBQ0FtRCxRQUFRZTtnQkFDWjtZQUNKO1lBQ0F4SSw0REFBTUEsQ0FBQ3ljLFNBQVNFLElBQUksQ0FBQztRQUN6QjtJQUNKO0lBQ0FELGFBQWFwWSxNQUFNLEVBQUU7UUFDakIsSUFBSTtZQUNBLE1BQU0sRUFBRWtFLElBQUksRUFBRSxHQUFHLElBQUk7WUFDckIsTUFBTSxFQUFFL0QsSUFBSSxFQUFFLEdBQUdIO1lBQ2pCLE1BQU1zWSxjQUFjcFUsS0FBS0UsT0FBTyxDQUFDdEUsT0FBTyxDQUFDeVksU0FBUyxDQUFDLENBQUNuWCxPQUFPQSxLQUFLakIsSUFBSSxLQUFLQTtZQUN6RSxJQUFJbVksZ0JBQWdCLENBQUMsR0FBRztnQkFDcEJwVSxLQUFLRSxPQUFPLENBQUN0RSxPQUFPLENBQUMwWSxNQUFNLENBQUNGLGFBQWE7WUFDN0M7WUFDQSxNQUFNRyxlQUFldlUsS0FBSzZGLFdBQVcsQ0FBQzVGLEdBQUcsQ0FBQ25FLE9BQU9HLElBQUk7WUFDckQsSUFBSXNZLGNBQWM7Z0JBQ2QsTUFBTTVWLGFBQWE0VixhQUFhNVYsVUFBVTtnQkFDMUMsTUFBTTZFLE1BQU03RSxXQUFXQyxlQUFlO2dCQUN0QyxJQUFJNFYsVUFBVSxDQUFDaFIsSUFBSSxFQUFFO29CQUNqQixJQUFJaVI7b0JBQ0osSUFBSSxDQUFDQSxtQ0FBbUM5VCxPQUFPZ0Isd0JBQXdCLENBQUM2UyxZQUFZaFIsSUFBRyxLQUFNLE9BQU8sS0FBSyxJQUFJaVIsaUNBQWlDQyxZQUFZLEVBQUU7d0JBQ3hKLE9BQU9GLFVBQVUsQ0FBQ2hSLElBQUk7b0JBQzFCLE9BQU87d0JBQ0gsYUFBYTt3QkFDYmdSLFVBQVUsQ0FBQ2hSLElBQUksR0FBRzdEO29CQUN0QjtnQkFDSjtnQkFDQSxNQUFNZ1YsdUJBQXVCNVYsd0JBQXdCd1YsYUFBYTVWLFVBQVU7Z0JBQzVFLElBQUloSCw0Q0FBYSxDQUFDZ2QscUJBQXFCLEVBQUU7b0JBQ3JDLE9BQU9oZCw0Q0FBYSxDQUFDZ2QscUJBQXFCO2dCQUM5QztnQkFDQTNVLEtBQUsySCxlQUFlLENBQUN1RixhQUFhLENBQUN2SyxNQUFNLENBQUNoRSxXQUFXcEIsS0FBSztnQkFDMUQsc0NBQXNDO2dCQUN0QyxJQUFJcVgsY0FBY2pXLFdBQVc0SSxZQUFZLEdBQUd4USwrRUFBdUJBLENBQUM0SCxXQUFXMUMsSUFBSSxFQUFFMEMsV0FBVzRJLFlBQVksSUFBSTVJLFdBQVcxQyxJQUFJO2dCQUMvSCxNQUFNNFksaUJBQWlCTCxXQUFXM0csY0FBYyxDQUFDaUgsYUFBYSxDQUFDVCxTQUFTLENBQUMsQ0FBQ1U7b0JBQ3RFLElBQUlwVyxXQUFXNEksWUFBWSxFQUFFO3dCQUN6QixPQUFPd04sSUFBSTdVLE9BQU8sQ0FBQ3JFLEVBQUUsS0FBSytZO29CQUM5QixPQUFPO3dCQUNILE9BQU9HLElBQUk5WSxJQUFJLEtBQUsyWTtvQkFDeEI7Z0JBQ0o7Z0JBQ0EsSUFBSUMsbUJBQW1CLENBQUMsR0FBRztvQkFDdkIsTUFBTUcsWUFBWVIsV0FBVzNHLGNBQWMsQ0FBQ2lILGFBQWEsQ0FBQ0QsZUFBZTtvQkFDekVELGNBQWNJLFVBQVU5VSxPQUFPLENBQUNyRSxFQUFFLElBQUkrWTtvQkFDdEMsTUFBTXJELHNCQUFzQjNXLGdEQUFtQkE7b0JBQy9DLElBQUlxYSxxQkFBcUI7b0JBQ3pCLE1BQU1DLGlCQUFpQixFQUFFO29CQUN6QnZVLE9BQU91RCxJQUFJLENBQUNxTixxQkFBcUJ4VSxPQUFPLENBQUMsQ0FBQ29ZO3dCQUN0QyxNQUFNN1UsZ0JBQWdCaVIsbUJBQW1CLENBQUM0RCxPQUFPO3dCQUNqRDdVLGlCQUFpQkssT0FBT3VELElBQUksQ0FBQzVELGVBQWV2RCxPQUFPLENBQUMsQ0FBQzhDOzRCQUNqRCxNQUFNdVYsZ0JBQWdCOVUsYUFBYSxDQUFDVCxXQUFXOzRCQUMvQ3VWLGlCQUFpQnpVLE9BQU91RCxJQUFJLENBQUNrUixlQUFlclksT0FBTyxDQUFDLENBQUMwVDtnQ0FDakQsTUFBTTRFLGFBQWFELGFBQWEsQ0FBQzNFLFVBQVU7Z0NBQzNDNEUsY0FBYzFVLE9BQU91RCxJQUFJLENBQUNtUixZQUFZdFksT0FBTyxDQUFDLENBQUN1WTtvQ0FDM0MsTUFBTTFLLFNBQVN5SyxVQUFVLENBQUNDLGFBQWE7b0NBQ3ZDLElBQUkxSyxVQUFVLE9BQU9BLFdBQVcsWUFBWUEsT0FBTzFILElBQUksS0FBS3ZFLFdBQVcxQyxJQUFJLEVBQUU7d0NBQ3pFLElBQUkyTyxPQUFPNkQsTUFBTSxJQUFJN0QsT0FBT3dFLE9BQU8sRUFBRTs0Q0FDakN4RSxPQUFPdUUsS0FBSyxHQUFHdkUsT0FBT3VFLEtBQUssQ0FBQ2xGLE1BQU0sQ0FBQyxDQUFDc0wsZUFBZUEsaUJBQWlCNVcsV0FBVzFDLElBQUk7NENBQ25GLElBQUkyTyxPQUFPdUUsS0FBSyxDQUFDclMsTUFBTSxFQUFFO2dEQUNyQm1ZLHFCQUFxQjs0Q0FDekIsT0FBTztnREFDSEMsZUFBZS9YLElBQUksQ0FBQztvREFDaEJnWTtvREFDQXRWO29EQUNBNFE7b0RBQ0E2RTtpREFDSDs0Q0FDTDt3Q0FDSixPQUFPOzRDQUNISixlQUFlL1gsSUFBSSxDQUFDO2dEQUNoQmdZO2dEQUNBdFY7Z0RBQ0E0UTtnREFDQTZFOzZDQUNIO3dDQUNMO29DQUNKO2dDQUNKOzRCQUNKO3dCQUNKO29CQUNKO29CQUNBLElBQUlMLG9CQUFvQjt3QkFDcEJELFVBQVUxVSxhQUFhLEdBQUcsQ0FBQzt3QkFDM0IsT0FBT2lSLG1CQUFtQixDQUFDcUQsWUFBWTtvQkFDM0M7b0JBQ0FNLGVBQWVuWSxPQUFPLENBQUMsQ0FBQyxDQUFDeVksT0FBTzNWLFlBQVk0USxXQUFXNkUsYUFBYTt3QkFDaEUsSUFBSUcsaURBQWlEQyx1Q0FBdUNDO3dCQUMzRkEsQ0FBQUEsNkJBQTZCcEUsbUJBQW1CLENBQUNpRSxNQUFNLEtBQUssT0FBTyxPQUFPLENBQUNFLHdDQUF3Q0MsMEJBQTBCLENBQUM5VixXQUFXLEtBQUssT0FBTyxPQUFPLENBQUM0VixrREFBa0RDLHFDQUFxQyxDQUFDakYsVUFBVSxLQUFLLE9BQU8sT0FBTyxPQUFPZ0YsK0NBQStDLENBQUNILGFBQWE7b0JBQzNXO29CQUNBZCxXQUFXM0csY0FBYyxDQUFDaUgsYUFBYSxDQUFDUixNQUFNLENBQUNPLGdCQUFnQjtnQkFDbkU7Z0JBQ0EsTUFBTSxFQUFFaEosa0JBQWtCLEVBQUUsR0FBR0Qsb0JBQW9COVAsUUFBUWtFO2dCQUMzRCxJQUFJNkwsb0JBQW9CO29CQUNwQixNQUFNK0osWUFBWS9KLHNCQUFzQixpQkFBaUJBLHNCQUFzQkEsbUJBQW1CckQsV0FBVyxJQUFJcFAsZ0RBQWtCQSxDQUFDeVMsbUJBQW1CckQsV0FBVyxFQUFFMU0sT0FBT0csSUFBSSxFQUFFdUgsR0FBRztvQkFDcEwsSUFBSW9TLFdBQVc7d0JBQ1gsT0FBTy9KLG1CQUFtQnJELFdBQVcsQ0FBQ29OLFVBQVU7d0JBQ2hELElBQ0F6RixRQUFRL1YsNENBQU1BLENBQUN5VCxjQUFjLENBQUNDLG9CQUFvQixDQUFDOEgsVUFBVSxHQUFHOzRCQUM1RCxPQUFPeGIsNENBQU1BLENBQUN5VCxjQUFjLENBQUNDLG9CQUFvQixDQUFDOEgsVUFBVTt3QkFDaEU7b0JBQ0o7Z0JBQ0o7Z0JBQ0E1VixLQUFLNkYsV0FBVyxDQUFDbEQsTUFBTSxDQUFDN0csT0FBT0csSUFBSTtZQUN2QztRQUNKLEVBQUUsT0FBT3VSLEtBQUs7WUFDVnRNLFFBQVEyVSxHQUFHLENBQUMsdUJBQXVCckk7UUFDdkM7SUFDSjtJQUNBMUwsWUFBWTlCLElBQUksQ0FBQztRQUNiLElBQUksQ0FBQ1gsS0FBSyxHQUFHLElBQUkwRSxhQUFhO1lBQzFCZ1Esc0JBQXNCLElBQUl0USxrQkFBa0I7WUFDNUNtTyxnQkFBZ0IsSUFBSW5PLGtCQUFrQjtZQUN0Q3lQLGVBQWUsSUFBSXRQLG1CQUFtQjtZQUN0QzRPLFFBQVEsSUFBSXpQLFVBQVU7WUFDdEJ1SCxxQkFBcUIsSUFBSXZJLFNBQVM7WUFDbENvUixpQkFBaUIsSUFBSXBRLFVBQVU7WUFDL0I4UCxxQkFBcUIsSUFBSTlQLFVBQVU7WUFDbkMrRSx1QkFBdUIsSUFBSS9FLFVBQVU7WUFDckMsZUFBZTtZQUNmK1Msb0JBQW9CLElBQUkvUztZQUN4QnhELFdBQVcsSUFBSXdEO1FBQ25CO1FBQ0EsSUFBSSxDQUFDL0MsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ2dTLGFBQWEsR0FBRyxDQUFDO0lBQzFCO0FBQ0o7QUFFQSxNQUFNK0Q7SUFDRkMsWUFBWTlILFdBQVcsRUFBRTtRQUNyQixJQUFJLENBQUNqSyxlQUFlLENBQUNpSyxZQUFZdlIsT0FBTztRQUN4QyxNQUFNdUQsVUFBVSxJQUFJLENBQUMrVixhQUFhLENBQUMsSUFBSSxDQUFDL1YsT0FBTyxFQUFFZ087UUFDakQsSUFBSSxDQUFDaE8sT0FBTyxHQUFHQTtRQUNmLE9BQU9BO0lBQ1g7SUFDQSxNQUFNd08sVUFBVUYsT0FBTyxFQUFFekIsWUFBWSxFQUFFO1FBQ25DLE9BQU8sSUFBSSxDQUFDN0IsYUFBYSxDQUFDd0QsU0FBUyxDQUFDRixTQUFTekI7SUFDakQ7SUFDQSxrSUFBa0k7SUFDbEksMEVBQTBFO0lBQzFFLDZEQUE2RDtJQUM3RCwwRkFBMEY7SUFDMUY4RCxjQUFjckMsT0FBTyxFQUFFekIsWUFBWSxFQUFFO1FBQ2pDLE9BQU8sSUFBSSxDQUFDN0IsYUFBYSxDQUFDMkYsYUFBYSxDQUFDckMsU0FBU3pCO0lBQ3JEO0lBQ0E4QixrQkFBa0JXLGlCQUFpQnpYLDRDQUFhLEVBQUVnVixZQUFZLEVBQUU7UUFDNUQsT0FBTyxJQUFJLENBQUM3QixhQUFhLENBQUMyRCxpQkFBaUIsQ0FBQ1csZ0JBQWdCekM7SUFDaEU7SUFDQW1KLGlCQUFpQmphLElBQUksRUFBRWtDLEdBQUcsRUFBRWdZLFNBQVMsRUFBRTtRQUNuQyxNQUFNeFgsYUFBYWlCLGNBQWM7WUFDN0IzRDtZQUNBc0IsT0FBT1k7UUFDWDtRQUNBLE1BQU15SCxTQUFTLElBQUk5RixPQUFPO1lBQ3RCRSxNQUFNLElBQUk7WUFDVnJCO1FBQ0o7UUFDQWlILE9BQU9wSSxrQkFBa0IsR0FBRzJZO1FBQzVCLElBQUksQ0FBQ3RRLFdBQVcsQ0FBQzBILEdBQUcsQ0FBQ3RSLE1BQU0ySjtRQUMzQixPQUFPQTtJQUNYO0lBQ0Esa0RBQWtEO0lBQ2xELDhEQUE4RDtJQUM5RCxNQUFNdU0sV0FBV3RXLEVBQUUsRUFBRXFFLE9BQU8sRUFBRTtRQUMxQixPQUFPLElBQUksQ0FBQ2QsYUFBYSxDQUFDK1MsVUFBVSxDQUFDdFcsSUFBSXFFO0lBQzdDO0lBQ0EsOERBQThEO0lBQzlELE1BQU0wUyxjQUFjL0ssY0FBYyxFQUFFO1FBQ2hDLE9BQU8sSUFBSSxDQUFDekksYUFBYSxDQUFDd1QsYUFBYSxDQUFDL0s7SUFDNUM7SUFDQWtKLGtCQUFrQkMsU0FBUyxFQUFFblIsVUFBVSxFQUFFa04sZUFBZSxDQUFDLENBQUMsRUFBRTtRQUN4RCxJQUFJLENBQUM3QixhQUFhLENBQUM2RixpQkFBaUIsQ0FBQ0MsV0FBV25SLFlBQVlrTjtJQUNoRTtJQUNBa0osY0FBY2hJLGFBQWEsRUFBRUMsV0FBVyxFQUFFO1FBQ3RDLE1BQU0sRUFBRXRELE1BQU0sRUFBRSxHQUFHcFEsZ0RBQWtCQSxDQUFDeVQsZUFBZUM7UUFDckQsTUFBTSxFQUFFQSxhQUFha0ksY0FBYyxFQUFFbFcsU0FBU21XLGdCQUFnQixFQUFFLEdBQUcsSUFBSSxDQUFDaFgsS0FBSyxDQUFDQyxTQUFTLENBQUNnWCxVQUFVLENBQUNqWSxJQUFJLENBQUM7WUFDcEdZLFFBQVEsSUFBSTtZQUNaaVA7WUFDQWhPLFNBQVMrTjtZQUNUbkQsV0FBV0Y7UUFDZjtRQUNBLE1BQU1oUCxVQUFVLElBQUksQ0FBQ3dELGFBQWEsQ0FBQ3NTLHVCQUF1QixDQUFDMkUsa0JBQWtCRDtRQUM3RSxNQUFNLEVBQUV4TCxRQUFRMkwsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDckwsYUFBYSxDQUFDOEMsY0FBYyxDQUFDcUksa0JBQWtCRDtRQUN0RixNQUFNelosVUFBVTtlQUNUMFosaUJBQWlCMVosT0FBTztTQUM5QjtRQUNELElBQUl5WixlQUFlelosT0FBTyxFQUFFO1lBQ3hCeVosZUFBZXpaLE9BQU8sQ0FBQ0ksT0FBTyxDQUFDLENBQUNDO2dCQUM1QixJQUFJLENBQUNMLFFBQVFnVSxRQUFRLENBQUMzVCxTQUFTO29CQUMzQkwsUUFBUVEsSUFBSSxDQUFDSDtnQkFDakI7WUFDSjtRQUNKO1FBQ0EsTUFBTXdaLGFBQWE5ZixvREFBUUEsQ0FBQyxDQUFDLEdBQUd1WCxlQUFlQyxhQUFhO1lBQ3hEdlI7WUFDQWY7WUFDQWdQLFFBQVEyTDtRQUNaO1FBQ0EsSUFBSSxDQUFDbFgsS0FBSyxDQUFDQyxTQUFTLENBQUMyQixJQUFJLENBQUM1QyxJQUFJLENBQUM7WUFDM0JZLFFBQVEsSUFBSTtZQUNaaUIsU0FBU3NXO1FBQ2I7UUFDQSxPQUFPQTtJQUNYO0lBQ0F2UyxnQkFBZ0J0SCxPQUFPLEVBQUU7UUFDckIsTUFBTThaLFlBQVkvWixrQkFBa0JDLFNBQVM7WUFDekMsSUFBSSxDQUFDMEMsS0FBSztZQUNWLElBQUksQ0FBQ0QsYUFBYSxDQUFDQyxLQUFLO1lBQ3hCLElBQUksQ0FBQzZMLGFBQWEsQ0FBQzdMLEtBQUs7WUFDeEIsSUFBSSxDQUFDc0ksZUFBZSxDQUFDdEksS0FBSztZQUMxQixJQUFJLENBQUNLLFVBQVU7U0FDbEI7UUFDRCxlQUFlO1FBQ2YsSUFBSSxDQUFDUSxPQUFPLENBQUN2RCxPQUFPLEdBQUcsSUFBSSxDQUFDdUQsT0FBTyxDQUFDdkQsT0FBTyxDQUFDZ04sTUFBTSxDQUFDLENBQUN2TCxLQUFLcEI7WUFDckQsSUFBSSxDQUFDQSxRQUFRLE9BQU9vQjtZQUNwQixJQUFJQSxPQUFPLENBQUNBLElBQUluQixJQUFJLENBQUMsQ0FBQ0MsT0FBT0EsS0FBS2pCLElBQUksS0FBS2UsT0FBT2YsSUFBSSxHQUFHO2dCQUNyRG1DLElBQUlqQixJQUFJLENBQUNIO1lBQ2I7WUFDQSxPQUFPb0I7UUFDWCxHQUFHcVksYUFBYSxFQUFFO0lBQ3RCO0lBQ0F6RCxnQkFBZ0JwWCxPQUFPLEVBQUVzRSxPQUFPLEVBQUU7UUFDOUIsT0FBTyxJQUFJLENBQUNkLGFBQWEsQ0FBQzRULGVBQWUsQ0FBQ3BYLFNBQVNzRTtJQUN2RDtJQUNBNEIsWUFBWW9NLFdBQVcsQ0FBQztRQUNwQixJQUFJLENBQUM3TyxLQUFLLEdBQUcsSUFBSTBFLGFBQWE7WUFDMUJ1UyxZQUFZLElBQUk3UyxrQkFBa0I7WUFDbEN4QyxNQUFNLElBQUljO1lBQ1YsdURBQXVEO1lBQ3ZEZixxQkFBcUIsSUFBSTRDLG1CQUFtQjtZQUM1Qyx1REFBdUQ7WUFDdkR6QyxlQUFlLElBQUl5QyxtQkFBbUI7UUFDMUM7UUFDQSxJQUFJLENBQUNsRCxPQUFPLEdBQUc7UUFDZixJQUFJLENBQUNtRixXQUFXLEdBQUcsSUFBSStIO1FBQ3ZCLElBQUksQ0FBQ2xPLFVBQVUsR0FBRyxJQUFJcUUsYUFBYTtZQUMvQiwwREFBMEQ7WUFDMUQyUyxlQUFlLElBQUkzVTtZQUNuQjVLLGNBQWMsSUFBSTRLO1lBQ2xCN0ssWUFBWSxJQUFJNks7WUFDaEIseURBQXlEO1lBQ3pEb0wsT0FBTyxJQUFJcEs7UUFDZjtRQUNBLDRDQUE0QztRQUM1Qyx5Q0FBeUM7UUFDekMsTUFBTTRULGlCQUFpQjtZQUNuQjlhLElBQUliLGdEQUFZQTtZQUNoQmlCLE1BQU1pUyxZQUFZalMsSUFBSTtZQUN0QlUsU0FBUztnQkFDTDZLO2dCQUNBbUU7YUFDSDtZQUNEL1AsU0FBUyxFQUFFO1lBQ1hnUCxRQUFRLENBQUM7WUFDVG5GLFdBQVc1TyxvRUFBWUE7UUFDM0I7UUFDQSxJQUFJLENBQUNvRixJQUFJLEdBQUdpUyxZQUFZalMsSUFBSTtRQUM1QixJQUFJLENBQUNpRSxPQUFPLEdBQUd5VztRQUNmLElBQUksQ0FBQ2hQLGVBQWUsR0FBRyxJQUFJb0UsZ0JBQWdCLElBQUk7UUFDL0MsSUFBSSxDQUFDYixhQUFhLEdBQUcsSUFBSTZDLGNBQWMsSUFBSTtRQUMzQyxJQUFJLENBQUMzTyxhQUFhLEdBQUcsSUFBSXFTLGNBQWMsSUFBSTtRQUMzQyxJQUFJLENBQUNuUixhQUFhLEdBQUcsSUFBSSxDQUFDNEssYUFBYSxDQUFDNUssYUFBYTtRQUNyRCxJQUFJLENBQUMyRCxlQUFlLENBQUM7ZUFDZDBTLGVBQWVoYSxPQUFPO2VBQ3RCdVIsWUFBWXZSLE9BQU8sSUFBSSxFQUFFO1NBQy9CO1FBQ0QsSUFBSSxDQUFDdUQsT0FBTyxHQUFHLElBQUksQ0FBQytWLGFBQWEsQ0FBQ1UsZ0JBQWdCekk7SUFDdEQ7QUFDSjtBQUVBLElBQUkwSSxxQkFBcUI7QUFDekIsU0FBUzNWLEtBQUtmLE9BQU87SUFDakIsZ0RBQWdEO0lBQ2hELE1BQU0yVyxXQUFXemIsZ0RBQTJCQSxDQUFDOEUsUUFBUWpFLElBQUksRUFBRWlFLFFBQVFRLE9BQU87SUFDMUUsSUFBSSxDQUFDbVcsVUFBVTtRQUNYLDZCQUE2QjtRQUM3QixNQUFNQyx3QkFBd0J4YixnREFBOEJBLE1BQU15YTtRQUNsRWEscUJBQXFCLElBQUlFLHNCQUFzQjVXO1FBQy9DMUUsZ0RBQTJCQSxDQUFDb2I7UUFDNUIsT0FBT0E7SUFDWCxPQUFPO1FBQ0gsZ0JBQWdCO1FBQ2hCQyxTQUFTYixXQUFXLENBQUM5VjtRQUNyQixJQUFJLENBQUMwVyxvQkFBb0I7WUFDckJBLHFCQUFxQkM7UUFDekI7UUFDQSxPQUFPQTtJQUNYO0FBQ0o7QUFDQSxTQUFTMUUsV0FBVyxHQUFHN1AsSUFBSTtJQUN2Qm5LLGdEQUFNQSxDQUFDeWUsb0JBQW9CO0lBQzNCLE1BQU1HLGNBQWNILG1CQUFtQnpFLFVBQVU7SUFDakQseUNBQXlDO0lBQ3pDLE9BQU80RSxZQUFZdlUsS0FBSyxDQUFDb1Usb0JBQW9CdFU7QUFDakQ7QUFDQSxTQUFTb00sVUFBVSxHQUFHcE0sSUFBSTtJQUN0Qm5LLGdEQUFNQSxDQUFDeWUsb0JBQW9CO0lBQzNCLHlDQUF5QztJQUN6QyxNQUFNSSxhQUFhSixtQkFBbUJsSSxTQUFTO0lBQy9DLE9BQU9zSSxXQUFXeFUsS0FBSyxDQUFDb1Usb0JBQW9CdFU7QUFDaEQ7QUFDQSxTQUFTdU8sY0FBYyxHQUFHdk8sSUFBSTtJQUMxQm5LLGdEQUFNQSxDQUFDeWUsb0JBQW9CO0lBQzNCLE1BQU1LLGlCQUFpQkwsbUJBQW1CL0YsYUFBYTtJQUN2RCx5Q0FBeUM7SUFDekMsT0FBT29HLGVBQWV6VSxLQUFLLENBQUNvVSxvQkFBb0J0VTtBQUNwRDtBQUNBLFNBQVNzUSxjQUFjLEdBQUd0USxJQUFJO0lBQzFCbkssZ0RBQU1BLENBQUN5ZSxvQkFBb0I7SUFDM0IseUNBQXlDO0lBQ3pDLE9BQU9BLG1CQUFtQmhFLGFBQWEsQ0FBQ3BRLEtBQUssQ0FBQ29VLG9CQUFvQnRVO0FBQ3RFO0FBQ0EsU0FBUzBRLGdCQUFnQixHQUFHMVEsSUFBSTtJQUM1Qm5LLGdEQUFNQSxDQUFDeWUsb0JBQW9CO0lBQzNCLHlDQUF5QztJQUN6QyxPQUFPQSxtQkFBbUI1RCxlQUFlLENBQUN4USxLQUFLLENBQUNvVSxvQkFBb0J0VTtBQUN4RTtBQUNBLFNBQVMyQixnQkFBZ0IsR0FBRzNCLElBQUk7SUFDNUJuSyxnREFBTUEsQ0FBQ3llLG9CQUFvQjtJQUMzQix5Q0FBeUM7SUFDekMsT0FBT0EsbUJBQW1CM1MsZUFBZSxDQUFDekIsS0FBSyxDQUFDb1Usb0JBQW9CdFU7QUFDeEU7QUFDQSxTQUFTNFU7SUFDTCxPQUFPTjtBQUNYO0FBQ0EsbUJBQW1CO0FBQ25CMWIsZ0RBQThCQSxDQUFDNmE7QUFFb0kiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi8uLi9wYWNrYWdlcy9ydW50aW1lL2Rpc3QvaW5kZXguZXNtLmpzPzc3YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZXh0ZW5kcywgYSBhcyBfb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllc19sb29zZSB9IGZyb20gJy4vcG9seWZpbGxzLmVzbS5qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXJFbnYsIGxvYWRTY3JpcHROb2RlLCBjb21wb3NlS2V5V2l0aFNlcGFyYXRvciwgbG9hZFNjcmlwdCwgc2FmZVRvU3RyaW5nLCBjcmVhdGVMaW5rLCBjcmVhdGVTY3JpcHQsIGdldFJlc291cmNlVXJsLCBpc01hbmlmZXN0UHJvdmlkZXIsIGdlbmVyYXRlU25hcHNob3RGcm9tTWFuaWZlc3QsIHdhcm4gYXMgd2FybiQxIH0gZnJvbSAnQG1vZHVsZS1mZWRlcmF0aW9uL3Nkayc7XG5leHBvcnQgeyBsb2FkU2NyaXB0LCBsb2FkU2NyaXB0Tm9kZSB9IGZyb20gJ0Btb2R1bGUtZmVkZXJhdGlvbi9zZGsnO1xuaW1wb3J0IHsgZyBhcyBnZXRHbG9iYWxIb3N0UGx1Z2lucywgYSBhcyBnbG9iYWxMb2FkaW5nLCBEIGFzIERFRkFVTFRfUkVNT1RFX1RZUEUsIGIgYXMgREVGQVVMVF9TQ09QRSwgYyBhcyBnZXRSZW1vdGVFbnRyeUV4cG9ydHMsIGQgYXMgYXNzZXJ0LCBlIGFzIGdldEZNSWQsIGkgYXMgaXNPYmplY3QsIGYgYXMgZXJyb3IsIHcgYXMgd2FybiwgaCBhcyBpc1BsYWluT2JqZWN0LCBqIGFzIGlzUmVtb3RlSW5mb1dpdGhFbnRyeSwgayBhcyBpc1B1cmVSZW1vdGVFbnRyeSwgbCBhcyBnZXRSZW1vdGVFbnRyeUluZm9Gcm9tU25hcHNob3QsIG0gYXMgZ2V0SW5mb1dpdGhvdXRUeXBlLCBuIGFzIGdldFByZWxvYWRlZCwgcyBhcyBzZXRQcmVsb2FkZWQsIG8gYXMgZ2V0UmVnaXN0ZXJlZFNoYXJlLCBwIGFzIGFycmF5T3B0aW9ucywgcSBhcyBnZXRHbG9iYWxTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8sIHIgYXMgYWRkR2xvYmFsU25hcHNob3QsIHQgYXMgc2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvLCBHIGFzIEdsb2JhbCwgdSBhcyBnZXRHbG9iYWxTbmFwc2hvdCwgdiBhcyBmb3JtYXRTaGFyZUNvbmZpZ3MsIHggYXMgZ2V0VGFyZ2V0U2hhcmVkT3B0aW9ucywgeSBhcyBnZXRHbG9iYWxTaGFyZVNjb3BlLCB6IGFzIGFkZFVuaXF1ZUl0ZW0sIEEgYXMgZ2V0QnVpbGRlcklkLCBCIGFzIHNldEdsb2JhbEZlZGVyYXRpb25Db25zdHJ1Y3RvciwgQyBhcyBnZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2UsIEUgYXMgZ2V0R2xvYmFsRmVkZXJhdGlvbkNvbnN0cnVjdG9yLCBGIGFzIHNldEdsb2JhbEZlZGVyYXRpb25JbnN0YW5jZSB9IGZyb20gJy4vc2hhcmUuZXNtLmpzJztcbmV4cG9ydCB7IEggYXMgcmVnaXN0ZXJHbG9iYWxQbHVnaW5zIH0gZnJvbSAnLi9zaGFyZS5lc20uanMnO1xuXG4vLyBGdW5jdGlvbiB0byBtYXRjaCBhIHJlbW90ZSB3aXRoIGl0cyBuYW1lIGFuZCBleHBvc2Vcbi8vIGlkOiBwa2dOYW1lKEBmZWRlcmF0aW9uL2FwcDEpICsgZXhwb3NlKGJ1dHRvbikgPSBAZmVkZXJhdGlvbi9hcHAxL2J1dHRvblxuLy8gaWQ6IGFsaWFzKGFwcDEpICsgZXhwb3NlKGJ1dHRvbikgPSBhcHAxL2J1dHRvblxuLy8gaWQ6IGFsaWFzKGFwcDEvdXRpbHMpICsgZXhwb3NlKGxvYWRhc2gvc29ydCkgPSBhcHAxL3V0aWxzL2xvYWRhc2gvc29ydFxuZnVuY3Rpb24gbWF0Y2hSZW1vdGVXaXRoTmFtZUFuZEV4cG9zZShyZW1vdGVzLCBpZCkge1xuICAgIGZvciAoY29uc3QgcmVtb3RlIG9mIHJlbW90ZXMpe1xuICAgICAgICAvLyBtYXRjaCBwa2dOYW1lXG4gICAgICAgIGNvbnN0IGlzTmFtZU1hdGNoZWQgPSBpZC5zdGFydHNXaXRoKHJlbW90ZS5uYW1lKTtcbiAgICAgICAgbGV0IGV4cG9zZSA9IGlkLnJlcGxhY2UocmVtb3RlLm5hbWUsICcnKTtcbiAgICAgICAgaWYgKGlzTmFtZU1hdGNoZWQpIHtcbiAgICAgICAgICAgIGlmIChleHBvc2Uuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGtnTmFtZU9yQWxpYXMgPSByZW1vdGUubmFtZTtcbiAgICAgICAgICAgICAgICBleHBvc2UgPSBgLiR7ZXhwb3NlfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcGtnTmFtZU9yQWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9zZSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhwb3NlID09PSAnJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHBrZ05hbWVPckFsaWFzOiByZW1vdGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlOiAnLicsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWF0Y2ggYWxpYXNcbiAgICAgICAgY29uc3QgaXNBbGlhc01hdGNoZWQgPSByZW1vdGUuYWxpYXMgJiYgaWQuc3RhcnRzV2l0aChyZW1vdGUuYWxpYXMpO1xuICAgICAgICBsZXQgZXhwb3NlV2l0aEFsaWFzID0gcmVtb3RlLmFsaWFzICYmIGlkLnJlcGxhY2UocmVtb3RlLmFsaWFzLCAnJyk7XG4gICAgICAgIGlmIChyZW1vdGUuYWxpYXMgJiYgaXNBbGlhc01hdGNoZWQpIHtcbiAgICAgICAgICAgIGlmIChleHBvc2VXaXRoQWxpYXMgJiYgZXhwb3NlV2l0aEFsaWFzLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBrZ05hbWVPckFsaWFzID0gcmVtb3RlLmFsaWFzO1xuICAgICAgICAgICAgICAgIGV4cG9zZVdpdGhBbGlhcyA9IGAuJHtleHBvc2VXaXRoQWxpYXN9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwa2dOYW1lT3JBbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlOiBleHBvc2VXaXRoQWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4cG9zZVdpdGhBbGlhcyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwa2dOYW1lT3JBbGlhczogcmVtb3RlLmFsaWFzLFxuICAgICAgICAgICAgICAgICAgICBleHBvc2U6ICcuJyxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59XG4vLyBGdW5jdGlvbiB0byBtYXRjaCBhIHJlbW90ZSB3aXRoIGl0cyBuYW1lIG9yIGFsaWFzXG5mdW5jdGlvbiBtYXRjaFJlbW90ZShyZW1vdGVzLCBuYW1lT3JBbGlhcykge1xuICAgIGZvciAoY29uc3QgcmVtb3RlIG9mIHJlbW90ZXMpe1xuICAgICAgICBjb25zdCBpc05hbWVNYXRjaGVkID0gbmFtZU9yQWxpYXMgPT09IHJlbW90ZS5uYW1lO1xuICAgICAgICBpZiAoaXNOYW1lTWF0Y2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0FsaWFzTWF0Y2hlZCA9IHJlbW90ZS5hbGlhcyAmJiBuYW1lT3JBbGlhcyA9PT0gcmVtb3RlLmFsaWFzO1xuICAgICAgICBpZiAoaXNBbGlhc01hdGNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlclBsdWdpbnMkMShwbHVnaW5zLCBob29rSW5zdGFuY2VzKSB7XG4gICAgY29uc3QgZ2xvYmFsUGx1Z2lucyA9IGdldEdsb2JhbEhvc3RQbHVnaW5zKCk7XG4gICAgLy8gSW5jb3Jwb3JhdGUgZ2xvYmFsIHBsdWdpbnNcbiAgICBpZiAoZ2xvYmFsUGx1Z2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdsb2JhbFBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKT0+e1xuICAgICAgICAgICAgaWYgKHBsdWdpbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHBsdWdpbnMuZmluZCgoaXRlbSk9Pml0ZW0ubmFtZSAhPT0gcGx1Z2luLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocGx1Z2lucyAmJiBwbHVnaW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pPT57XG4gICAgICAgICAgICBob29rSW5zdGFuY2VzLmZvckVhY2goKGhvb2tJbnN0YW5jZSk9PntcbiAgICAgICAgICAgICAgICBob29rSW5zdGFuY2UuYXBwbHlQbHVnaW4ocGx1Z2luKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBsdWdpbnM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRFc21FbnRyeSh7IGVudHJ5LCByZW1vdGVFbnRyeUV4cG9ydHMgfSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFyZW1vdGVFbnRyeUV4cG9ydHMpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXZhbFxuICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbignY2FsbGJhY2tzJywgYGltcG9ydChcIiR7ZW50cnl9XCIpLnRoZW4oY2FsbGJhY2tzWzBdKS5jYXRjaChjYWxsYmFja3NbMV0pYCkoW1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZW1vdGVFbnRyeUV4cG9ydHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTeXN0ZW1Kc0VudHJ5KHsgZW50cnksIHJlbW90ZUVudHJ5RXhwb3J0cyB9KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXJlbW90ZUVudHJ5RXhwb3J0cykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKCdjYWxsYmFja3MnLCBgU3lzdGVtLmltcG9ydChcIiR7ZW50cnl9XCIpLnRoZW4oY2FsbGJhY2tzWzBdKS5jYXRjaChjYWxsYmFja3NbMV0pYCkoW1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZW1vdGVFbnRyeUV4cG9ydHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRFbnRyeVNjcmlwdCh7IG5hbWUsIGdsb2JhbE5hbWUsIGVudHJ5LCBjcmVhdGVTY3JpcHRIb29rIH0pIHtcbiAgICBjb25zdCB7IGVudHJ5RXhwb3J0czogcmVtb3RlRW50cnlFeHBvcnRzIH0gPSBnZXRSZW1vdGVFbnRyeUV4cG9ydHMobmFtZSwgZ2xvYmFsTmFtZSk7XG4gICAgaWYgKHJlbW90ZUVudHJ5RXhwb3J0cykge1xuICAgICAgICByZXR1cm4gcmVtb3RlRW50cnlFeHBvcnRzO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZFNjcmlwdChlbnRyeSwge1xuICAgICAgICBhdHRyczoge30sXG4gICAgICAgIGNyZWF0ZVNjcmlwdEhvb2s6ICh1cmwsIGF0dHJzKT0+e1xuICAgICAgICAgICAgY29uc3QgcmVzID0gY3JlYXRlU2NyaXB0SG9vay5lbWl0KHtcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgYXR0cnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXMpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChyZXMgaW5zdGFuY2VvZiBIVE1MU2NyaXB0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3NjcmlwdCcgaW4gcmVzIHx8ICd0aW1lb3V0JyBpbiByZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfSkudGhlbigoKT0+e1xuICAgICAgICBjb25zdCB7IHJlbW90ZUVudHJ5S2V5LCBlbnRyeUV4cG9ydHMgfSA9IGdldFJlbW90ZUVudHJ5RXhwb3J0cyhuYW1lLCBnbG9iYWxOYW1lKTtcbiAgICAgICAgYXNzZXJ0KGVudHJ5RXhwb3J0cywgYFxuICAgICAgVW5hYmxlIHRvIHVzZSB0aGUgJHtuYW1lfSdzICcke2VudHJ5fScgVVJMIHdpdGggJHtyZW1vdGVFbnRyeUtleX0ncyBnbG9iYWxOYW1lIHRvIGdldCByZW1vdGVFbnRyeSBleHBvcnRzLlxuICAgICAgUG9zc2libGUgcmVhc29ucyBjb3VsZCBiZTpcXG5cbiAgICAgIDEuICcke2VudHJ5fScgaXMgbm90IHRoZSBjb3JyZWN0IFVSTCwgb3IgdGhlIHJlbW90ZUVudHJ5IHJlc291cmNlIG9yIG5hbWUgaXMgaW5jb3JyZWN0LlxcblxuICAgICAgMi4gJHtyZW1vdGVFbnRyeUtleX0gY2Fubm90IGJlIHVzZWQgdG8gZ2V0IHJlbW90ZUVudHJ5IGV4cG9ydHMgaW4gdGhlIHdpbmRvdyBvYmplY3QuXG4gICAgYCk7XG4gICAgICAgIHJldHVybiBlbnRyeUV4cG9ydHM7XG4gICAgfSkuY2F0Y2goKGUpPT57XG4gICAgICAgIHRocm93IGU7XG4gICAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkRW50cnlEb20oeyByZW1vdGVJbmZvLCByZW1vdGVFbnRyeUV4cG9ydHMsIGNyZWF0ZVNjcmlwdEhvb2sgfSkge1xuICAgIGNvbnN0IHsgZW50cnksIGVudHJ5R2xvYmFsTmFtZTogZ2xvYmFsTmFtZSwgbmFtZSwgdHlwZSB9ID0gcmVtb3RlSW5mbztcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ2VzbSc6XG4gICAgICAgIGNhc2UgJ21vZHVsZSc6XG4gICAgICAgICAgICByZXR1cm4gbG9hZEVzbUVudHJ5KHtcbiAgICAgICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICAgICAgICByZW1vdGVFbnRyeUV4cG9ydHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlICdzeXN0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIGxvYWRTeXN0ZW1Kc0VudHJ5KHtcbiAgICAgICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICAgICAgICByZW1vdGVFbnRyeUV4cG9ydHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvYWRFbnRyeVNjcmlwdCh7XG4gICAgICAgICAgICAgICAgZW50cnksXG4gICAgICAgICAgICAgICAgZ2xvYmFsTmFtZSxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdEhvb2tcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRFbnRyeU5vZGUoeyByZW1vdGVJbmZvLCBjcmVhdGVTY3JpcHRIb29rIH0pIHtcbiAgICBjb25zdCB7IGVudHJ5LCBlbnRyeUdsb2JhbE5hbWU6IGdsb2JhbE5hbWUsIG5hbWUgfSA9IHJlbW90ZUluZm87XG4gICAgY29uc3QgeyBlbnRyeUV4cG9ydHM6IHJlbW90ZUVudHJ5RXhwb3J0cyB9ID0gZ2V0UmVtb3RlRW50cnlFeHBvcnRzKG5hbWUsIGdsb2JhbE5hbWUpO1xuICAgIGlmIChyZW1vdGVFbnRyeUV4cG9ydHMpIHtcbiAgICAgICAgcmV0dXJuIHJlbW90ZUVudHJ5RXhwb3J0cztcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRTY3JpcHROb2RlKGVudHJ5LCB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZ2xvYmFsTmFtZVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVTY3JpcHRIb29rOiAodXJsLCBhdHRycyk9PntcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNyZWF0ZVNjcmlwdEhvb2suZW1pdCh7XG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGF0dHJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVzKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoJ3VybCcgaW4gcmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH0pLnRoZW4oKCk9PntcbiAgICAgICAgY29uc3QgeyByZW1vdGVFbnRyeUtleSwgZW50cnlFeHBvcnRzIH0gPSBnZXRSZW1vdGVFbnRyeUV4cG9ydHMobmFtZSwgZ2xvYmFsTmFtZSk7XG4gICAgICAgIGFzc2VydChlbnRyeUV4cG9ydHMsIGBcbiAgICAgIFVuYWJsZSB0byB1c2UgdGhlICR7bmFtZX0ncyAnJHtlbnRyeX0nIFVSTCB3aXRoICR7cmVtb3RlRW50cnlLZXl9J3MgZ2xvYmFsTmFtZSB0byBnZXQgcmVtb3RlRW50cnkgZXhwb3J0cy5cbiAgICAgIFBvc3NpYmxlIHJlYXNvbnMgY291bGQgYmU6XFxuXG4gICAgICAxLiAnJHtlbnRyeX0nIGlzIG5vdCB0aGUgY29ycmVjdCBVUkwsIG9yIHRoZSByZW1vdGVFbnRyeSByZXNvdXJjZSBvciBuYW1lIGlzIGluY29ycmVjdC5cXG5cbiAgICAgIDIuICR7cmVtb3RlRW50cnlLZXl9IGNhbm5vdCBiZSB1c2VkIHRvIGdldCByZW1vdGVFbnRyeSBleHBvcnRzIGluIHRoZSB3aW5kb3cgb2JqZWN0LlxuICAgIGApO1xuICAgICAgICByZXR1cm4gZW50cnlFeHBvcnRzO1xuICAgIH0pLmNhdGNoKChlKT0+e1xuICAgICAgICB0aHJvdyBlO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0UmVtb3RlRW50cnlVbmlxdWVLZXkocmVtb3RlSW5mbykge1xuICAgIGNvbnN0IHsgZW50cnksIG5hbWUgfSA9IHJlbW90ZUluZm87XG4gICAgcmV0dXJuIGNvbXBvc2VLZXlXaXRoU2VwYXJhdG9yKG5hbWUsIGVudHJ5KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFJlbW90ZUVudHJ5KHsgb3JpZ2luLCByZW1vdGVFbnRyeUV4cG9ydHMsIHJlbW90ZUluZm8gfSkge1xuICAgIGNvbnN0IHVuaXF1ZUtleSA9IGdldFJlbW90ZUVudHJ5VW5pcXVlS2V5KHJlbW90ZUluZm8pO1xuICAgIGlmIChyZW1vdGVFbnRyeUV4cG9ydHMpIHtcbiAgICAgICAgcmV0dXJuIHJlbW90ZUVudHJ5RXhwb3J0cztcbiAgICB9XG4gICAgaWYgKCFnbG9iYWxMb2FkaW5nW3VuaXF1ZUtleV0pIHtcbiAgICAgICAgY29uc3QgbG9hZEVudHJ5SG9vayA9IG9yaWdpbi5yZW1vdGVIYW5kbGVyLmhvb2tzLmxpZmVjeWNsZS5sb2FkRW50cnk7XG4gICAgICAgIGlmIChsb2FkRW50cnlIb29rLmxpc3RlbmVycy5zaXplKSB7XG4gICAgICAgICAgICBnbG9iYWxMb2FkaW5nW3VuaXF1ZUtleV0gPSBsb2FkRW50cnlIb29rLmVtaXQoe1xuICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdEhvb2s6IG9yaWdpbi5sb2FkZXJIb29rLmxpZmVjeWNsZS5jcmVhdGVTY3JpcHQsXG4gICAgICAgICAgICAgICAgcmVtb3RlSW5mbyxcbiAgICAgICAgICAgICAgICByZW1vdGVFbnRyeUV4cG9ydHNcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlcyk9PnJlcyB8fCB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlU2NyaXB0SG9vayA9IG9yaWdpbi5sb2FkZXJIb29rLmxpZmVjeWNsZS5jcmVhdGVTY3JpcHQ7XG4gICAgICAgICAgICBpZiAoIWlzQnJvd3NlckVudigpKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9hZGluZ1t1bmlxdWVLZXldID0gbG9hZEVudHJ5Tm9kZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUluZm8sXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcmlwdEhvb2tcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9hZGluZ1t1bmlxdWVLZXldID0gbG9hZEVudHJ5RG9tKHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlRW50cnlFeHBvcnRzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JpcHRIb29rXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbExvYWRpbmdbdW5pcXVlS2V5XTtcbn1cbmZ1bmN0aW9uIGdldFJlbW90ZUluZm8ocmVtb3RlKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCByZW1vdGUsIHtcbiAgICAgICAgZW50cnk6ICdlbnRyeScgaW4gcmVtb3RlID8gcmVtb3RlLmVudHJ5IDogJycsXG4gICAgICAgIHR5cGU6IHJlbW90ZS50eXBlIHx8IERFRkFVTFRfUkVNT1RFX1RZUEUsXG4gICAgICAgIGVudHJ5R2xvYmFsTmFtZTogcmVtb3RlLmVudHJ5R2xvYmFsTmFtZSB8fCByZW1vdGUubmFtZSxcbiAgICAgICAgc2hhcmVTY29wZTogcmVtb3RlLnNoYXJlU2NvcGUgfHwgREVGQVVMVF9TQ09QRVxuICAgIH0pO1xufVxuXG5sZXQgTW9kdWxlID0gY2xhc3MgTW9kdWxlIHtcbiAgICBhc3luYyBnZXRFbnRyeSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlRW50cnlFeHBvcnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVFbnRyeUV4cG9ydHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHJlbW90ZUVudHJ5LmpzXG4gICAgICAgIGNvbnN0IHJlbW90ZUVudHJ5RXhwb3J0cyA9IGF3YWl0IGdldFJlbW90ZUVudHJ5KHtcbiAgICAgICAgICAgIG9yaWdpbjogdGhpcy5ob3N0LFxuICAgICAgICAgICAgcmVtb3RlSW5mbzogdGhpcy5yZW1vdGVJbmZvLFxuICAgICAgICAgICAgcmVtb3RlRW50cnlFeHBvcnRzOiB0aGlzLnJlbW90ZUVudHJ5RXhwb3J0c1xuICAgICAgICB9KTtcbiAgICAgICAgYXNzZXJ0KHJlbW90ZUVudHJ5RXhwb3J0cywgYHJlbW90ZUVudHJ5RXhwb3J0cyBpcyB1bmRlZmluZWQgXFxuICR7c2FmZVRvU3RyaW5nKHRoaXMucmVtb3RlSW5mbyl9YCk7XG4gICAgICAgIHRoaXMucmVtb3RlRW50cnlFeHBvcnRzID0gcmVtb3RlRW50cnlFeHBvcnRzO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVFbnRyeUV4cG9ydHM7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgYXN5bmMgZ2V0KGlkLCBleHBvc2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBsb2FkRmFjdG9yeSA9IHRydWUgfSA9IG9wdGlvbnMgfHwge1xuICAgICAgICAgICAgbG9hZEZhY3Rvcnk6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgLy8gR2V0IHJlbW90ZUVudHJ5LmpzXG4gICAgICAgIGNvbnN0IHJlbW90ZUVudHJ5RXhwb3J0cyA9IGF3YWl0IHRoaXMuZ2V0RW50cnkoKTtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRlZCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxTaGFyZVNjb3BlTWFwID0gdGhpcy5ob3N0LnNoYXJlU2NvcGVNYXA7XG4gICAgICAgICAgICBjb25zdCByZW1vdGVTaGFyZVNjb3BlID0gdGhpcy5yZW1vdGVJbmZvLnNoYXJlU2NvcGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAgICAgaWYgKCFsb2NhbFNoYXJlU2NvcGVNYXBbcmVtb3RlU2hhcmVTY29wZV0pIHtcbiAgICAgICAgICAgICAgICBsb2NhbFNoYXJlU2NvcGVNYXBbcmVtb3RlU2hhcmVTY29wZV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNoYXJlU2NvcGUgPSBsb2NhbFNoYXJlU2NvcGVNYXBbcmVtb3RlU2hhcmVTY29wZV07XG4gICAgICAgICAgICBjb25zdCBpbml0U2NvcGUgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZUVudHJ5SW5pdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5yZW1vdGVJbmZvLnZlcnNpb24gfHwgJydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBIZWxwIHRvIGZpbmQgaG9zdCBpbnN0YW5jZVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbW90ZUVudHJ5SW5pdE9wdGlvbnMsICdzaGFyZVNjb3BlTWFwJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBsb2NhbFNoYXJlU2NvcGVNYXAsXG4gICAgICAgICAgICAgICAgLy8gcmVtb3RlRW50cnlJbml0T3B0aW9ucyB3aWxsIGJlIHRyYXZlcnNlZCBhbmQgYXNzaWduZWQgZHVyaW5nIGNvbnRhaW5lciBpbml0LCAsc28gdGhpcyBhdHRyaWJ1dGUgaXMgbm90IGFsbG93ZWQgdG8gYmUgdHJhdmVyc2VkXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaW5pdENvbnRhaW5lck9wdGlvbnMgPSBhd2FpdCB0aGlzLmhvc3QuaG9va3MubGlmZWN5Y2xlLmJlZm9yZUluaXRDb250YWluZXIuZW1pdCh7XG4gICAgICAgICAgICAgICAgc2hhcmVTY29wZSxcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHNoYXJlU2NvcGVNYXAgd2lsbCBiZSBzZXQgYnkgT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICAgICAgICAgICAgICAgcmVtb3RlRW50cnlJbml0T3B0aW9ucyxcbiAgICAgICAgICAgICAgICBpbml0U2NvcGUsXG4gICAgICAgICAgICAgICAgcmVtb3RlSW5mbzogdGhpcy5yZW1vdGVJbmZvLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogdGhpcy5ob3N0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHJlbW90ZUVudHJ5RXhwb3J0cyA9PSBudWxsID8gdm9pZCAwIDogcmVtb3RlRW50cnlFeHBvcnRzLmluaXQpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSByZW1vdGUgZW50cnkgaW50ZXJmYWNlIGRvZXMgbm90IGNvbnRhaW4gXCJpbml0XCInLCAnXFxuJywgJ0Vuc3VyZSB0aGUgbmFtZSBvZiB0aGlzIHJlbW90ZSBpcyBub3QgcmVzZXJ2ZWQgb3IgaW4gdXNlLiBDaGVjayBpZiBhbnl0aGluZyBhbHJlYWR5IGV4aXN0cyBvbiB3aW5kb3dbbmFtZU9mUmVtb3RlXScsICdcXG4nLCAnRW5zdXJlIHRoYXQgd2luZG93W25hbWVPZlJlbW90ZV0gaXMgcmV0dXJuaW5nIGEge2dldCxpbml0fSBvYmplY3QuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCByZW1vdGVFbnRyeUV4cG9ydHMuaW5pdChpbml0Q29udGFpbmVyT3B0aW9ucy5zaGFyZVNjb3BlLCBpbml0Q29udGFpbmVyT3B0aW9ucy5pbml0U2NvcGUsIGluaXRDb250YWluZXJPcHRpb25zLnJlbW90ZUVudHJ5SW5pdE9wdGlvbnMpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ob3N0Lmhvb2tzLmxpZmVjeWNsZS5pbml0Q29udGFpbmVyLmVtaXQoX2V4dGVuZHMoe30sIGluaXRDb250YWluZXJPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgcmVtb3RlRW50cnlFeHBvcnRzXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saWIgPSByZW1vdGVFbnRyeUV4cG9ydHM7XG4gICAgICAgIHRoaXMuaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZ2V0IGV4cG9zZUdldHRlclxuICAgICAgICBjb25zdCBtb2R1bGVGYWN0b3J5ID0gYXdhaXQgcmVtb3RlRW50cnlFeHBvcnRzLmdldChleHBvc2UpO1xuICAgICAgICBhc3NlcnQobW9kdWxlRmFjdG9yeSwgYCR7Z2V0Rk1JZCh0aGlzLnJlbW90ZUluZm8pfSByZW1vdGUgZG9uJ3QgZXhwb3J0ICR7ZXhwb3NlfS5gKTtcbiAgICAgICAgY29uc3Qgd3JhcE1vZHVsZUZhY3RvcnkgPSB0aGlzLndyYXBlckZhY3RvcnkobW9kdWxlRmFjdG9yeSwgaWQpO1xuICAgICAgICBpZiAoIWxvYWRGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcE1vZHVsZUZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhwb3NlQ29udGVudCA9IGF3YWl0IHdyYXBNb2R1bGVGYWN0b3J5KCk7XG4gICAgICAgIHJldHVybiBleHBvc2VDb250ZW50O1xuICAgIH1cbiAgICB3cmFwZXJGYWN0b3J5KG1vZHVsZUZhY3RvcnksIGlkKSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1vZHVsZUlkKHJlcywgaWQpIHtcbiAgICAgICAgICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcyA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShyZXMpICYmICFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlcywgU3ltYm9sLmZvcignbWZfbW9kdWxlX2lkJykpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcywgU3ltYm9sLmZvcignbWZfbW9kdWxlX2lkJyksIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlkLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb2R1bGVGYWN0b3J5IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgbW9kdWxlRmFjdG9yeSgpO1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgcGFyYW1ldGVyIGlzIHVzZWQgZm9yIGJyaWRnZSBkZWJ1Z2dpbmdcbiAgICAgICAgICAgICAgICBkZWZpbmVNb2R1bGVJZChyZXMsIGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IG1vZHVsZUZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIGZvciBicmlkZ2UgZGVidWdnaW5nXG4gICAgICAgICAgICAgICAgZGVmaW5lTW9kdWxlSWQocmVzLCBpZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoeyByZW1vdGVJbmZvLCBob3N0IH0pe1xuICAgICAgICB0aGlzLmluaXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZW1vdGVJbmZvID0gcmVtb3RlSW5mbztcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG59O1xuXG5jbGFzcyBTeW5jSG9vayB7XG4gICAgb24oZm4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGZuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbmNlKGZuKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vbihmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlKHdyYXBwZXIpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtaXQoLi4uZGF0YSkge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChmbik9PntcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmbiguLi5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlbW92ZShmbikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoZm4pO1xuICAgIH1cbiAgICByZW1vdmVBbGwoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHR5cGUpe1xuICAgICAgICB0aGlzLnR5cGUgPSAnJztcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBBc3luY0hvb2sgZXh0ZW5kcyBTeW5jSG9vayB7XG4gICAgZW1pdCguLi5kYXRhKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGNvbnN0IGxzID0gQXJyYXkuZnJvbSh0aGlzLmxpc3RlbmVycyk7XG4gICAgICAgIGlmIChscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0gKHByZXYpPT57XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gQWJvcnQgcHJvY2Vzc1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA8IGxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxzW2krK10uYXBwbHkobnVsbCwgZGF0YSkpLnRoZW4oY2FsbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gY2hlY2tSZXR1cm5EYXRhKG9yaWdpbmFsRGF0YSwgcmV0dXJuZWREYXRhKSB7XG4gICAgaWYgKCFpc09iamVjdChyZXR1cm5lZERhdGEpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9yaWdpbmFsRGF0YSAhPT0gcmV0dXJuZWREYXRhKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBmb3IoY29uc3Qga2V5IGluIG9yaWdpbmFsRGF0YSl7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gcmV0dXJuZWREYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNsYXNzIFN5bmNXYXRlcmZhbGxIb29rIGV4dGVuZHMgU3luY0hvb2sge1xuICAgIGVtaXQoZGF0YSkge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgICAgICBlcnJvcihgVGhlIGRhdGEgZm9yIHRoZSBcIiR7dGhpcy50eXBlfVwiIGhvb2sgc2hvdWxkIGJlIGFuIG9iamVjdC5gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMubGlzdGVuZXJzKXtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcERhdGEgPSBmbihkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tSZXR1cm5EYXRhKGRhdGEsIHRlbXBEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gdGVtcERhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yKGBBIHBsdWdpbiByZXR1cm5lZCBhbiB1bmFjY2VwdGFibGUgdmFsdWUgZm9yIHRoZSBcIiR7dGhpcy50eXBlfVwiIHR5cGUuYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodHlwZSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub25lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuY2xhc3MgQXN5bmNXYXRlcmZhbGxIb29rIGV4dGVuZHMgU3luY0hvb2sge1xuICAgIGVtaXQoZGF0YSkge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgICAgICBlcnJvcihgVGhlIHJlc3BvbnNlIGRhdGEgZm9yIHRoZSBcIiR7dGhpcy50eXBlfVwiIGhvb2sgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbHMgPSBBcnJheS5mcm9tKHRoaXMubGlzdGVuZXJzKTtcbiAgICAgICAgaWYgKGxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlKT0+e1xuICAgICAgICAgICAgICAgIHdhcm4oZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSAocHJldkRhdGEpPT57XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrUmV0dXJuRGF0YShkYXRhLCBwcmV2RGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHByZXZEYXRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IGxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxzW2krK10oZGF0YSkpLnRoZW4oY2FsbCwgcHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0Vycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yKGBBIHBsdWdpbiByZXR1cm5lZCBhbiBpbmNvcnJlY3QgdmFsdWUgZm9yIHRoZSBcIiR7dGhpcy50eXBlfVwiIHR5cGUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FsbChkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodHlwZSl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub25lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuY2xhc3MgUGx1Z2luU3lzdGVtIHtcbiAgICBhcHBseVBsdWdpbihwbHVnaW4pIHtcbiAgICAgICAgYXNzZXJ0KGlzUGxhaW5PYmplY3QocGx1Z2luKSwgJ1BsdWdpbiBjb25maWd1cmF0aW9uIGlzIGludmFsaWQuJyk7XG4gICAgICAgIC8vIFRoZSBwbHVnaW4ncyBuYW1lIGlzIG1hbmRhdG9yeSBhbmQgbXVzdCBiZSB1bmlxdWVcbiAgICAgICAgY29uc3QgcGx1Z2luTmFtZSA9IHBsdWdpbi5uYW1lO1xuICAgICAgICBhc3NlcnQocGx1Z2luTmFtZSwgJ0EgbmFtZSBtdXN0IGJlIHByb3ZpZGVkIGJ5IHRoZSBwbHVnaW4uJyk7XG4gICAgICAgIGlmICghdGhpcy5yZWdpc3RlclBsdWdpbnNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJQbHVnaW5zW3BsdWdpbk5hbWVdID0gcGx1Z2luO1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5saWZlY3ljbGUpLmZvckVhY2goKGtleSk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBwbHVnaW5MaWZlID0gcGx1Z2luW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbkxpZmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWZlY3ljbGVba2V5XS5vbihwbHVnaW5MaWZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVQbHVnaW4ocGx1Z2luTmFtZSkge1xuICAgICAgICBhc3NlcnQocGx1Z2luTmFtZSwgJ0EgbmFtZSBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5yZWdpc3RlclBsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICAgIGFzc2VydChwbHVnaW4sIGBUaGUgcGx1Z2luIFwiJHtwbHVnaW5OYW1lfVwiIGlzIG5vdCByZWdpc3RlcmVkLmApO1xuICAgICAgICBPYmplY3Qua2V5cyhwbHVnaW4pLmZvckVhY2goKGtleSk9PntcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgIHRoaXMubGlmZWN5Y2xlW2tleV0ucmVtb3ZlKHBsdWdpbltrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgaW5oZXJpdCh7IGxpZmVjeWNsZSwgcmVnaXN0ZXJQbHVnaW5zIH0pIHtcbiAgICAgICAgT2JqZWN0LmtleXMobGlmZWN5Y2xlKS5mb3JFYWNoKChob29rTmFtZSk9PntcbiAgICAgICAgICAgIGFzc2VydCghdGhpcy5saWZlY3ljbGVbaG9va05hbWVdLCBgVGhlIGhvb2sgXCIke2hvb2tOYW1lfVwiIGhhcyBhIGNvbmZsaWN0IGFuZCBjYW5ub3QgYmUgaW5oZXJpdGVkLmApO1xuICAgICAgICAgICAgdGhpcy5saWZlY3ljbGVbaG9va05hbWVdID0gbGlmZWN5Y2xlW2hvb2tOYW1lXTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKHJlZ2lzdGVyUGx1Z2lucykuZm9yRWFjaCgocGx1Z2luTmFtZSk9PntcbiAgICAgICAgICAgIGFzc2VydCghdGhpcy5yZWdpc3RlclBsdWdpbnNbcGx1Z2luTmFtZV0sIGBUaGUgcGx1Z2luIFwiJHtwbHVnaW5OYW1lfVwiIGhhcyBhIGNvbmZsaWN0IGFuZCBjYW5ub3QgYmUgaW5oZXJpdGVkLmApO1xuICAgICAgICAgICAgdGhpcy5hcHBseVBsdWdpbihyZWdpc3RlclBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobGlmZWN5Y2xlKXtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBsdWdpbnMgPSB7fTtcbiAgICAgICAgdGhpcy5saWZlY3ljbGUgPSBsaWZlY3ljbGU7XG4gICAgICAgIHRoaXMubGlmZWN5Y2xlS2V5cyA9IE9iamVjdC5rZXlzKGxpZmVjeWNsZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlbG9hZEFyZ3MocHJlbG9hZENvbmZpZykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICAgIHJlc291cmNlQ2F0ZWdvcnk6ICdzeW5jJyxcbiAgICAgICAgc2hhcmU6IHRydWUsXG4gICAgICAgIGRlcHNSZW1vdGU6IHRydWUsXG4gICAgICAgIHByZWZldGNoSW50ZXJmYWNlOiBmYWxzZVxuICAgIH0sIHByZWxvYWRDb25maWcpO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJlbG9hZEFyZ3MocmVtb3RlcywgcHJlbG9hZEFyZ3MpIHtcbiAgICByZXR1cm4gcHJlbG9hZEFyZ3MubWFwKChhcmdzKT0+e1xuICAgICAgICBjb25zdCByZW1vdGVJbmZvID0gbWF0Y2hSZW1vdGUocmVtb3RlcywgYXJncy5uYW1lT3JBbGlhcyk7XG4gICAgICAgIGFzc2VydChyZW1vdGVJbmZvLCBgVW5hYmxlIHRvIHByZWxvYWQgJHthcmdzLm5hbWVPckFsaWFzfSBhcyBpdCBpcyBub3QgaW5jbHVkZWQgaW4gJHshcmVtb3RlSW5mbyAmJiBzYWZlVG9TdHJpbmcoe1xuICAgICAgICAgICAgcmVtb3RlSW5mbyxcbiAgICAgICAgICAgIHJlbW90ZXNcbiAgICAgICAgfSl9YCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZW1vdGU6IHJlbW90ZUluZm8sXG4gICAgICAgICAgICBwcmVsb2FkQ29uZmlnOiBkZWZhdWx0UHJlbG9hZEFyZ3MoYXJncylcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByZWxvYWRFeHBvc2VzKGV4cG9zZXMpIHtcbiAgICBpZiAoIWV4cG9zZXMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gZXhwb3Nlcy5tYXAoKGV4cG9zZSk9PntcbiAgICAgICAgaWYgKGV4cG9zZSA9PT0gJy4nKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3NlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvc2Uuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9zZS5yZXBsYWNlKCcuLycsICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwb3NlO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcHJlbG9hZEFzc2V0cyhyZW1vdGVJbmZvLCBob3N0LCBhc3NldHMsIC8vIEl0IGlzIHVzZWQgdG8gZGlzdGluZ3Vpc2ggcHJlbG9hZCBmcm9tIGxvYWQgcmVtb3RlIHBhcmFsbGVsIGxvYWRpbmdcbnVzZUxpbmtQcmVsb2FkID0gdHJ1ZSkge1xuICAgIGNvbnN0IHsgY3NzQXNzZXRzLCBqc0Fzc2V0c1dpdGhvdXRFbnRyeSwgZW50cnlBc3NldHMgfSA9IGFzc2V0cztcbiAgICBpZiAoaG9zdC5vcHRpb25zLmluQnJvd3Nlcikge1xuICAgICAgICBlbnRyeUFzc2V0cy5mb3JFYWNoKChhc3NldCk9PntcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlSW5mbyB9ID0gYXNzZXQ7XG4gICAgICAgICAgICBjb25zdCBtb2R1bGUgPSBob3N0Lm1vZHVsZUNhY2hlLmdldChyZW1vdGVJbmZvLm5hbWUpO1xuICAgICAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgICAgIGdldFJlbW90ZUVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBob3N0LFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVJbmZvOiBtb2R1bGVJbmZvLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVFbnRyeUV4cG9ydHM6IG1vZHVsZS5yZW1vdGVFbnRyeUV4cG9ydHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0UmVtb3RlRW50cnkoe1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGhvc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUluZm86IG1vZHVsZUluZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUVudHJ5RXhwb3J0czogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlTGlua1ByZWxvYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBdHRycyA9IHtcbiAgICAgICAgICAgICAgICByZWw6ICdwcmVsb2FkJyxcbiAgICAgICAgICAgICAgICBhczogJ3N0eWxlJyxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogJ2Fub255bW91cydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjc3NBc3NldHMuZm9yRWFjaCgoY3NzVXJsKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGluazogY3NzRWwsIG5lZWRBdHRhY2ggfSA9IGNyZWF0ZUxpbmsoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGNzc1VybCxcbiAgICAgICAgICAgICAgICAgICAgY2I6ICgpPT57fSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IGRlZmF1bHRBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTGlua0hvb2s6ICh1cmwsIGF0dHJzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gaG9zdC5sb2FkZXJIb29rLmxpZmVjeWNsZS5jcmVhdGVMaW5rLmVtaXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjc3NFbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBdHRycyA9IHtcbiAgICAgICAgICAgICAgICByZWw6ICdzdHlsZXNoZWV0JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC9jc3MnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY3NzQXNzZXRzLmZvckVhY2goKGNzc1VybCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxpbms6IGNzc0VsLCBuZWVkQXR0YWNoIH0gPSBjcmVhdGVMaW5rKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjc3NVcmwsXG4gICAgICAgICAgICAgICAgICAgIGNiOiAoKT0+e30sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiBkZWZhdWx0QXR0cnMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxpbmtIb29rOiAodXJsLCBhdHRycyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGhvc3QubG9hZGVySG9vay5saWZlY3ljbGUuY3JlYXRlTGluay5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIEhUTUxMaW5rRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG5lZWREZWxldGVMaW5rOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjc3NFbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlTGlua1ByZWxvYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBdHRycyA9IHtcbiAgICAgICAgICAgICAgICByZWw6ICdwcmVsb2FkJyxcbiAgICAgICAgICAgICAgICBhczogJ3NjcmlwdCcsXG4gICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAganNBc3NldHNXaXRob3V0RW50cnkuZm9yRWFjaCgoanNVcmwpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyBsaW5rOiBsaW5rRWwsIG5lZWRBdHRhY2ggfSA9IGNyZWF0ZUxpbmsoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGpzVXJsLFxuICAgICAgICAgICAgICAgICAgICBjYjogKCk9Pnt9LFxuICAgICAgICAgICAgICAgICAgICBhdHRyczogZGVmYXVsdEF0dHJzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVMaW5rSG9vazogKHVybCwgYXR0cnMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBob3N0LmxvYWRlckhvb2subGlmZWN5Y2xlLmNyZWF0ZUxpbmsuZW1pdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgaW5zdGFuY2VvZiBIVE1MTGlua0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmtFbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBdHRycyA9IHtcbiAgICAgICAgICAgICAgICBmZXRjaHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICAgICAgdHlwZTogKHJlbW90ZUluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IHJlbW90ZUluZm8udHlwZSkgPT09ICdtb2R1bGUnID8gJ21vZHVsZScgOiAndGV4dC9qYXZhc2NyaXB0J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGpzQXNzZXRzV2l0aG91dEVudHJ5LmZvckVhY2goKGpzVXJsKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2NyaXB0OiBzY3JpcHRFbCwgbmVlZEF0dGFjaCB9ID0gY3JlYXRlU2NyaXB0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBqc1VybCxcbiAgICAgICAgICAgICAgICAgICAgY2I6ICgpPT57fSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IGRlZmF1bHRBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2NyaXB0SG9vazogKHVybCwgYXR0cnMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBob3N0LmxvYWRlckhvb2subGlmZWN5Y2xlLmNyZWF0ZVNjcmlwdC5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIEhUTUxTY3JpcHRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmVlZERlbGV0ZVNjcmlwdDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5lZWRBdHRhY2ggJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduUmVtb3RlSW5mbyhyZW1vdGVJbmZvLCByZW1vdGVTbmFwc2hvdCkge1xuICAgIGNvbnN0IHJlbW90ZUVudHJ5SW5mbyA9IGdldFJlbW90ZUVudHJ5SW5mb0Zyb21TbmFwc2hvdChyZW1vdGVTbmFwc2hvdCk7XG4gICAgaWYgKCFyZW1vdGVFbnRyeUluZm8udXJsKSB7XG4gICAgICAgIGVycm9yKGBUaGUgYXR0cmlidXRlIHJlbW90ZUVudHJ5IG9mICR7cmVtb3RlSW5mby5uYW1lfSBtdXN0IG5vdCBiZSB1bmRlZmluZWQuYCk7XG4gICAgfVxuICAgIGxldCBlbnRyeVVybCA9IGdldFJlc291cmNlVXJsKHJlbW90ZVNuYXBzaG90LCByZW1vdGVFbnRyeUluZm8udXJsKTtcbiAgICBpZiAoIWlzQnJvd3NlckVudigpICYmICFlbnRyeVVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgZW50cnlVcmwgPSBgaHR0cHM6JHtlbnRyeVVybH1gO1xuICAgIH1cbiAgICByZW1vdGVJbmZvLnR5cGUgPSByZW1vdGVFbnRyeUluZm8udHlwZTtcbiAgICByZW1vdGVJbmZvLmVudHJ5R2xvYmFsTmFtZSA9IHJlbW90ZUVudHJ5SW5mby5nbG9iYWxOYW1lO1xuICAgIHJlbW90ZUluZm8uZW50cnkgPSBlbnRyeVVybDtcbiAgICByZW1vdGVJbmZvLnZlcnNpb24gPSByZW1vdGVTbmFwc2hvdC52ZXJzaW9uO1xuICAgIHJlbW90ZUluZm8uYnVpbGRWZXJzaW9uID0gcmVtb3RlU25hcHNob3QuYnVpbGRWZXJzaW9uO1xufVxuZnVuY3Rpb24gc25hcHNob3RQbHVnaW4oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogJ3NuYXBzaG90LXBsdWdpbicsXG4gICAgICAgIGFzeW5jIGFmdGVyUmVzb2x2ZSAoYXJncykge1xuICAgICAgICAgICAgY29uc3QgeyByZW1vdGUsIHBrZ05hbWVPckFsaWFzLCBleHBvc2UsIG9yaWdpbiwgcmVtb3RlSW5mbyB9ID0gYXJncztcbiAgICAgICAgICAgIGlmICghaXNSZW1vdGVJbmZvV2l0aEVudHJ5KHJlbW90ZSkgfHwgIWlzUHVyZVJlbW90ZUVudHJ5KHJlbW90ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlbW90ZVNuYXBzaG90LCBnbG9iYWxTbmFwc2hvdCB9ID0gYXdhaXQgb3JpZ2luLnNuYXBzaG90SGFuZGxlci5sb2FkUmVtb3RlU25hcHNob3RJbmZvKHJlbW90ZSk7XG4gICAgICAgICAgICAgICAgYXNzaWduUmVtb3RlSW5mbyhyZW1vdGVJbmZvLCByZW1vdGVTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgLy8gcHJlbG9hZGluZyBhc3NldHNcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLFxuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lT3JBbGlhczogcGtnTmFtZU9yQWxpYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VDYXRlZ29yeTogJ3N5bmMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwc1JlbW90ZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzZXRzID0gYXdhaXQgb3JpZ2luLnJlbW90ZUhhbmRsZXIuaG9va3MubGlmZWN5Y2xlLmdlbmVyYXRlUHJlbG9hZEFzc2V0cy5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVTbmFwc2hvdCxcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU25hcHNob3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoYXNzZXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRBc3NldHMocmVtb3RlSW5mbywgb3JpZ2luLCBhc3NldHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcmdzLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVNuYXBzaG90XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIG5hbWVcbi8vIG5hbWU6dmVyc2lvblxuZnVuY3Rpb24gc3BsaXRJZChpZCkge1xuICAgIGNvbnN0IHNwbGl0SW5mbyA9IGlkLnNwbGl0KCc6Jyk7XG4gICAgaWYgKHNwbGl0SW5mby5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHNwbGl0SW5mb1swXSxcbiAgICAgICAgICAgIHZlcnNpb246IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3BsaXRJbmZvLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogc3BsaXRJbmZvWzBdLFxuICAgICAgICAgICAgdmVyc2lvbjogc3BsaXRJbmZvWzFdXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHNwbGl0SW5mb1sxXSxcbiAgICAgICAgICAgIHZlcnNpb246IHNwbGl0SW5mb1syXVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIFRyYXZlcnNlIGFsbCBub2RlcyBpbiBtb2R1bGVJbmZvIGFuZCB0cmF2ZXJzZSB0aGUgZW50aXJlIHNuYXBzaG90XG5mdW5jdGlvbiB0cmF2ZXJzZU1vZHVsZUluZm8oZ2xvYmFsU25hcHNob3QsIHJlbW90ZUluZm8sIHRyYXZlcnNlLCBpc1Jvb3QsIG1lbW8gPSB7fSwgcmVtb3RlU25hcHNob3QpIHtcbiAgICBjb25zdCBpZCA9IGdldEZNSWQocmVtb3RlSW5mbyk7XG4gICAgY29uc3QgeyB2YWx1ZTogc25hcHNob3RWYWx1ZSB9ID0gZ2V0SW5mb1dpdGhvdXRUeXBlKGdsb2JhbFNuYXBzaG90LCBpZCk7XG4gICAgY29uc3QgZWZmZWN0aXZlUmVtb3RlU25hcHNob3QgPSByZW1vdGVTbmFwc2hvdCB8fCBzbmFwc2hvdFZhbHVlO1xuICAgIGlmIChlZmZlY3RpdmVSZW1vdGVTbmFwc2hvdCAmJiAhaXNNYW5pZmVzdFByb3ZpZGVyKGVmZmVjdGl2ZVJlbW90ZVNuYXBzaG90KSkge1xuICAgICAgICB0cmF2ZXJzZShlZmZlY3RpdmVSZW1vdGVTbmFwc2hvdCwgcmVtb3RlSW5mbywgaXNSb290KTtcbiAgICAgICAgaWYgKGVmZmVjdGl2ZVJlbW90ZVNuYXBzaG90LnJlbW90ZXNJbmZvKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdGVLZXlzID0gT2JqZWN0LmtleXMoZWZmZWN0aXZlUmVtb3RlU25hcHNob3QucmVtb3Rlc0luZm8pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmVtb3RlS2V5cyl7XG4gICAgICAgICAgICAgICAgaWYgKG1lbW9ba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVtb1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJSZW1vdGVJbmZvID0gc3BsaXRJZChrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVZhbHVlID0gZWZmZWN0aXZlUmVtb3RlU25hcHNob3QucmVtb3Rlc0luZm9ba2V5XTtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZU1vZHVsZUluZm8oZ2xvYmFsU25hcHNob3QsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc3ViUmVtb3RlSW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiByZW1vdGVWYWx1ZS5tYXRjaGVkVmVyc2lvblxuICAgICAgICAgICAgICAgIH0sIHRyYXZlcnNlLCBmYWxzZSwgbWVtbywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG5mdW5jdGlvbiBnZW5lcmF0ZVByZWxvYWRBc3NldHMob3JpZ2luLCBwcmVsb2FkT3B0aW9ucywgcmVtb3RlLCBnbG9iYWxTbmFwc2hvdCwgcmVtb3RlU25hcHNob3QpIHtcbiAgICBjb25zdCBjc3NBc3NldHMgPSBbXTtcbiAgICBjb25zdCBqc0Fzc2V0cyA9IFtdO1xuICAgIGNvbnN0IGVudHJ5QXNzZXRzID0gW107XG4gICAgY29uc3QgbG9hZGVkU2hhcmVkSnNBc3NldHMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgbG9hZGVkU2hhcmVkQ3NzQXNzZXRzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gb3JpZ2luO1xuICAgIGNvbnN0IHsgcHJlbG9hZENvbmZpZzogcm9vdFByZWxvYWRDb25maWcgfSA9IHByZWxvYWRPcHRpb25zO1xuICAgIGNvbnN0IHsgZGVwc1JlbW90ZSB9ID0gcm9vdFByZWxvYWRDb25maWc7XG4gICAgY29uc3QgbWVtbyA9IHt9O1xuICAgIHRyYXZlcnNlTW9kdWxlSW5mbyhnbG9iYWxTbmFwc2hvdCwgcmVtb3RlLCAobW9kdWxlSW5mb1NuYXBzaG90LCByZW1vdGVJbmZvLCBpc1Jvb3QpPT57XG4gICAgICAgIGxldCBwcmVsb2FkQ29uZmlnO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICBwcmVsb2FkQ29uZmlnID0gcm9vdFByZWxvYWRDb25maWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZXBzUmVtb3RlKSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhcnJheS1jYWxsYmFjay1yZXR1cm5cbiAgICAgICAgICAgICAgICBjb25zdCBmaW5kUHJlbG9hZENvbmZpZyA9IGRlcHNSZW1vdGUuZmluZCgocmVtb3RlQ29uZmlnKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3RlQ29uZmlnLm5hbWVPckFsaWFzID09PSByZW1vdGVJbmZvLm5hbWUgfHwgcmVtb3RlQ29uZmlnLm5hbWVPckFsaWFzID09PSByZW1vdGVJbmZvLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaW5kUHJlbG9hZENvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZWxvYWRDb25maWcgPSBkZWZhdWx0UHJlbG9hZEFyZ3MoZmluZFByZWxvYWRDb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXBzUmVtb3RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcHJlbG9hZENvbmZpZyA9IHJvb3RQcmVsb2FkQ29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3RlRW50cnlVcmwgPSBnZXRSZXNvdXJjZVVybChtb2R1bGVJbmZvU25hcHNob3QsIGdldFJlbW90ZUVudHJ5SW5mb0Zyb21TbmFwc2hvdChtb2R1bGVJbmZvU25hcHNob3QpLnVybCk7XG4gICAgICAgIGlmIChyZW1vdGVFbnRyeVVybCkge1xuICAgICAgICAgICAgZW50cnlBc3NldHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVtb3RlSW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIG1vZHVsZUluZm86IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVtb3RlSW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbnRyeTogcmVtb3RlRW50cnlVcmwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZW1vdGVFbnRyeVR5cGUnIGluIG1vZHVsZUluZm9TbmFwc2hvdCA/IG1vZHVsZUluZm9TbmFwc2hvdC5yZW1vdGVFbnRyeVR5cGUgOiAnZ2xvYmFsJyxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlHbG9iYWxOYW1lOiAnZ2xvYmFsTmFtZScgaW4gbW9kdWxlSW5mb1NuYXBzaG90ID8gbW9kdWxlSW5mb1NuYXBzaG90Lmdsb2JhbE5hbWUgOiByZW1vdGVJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlU2NvcGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiAndmVyc2lvbicgaW4gbW9kdWxlSW5mb1NuYXBzaG90ID8gbW9kdWxlSW5mb1NuYXBzaG90LnZlcnNpb24gOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVybDogcmVtb3RlRW50cnlVcmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2R1bGVBc3NldHNJbmZvID0gJ21vZHVsZXMnIGluIG1vZHVsZUluZm9TbmFwc2hvdCA/IG1vZHVsZUluZm9TbmFwc2hvdC5tb2R1bGVzIDogW107XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRQcmVsb2FkRXhwb3NlcyA9IG5vcm1hbGl6ZVByZWxvYWRFeHBvc2VzKHByZWxvYWRDb25maWcuZXhwb3Nlcyk7XG4gICAgICAgIGlmIChub3JtYWxpemVkUHJlbG9hZEV4cG9zZXMubGVuZ3RoICYmICdtb2R1bGVzJyBpbiBtb2R1bGVJbmZvU25hcHNob3QpIHtcbiAgICAgICAgICAgIHZhciBfbW9kdWxlSW5mb1NuYXBzaG90X21vZHVsZXM7XG4gICAgICAgICAgICBtb2R1bGVBc3NldHNJbmZvID0gbW9kdWxlSW5mb1NuYXBzaG90ID09IG51bGwgPyB2b2lkIDAgOiAoX21vZHVsZUluZm9TbmFwc2hvdF9tb2R1bGVzID0gbW9kdWxlSW5mb1NuYXBzaG90Lm1vZHVsZXMpID09IG51bGwgPyB2b2lkIDAgOiBfbW9kdWxlSW5mb1NuYXBzaG90X21vZHVsZXMucmVkdWNlKChhc3NldHMsIG1vZHVsZUFzc2V0SW5mbyk9PntcbiAgICAgICAgICAgICAgICBpZiAoKG5vcm1hbGl6ZWRQcmVsb2FkRXhwb3NlcyA9PSBudWxsID8gdm9pZCAwIDogbm9ybWFsaXplZFByZWxvYWRFeHBvc2VzLmluZGV4T2YobW9kdWxlQXNzZXRJbmZvLm1vZHVsZU5hbWUpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzLnB1c2gobW9kdWxlQXNzZXRJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0cztcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVBc3NldHMoYXNzZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBhc3NldHNSZXMgPSBhc3NldHMubWFwKChhc3NldCk9PmdldFJlc291cmNlVXJsKG1vZHVsZUluZm9TbmFwc2hvdCwgYXNzZXQpKTtcbiAgICAgICAgICAgIGlmIChwcmVsb2FkQ29uZmlnLmZpbHRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3NldHNSZXMuZmlsdGVyKHByZWxvYWRDb25maWcuZmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhc3NldHNSZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZHVsZUFzc2V0c0luZm8pIHtcbiAgICAgICAgICAgIGNvbnN0IGFzc2V0c0xlbmd0aCA9IG1vZHVsZUFzc2V0c0luZm8ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXNzZXRzTGVuZ3RoOyBpbmRleCsrKXtcbiAgICAgICAgICAgICAgICBjb25zdCBhc3NldHNJbmZvID0gbW9kdWxlQXNzZXRzSW5mb1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwb3NlRnVsbFBhdGggPSBgJHtyZW1vdGVJbmZvLm5hbWV9LyR7YXNzZXRzSW5mby5tb2R1bGVOYW1lfWA7XG4gICAgICAgICAgICAgICAgb3JpZ2luLnJlbW90ZUhhbmRsZXIuaG9va3MubGlmZWN5Y2xlLmhhbmRsZVByZWxvYWRNb2R1bGUuZW1pdCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBhc3NldHNJbmZvLm1vZHVsZU5hbWUgPT09ICcuJyA/IHJlbW90ZUluZm8ubmFtZSA6IGV4cG9zZUZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZW1vdGVJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVNuYXBzaG90OiBtb2R1bGVJbmZvU25hcHNob3QsXG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZTogcmVtb3RlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlbG9hZGVkID0gZ2V0UHJlbG9hZGVkKGV4cG9zZUZ1bGxQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJlbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJlbG9hZENvbmZpZy5yZXNvdXJjZUNhdGVnb3J5ID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgICAgICBjc3NBc3NldHMucHVzaCguLi5oYW5kbGVBc3NldHMoYXNzZXRzSW5mby5hc3NldHMuY3NzLmFzeW5jKSk7XG4gICAgICAgICAgICAgICAgICAgIGNzc0Fzc2V0cy5wdXNoKC4uLmhhbmRsZUFzc2V0cyhhc3NldHNJbmZvLmFzc2V0cy5jc3Muc3luYykpO1xuICAgICAgICAgICAgICAgICAgICBqc0Fzc2V0cy5wdXNoKC4uLmhhbmRsZUFzc2V0cyhhc3NldHNJbmZvLmFzc2V0cy5qcy5hc3luYykpO1xuICAgICAgICAgICAgICAgICAgICBqc0Fzc2V0cy5wdXNoKC4uLmhhbmRsZUFzc2V0cyhhc3NldHNJbmZvLmFzc2V0cy5qcy5zeW5jKSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlbG9hZENvbmZpZy5yZXNvdXJjZUNhdGVnb3J5ID0gJ3N5bmMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc0Fzc2V0cy5wdXNoKC4uLmhhbmRsZUFzc2V0cyhhc3NldHNJbmZvLmFzc2V0cy5jc3Muc3luYykpO1xuICAgICAgICAgICAgICAgICAgICBqc0Fzc2V0cy5wdXNoKC4uLmhhbmRsZUFzc2V0cyhhc3NldHNJbmZvLmFzc2V0cy5qcy5zeW5jKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFByZWxvYWRlZChleHBvc2VGdWxsUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB0cnVlLCBtZW1vLCByZW1vdGVTbmFwc2hvdCk7XG4gICAgaWYgKHJlbW90ZVNuYXBzaG90LnNoYXJlZCkge1xuICAgICAgICBjb25zdCBjb2xsZWN0U2hhcmVkQXNzZXRzID0gKHNoYXJlSW5mbywgc25hcHNob3RTaGFyZWQpPT57XG4gICAgICAgICAgICBjb25zdCByZWdpc3RlcmVkU2hhcmVkID0gZ2V0UmVnaXN0ZXJlZFNoYXJlKG9yaWdpbi5zaGFyZVNjb3BlTWFwLCBzbmFwc2hvdFNoYXJlZC5zaGFyZWROYW1lLCBzaGFyZUluZm8sIG9yaWdpbi5zaGFyZWRIYW5kbGVyLmhvb2tzLmxpZmVjeWNsZS5yZXNvbHZlU2hhcmUpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGdsb2JhbCBzaGFyZSBkb2VzIG5vdCBleGlzdCwgb3IgdGhlIGxpYiBmdW5jdGlvbiBkb2VzIG5vdCBleGlzdCwgaXQgbWVhbnMgdGhhdCB0aGUgc2hhcmVkIGhhcyBub3QgYmVlbiBsb2FkZWQgeWV0IGFuZCBjYW4gYmUgcHJlbG9hZGVkLlxuICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRTaGFyZWQgJiYgdHlwZW9mIHJlZ2lzdGVyZWRTaGFyZWQubGliID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgc25hcHNob3RTaGFyZWQuYXNzZXRzLmpzLnN5bmMuZm9yRWFjaCgoYXNzZXQpPT57XG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZFNoYXJlZEpzQXNzZXRzLmFkZChhc3NldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc25hcHNob3RTaGFyZWQuYXNzZXRzLmNzcy5zeW5jLmZvckVhY2goKGFzc2V0KT0+e1xuICAgICAgICAgICAgICAgICAgICBsb2FkZWRTaGFyZWRDc3NBc3NldHMuYWRkKGFzc2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmVtb3RlU25hcHNob3Quc2hhcmVkLmZvckVhY2goKHNoYXJlZCk9PntcbiAgICAgICAgICAgIHZhciBfb3B0aW9uc19zaGFyZWQ7XG4gICAgICAgICAgICBjb25zdCBzaGFyZUluZm9zID0gKF9vcHRpb25zX3NoYXJlZCA9IG9wdGlvbnMuc2hhcmVkKSA9PSBudWxsID8gdm9pZCAwIDogX29wdGlvbnNfc2hhcmVkW3NoYXJlZC5zaGFyZWROYW1lXTtcbiAgICAgICAgICAgIGlmICghc2hhcmVJbmZvcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIG5vIHZlcnNpb24sIHByZWxvYWQgYWxsIHNoYXJlZFxuICAgICAgICAgICAgY29uc3Qgc2hhcmVkT3B0aW9ucyA9IHNoYXJlZC52ZXJzaW9uID8gc2hhcmVJbmZvcy5maW5kKChzKT0+cy52ZXJzaW9uID09PSBzaGFyZWQudmVyc2lvbikgOiBzaGFyZUluZm9zO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXJyYXlTaGFyZUluZm8gPSBhcnJheU9wdGlvbnMoc2hhcmVkT3B0aW9ucyk7XG4gICAgICAgICAgICBhcnJheVNoYXJlSW5mby5mb3JFYWNoKChzKT0+e1xuICAgICAgICAgICAgICAgIGNvbGxlY3RTaGFyZWRBc3NldHMocywgc2hhcmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbmVlZFByZWxvYWRKc0Fzc2V0cyA9IGpzQXNzZXRzLmZpbHRlcigoYXNzZXQpPT4hbG9hZGVkU2hhcmVkSnNBc3NldHMuaGFzKGFzc2V0KSk7XG4gICAgY29uc3QgbmVlZFByZWxvYWRDc3NBc3NldHMgPSBjc3NBc3NldHMuZmlsdGVyKChhc3NldCk9PiFsb2FkZWRTaGFyZWRDc3NBc3NldHMuaGFzKGFzc2V0KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3NzQXNzZXRzOiBuZWVkUHJlbG9hZENzc0Fzc2V0cyxcbiAgICAgICAganNBc3NldHNXaXRob3V0RW50cnk6IG5lZWRQcmVsb2FkSnNBc3NldHMsXG4gICAgICAgIGVudHJ5QXNzZXRzXG4gICAgfTtcbn1cbmNvbnN0IGdlbmVyYXRlUHJlbG9hZEFzc2V0c1BsdWdpbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6ICdnZW5lcmF0ZS1wcmVsb2FkLWFzc2V0cy1wbHVnaW4nLFxuICAgICAgICBhc3luYyBnZW5lcmF0ZVByZWxvYWRBc3NldHMgKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3JpZ2luLCBwcmVsb2FkT3B0aW9ucywgcmVtb3RlSW5mbywgcmVtb3RlLCBnbG9iYWxTbmFwc2hvdCwgcmVtb3RlU25hcHNob3QgfSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoaXNSZW1vdGVJbmZvV2l0aEVudHJ5KHJlbW90ZSkgJiYgaXNQdXJlUmVtb3RlRW50cnkocmVtb3RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNzc0Fzc2V0czogW10sXG4gICAgICAgICAgICAgICAgICAgIGpzQXNzZXRzV2l0aG91dEVudHJ5OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlBc3NldHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZW1vdGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlbW90ZS5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVJbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlbW90ZUluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnk6IHJlbW90ZS5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dsb2JhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5R2xvYmFsTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlU2NvcGU6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblJlbW90ZUluZm8ocmVtb3RlSW5mbywgcmVtb3RlU25hcHNob3QpO1xuICAgICAgICAgICAgY29uc3QgYXNzZXRzID0gZ2VuZXJhdGVQcmVsb2FkQXNzZXRzKG9yaWdpbiwgcHJlbG9hZE9wdGlvbnMsIHJlbW90ZUluZm8sIGdsb2JhbFNuYXBzaG90LCByZW1vdGVTbmFwc2hvdCk7XG4gICAgICAgICAgICByZXR1cm4gYXNzZXRzO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEdsb2JhbFJlbW90ZUluZm8obW9kdWxlSW5mbywgb3JpZ2luKSB7XG4gICAgY29uc3QgaG9zdEdsb2JhbFNuYXBzaG90ID0gZ2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvKHtcbiAgICAgICAgbmFtZTogb3JpZ2luLm9wdGlvbnMubmFtZSxcbiAgICAgICAgdmVyc2lvbjogb3JpZ2luLm9wdGlvbnMudmVyc2lvblxuICAgIH0pO1xuICAgIC8vIGdldCByZW1vdGUgZGV0YWlsIGluZm8gZnJvbSBnbG9iYWxcbiAgICBjb25zdCBnbG9iYWxSZW1vdGVJbmZvID0gaG9zdEdsb2JhbFNuYXBzaG90ICYmICdyZW1vdGVzSW5mbycgaW4gaG9zdEdsb2JhbFNuYXBzaG90ICYmIGhvc3RHbG9iYWxTbmFwc2hvdC5yZW1vdGVzSW5mbyAmJiBnZXRJbmZvV2l0aG91dFR5cGUoaG9zdEdsb2JhbFNuYXBzaG90LnJlbW90ZXNJbmZvLCBtb2R1bGVJbmZvLm5hbWUpLnZhbHVlO1xuICAgIGlmIChnbG9iYWxSZW1vdGVJbmZvICYmIGdsb2JhbFJlbW90ZUluZm8ubWF0Y2hlZFZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhvc3RHbG9iYWxTbmFwc2hvdCxcbiAgICAgICAgICAgIGdsb2JhbFNuYXBzaG90OiBnZXRHbG9iYWxTbmFwc2hvdCgpLFxuICAgICAgICAgICAgcmVtb3RlU25hcHNob3Q6IGdldEdsb2JhbFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyh7XG4gICAgICAgICAgICAgICAgbmFtZTogbW9kdWxlSW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGdsb2JhbFJlbW90ZUluZm8ubWF0Y2hlZFZlcnNpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGhvc3RHbG9iYWxTbmFwc2hvdDogdW5kZWZpbmVkLFxuICAgICAgICBnbG9iYWxTbmFwc2hvdDogZ2V0R2xvYmFsU25hcHNob3QoKSxcbiAgICAgICAgcmVtb3RlU25hcHNob3Q6IGdldEdsb2JhbFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyh7XG4gICAgICAgICAgICBuYW1lOiBtb2R1bGVJbmZvLm5hbWUsXG4gICAgICAgICAgICB2ZXJzaW9uOiAndmVyc2lvbicgaW4gbW9kdWxlSW5mbyA/IG1vZHVsZUluZm8udmVyc2lvbiA6IHVuZGVmaW5lZFxuICAgICAgICB9KVxuICAgIH07XG59XG5jbGFzcyBTbmFwc2hvdEhhbmRsZXIge1xuICAgIGFzeW5jIGxvYWRTbmFwc2hvdChtb2R1bGVJbmZvKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5Ib3N0SW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHsgaG9zdEdsb2JhbFNuYXBzaG90LCByZW1vdGVTbmFwc2hvdCwgZ2xvYmFsU25hcHNob3QgfSA9IHRoaXMuZ2V0R2xvYmFsUmVtb3RlSW5mbyhtb2R1bGVJbmZvKTtcbiAgICAgICAgY29uc3QgeyByZW1vdGVTbmFwc2hvdDogZ2xvYmFsUmVtb3RlU25hcHNob3QsIGdsb2JhbFNuYXBzaG90OiBnbG9iYWxTbmFwc2hvdFJlcyB9ID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUubG9hZFNuYXBzaG90LmVtaXQoe1xuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1vZHVsZUluZm8sXG4gICAgICAgICAgICBob3N0R2xvYmFsU25hcHNob3QsXG4gICAgICAgICAgICByZW1vdGVTbmFwc2hvdCxcbiAgICAgICAgICAgIGdsb2JhbFNuYXBzaG90XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVtb3RlU25hcHNob3Q6IGdsb2JhbFJlbW90ZVNuYXBzaG90LFxuICAgICAgICAgICAgZ2xvYmFsU25hcHNob3Q6IGdsb2JhbFNuYXBzaG90UmVzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG4gICAgYXN5bmMgbG9hZFJlbW90ZVNuYXBzaG90SW5mbyhtb2R1bGVJbmZvKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcy5Ib3N0SW5zdGFuY2U7XG4gICAgICAgIGF3YWl0IHRoaXMuaG9va3MubGlmZWN5Y2xlLmJlZm9yZUxvYWRSZW1vdGVTbmFwc2hvdC5lbWl0KHtcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBtb2R1bGVJbmZvXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaG9zdFNuYXBzaG90ID0gZ2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvKHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuSG9zdEluc3RhbmNlLm9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMuSG9zdEluc3RhbmNlLm9wdGlvbnMudmVyc2lvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFob3N0U25hcHNob3QpIHtcbiAgICAgICAgICAgIGhvc3RTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLkhvc3RJbnN0YW5jZS5vcHRpb25zLnZlcnNpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgcmVtb3RlRW50cnk6ICcnLFxuICAgICAgICAgICAgICAgIHJlbW90ZXNJbmZvOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZEdsb2JhbFNuYXBzaG90KHtcbiAgICAgICAgICAgICAgICBbdGhpcy5Ib3N0SW5zdGFuY2Uub3B0aW9ucy5uYW1lXTogaG9zdFNuYXBzaG90XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiBkeW5hbWljIGxvYWRSZW1vdGUgc2NlbmFyaW9zLCBpbmNvbXBsZXRlIHJlbW90ZXNJbmZvIGRlbGl2ZXJ5IG1heSBvY2N1ci4gSW4gc3VjaCBjYXNlcywgdGhlIHJlbW90ZXNJbmZvIGluIHRoZSBob3N0IG5lZWRzIHRvIGJlIGNvbXBsZXRlZCBpbiB0aGUgc25hcHNob3QgYXQgcnVudGltZS5cbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSBzbmFwc2hvdCdzIGludGVncml0eSBhbmQgaGVscHMgdGhlIGNocm9tZSBwbHVnaW4gY29ycmVjdGx5IGlkZW50aWZ5IGFsbCBwcm9kdWNlciBtb2R1bGVzLCBlbnN1cmluZyB0aGF0IHByb3h5YWJsZSBwcm9kdWNlciBtb2R1bGVzIHdpbGwgbm90IGJlIG1pc3NpbmcuXG4gICAgICAgIGlmIChob3N0U25hcHNob3QgJiYgJ3JlbW90ZXNJbmZvJyBpbiBob3N0U25hcHNob3QgJiYgIWdldEluZm9XaXRob3V0VHlwZShob3N0U25hcHNob3QucmVtb3Rlc0luZm8sIG1vZHVsZUluZm8ubmFtZSkudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICgndmVyc2lvbicgaW4gbW9kdWxlSW5mbyB8fCAnZW50cnknIGluIG1vZHVsZUluZm8pIHtcbiAgICAgICAgICAgICAgICBob3N0U25hcHNob3QucmVtb3Rlc0luZm8gPSBfZXh0ZW5kcyh7fSwgaG9zdFNuYXBzaG90ID09IG51bGwgPyB2b2lkIDAgOiBob3N0U25hcHNob3QucmVtb3Rlc0luZm8sIHtcbiAgICAgICAgICAgICAgICAgICAgW21vZHVsZUluZm8ubmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRWZXJzaW9uOiAndmVyc2lvbicgaW4gbW9kdWxlSW5mbyA/IG1vZHVsZUluZm8udmVyc2lvbiA6IG1vZHVsZUluZm8uZW50cnlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaG9zdEdsb2JhbFNuYXBzaG90LCByZW1vdGVTbmFwc2hvdCwgZ2xvYmFsU25hcHNob3QgfSA9IHRoaXMuZ2V0R2xvYmFsUmVtb3RlSW5mbyhtb2R1bGVJbmZvKTtcbiAgICAgICAgY29uc3QgeyByZW1vdGVTbmFwc2hvdDogZ2xvYmFsUmVtb3RlU25hcHNob3QsIGdsb2JhbFNuYXBzaG90OiBnbG9iYWxTbmFwc2hvdFJlcyB9ID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUubG9hZFNuYXBzaG90LmVtaXQoe1xuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG1vZHVsZUluZm8sXG4gICAgICAgICAgICBob3N0R2xvYmFsU25hcHNob3QsXG4gICAgICAgICAgICByZW1vdGVTbmFwc2hvdCxcbiAgICAgICAgICAgIGdsb2JhbFNuYXBzaG90XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBnbG9iYWwgc25hcHNob3QgaW5jbHVkZXMgbWFuaWZlc3Qgb3IgbW9kdWxlIGluZm8gaW5jbHVkZXMgbWFuaWZlc3RcbiAgICAgICAgaWYgKGdsb2JhbFJlbW90ZVNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoaXNNYW5pZmVzdFByb3ZpZGVyKGdsb2JhbFJlbW90ZVNuYXBzaG90KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZUVudHJ5ID0gaXNCcm93c2VyRW52KCkgPyBnbG9iYWxSZW1vdGVTbmFwc2hvdC5yZW1vdGVFbnRyeSA6IGdsb2JhbFJlbW90ZVNuYXBzaG90LnNzclJlbW90ZUVudHJ5IHx8IGdsb2JhbFJlbW90ZVNuYXBzaG90LnJlbW90ZUVudHJ5IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZVNuYXBzaG90ID0gYXdhaXQgdGhpcy5nZXRNYW5pZmVzdEpzb24ocmVtb3RlRW50cnksIG1vZHVsZUluZm8sIHt9KTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFNuYXBzaG90UmVzID0gc2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvKF9leHRlbmRzKHt9LCBtb2R1bGVJbmZvLCB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBnbG9iYWwgcmVtb3RlIG1heSBiZSBvdmVycmlkZGVuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgc2V0IHRoZSBzbmFwc2hvdCBrZXkgdG8gdGhlIGdsb2JhbCBhZGRyZXNzIG9mIHRoZSBhY3R1YWwgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICBlbnRyeTogcmVtb3RlRW50cnlcbiAgICAgICAgICAgICAgICB9KSwgbW9kdWxlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVNuYXBzaG90OiBtb2R1bGVTbmFwc2hvdCxcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU25hcHNob3Q6IGdsb2JhbFNuYXBzaG90UmVzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZW1vdGVTbmFwc2hvdDogcmVtb3RlU25hcHNob3RSZXMgfSA9IGF3YWl0IHRoaXMuaG9va3MubGlmZWN5Y2xlLmxvYWRSZW1vdGVTbmFwc2hvdC5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5Ib3N0SW5zdGFuY2Uub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlU25hcHNob3Q6IGdsb2JhbFJlbW90ZVNuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiAnZ2xvYmFsJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZVNuYXBzaG90OiByZW1vdGVTbmFwc2hvdFJlcyxcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU25hcHNob3Q6IGdsb2JhbFNuYXBzaG90UmVzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc1JlbW90ZUluZm9XaXRoRW50cnkobW9kdWxlSW5mbykpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgZnJvbSBtYW5pZmVzdC5qc29uIGFuZCBtZXJnZSByZW1vdGUgaW5mbyBmcm9tIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVTbmFwc2hvdCA9IGF3YWl0IHRoaXMuZ2V0TWFuaWZlc3RKc29uKG1vZHVsZUluZm8uZW50cnksIG1vZHVsZUluZm8sIHt9KTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFNuYXBzaG90UmVzID0gc2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvKG1vZHVsZUluZm8sIG1vZHVsZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlbW90ZVNuYXBzaG90OiByZW1vdGVTbmFwc2hvdFJlcyB9ID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUubG9hZFJlbW90ZVNuYXBzaG90LmVtaXQoe1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLkhvc3RJbnN0YW5jZS5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVJbmZvLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVTbmFwc2hvdDogbW9kdWxlU25hcHNob3QsXG4gICAgICAgICAgICAgICAgICAgIGZyb206ICdnbG9iYWwnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlU25hcHNob3Q6IHJlbW90ZVNuYXBzaG90UmVzLFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxTbmFwc2hvdDogZ2xvYmFsU25hcHNob3RSZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvcihgXG4gICAgICAgICAgQ2Fubm90IGdldCByZW1vdGVTbmFwc2hvdCB3aXRoIHRoZSBuYW1lOiAnJHttb2R1bGVJbmZvLm5hbWV9JywgdmVyc2lvbjogJyR7bW9kdWxlSW5mby52ZXJzaW9ufScgZnJvbSBfX0ZFREVSQVRJT05fXy5tb2R1bGVJbmZvLiBUaGUgZm9sbG93aW5nIHJlYXNvbnMgbWF5IGJlIGNhdXNpbmcgdGhlIHByb2JsZW06XFxuXG4gICAgICAgICAgMS4gVGhlIERlcGxveSBwbGF0Zm9ybSBkaWQgbm90IGRlbGl2ZXIgdGhlIGNvcnJlY3QgZGF0YS4gWW91IGNhbiB1c2UgX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbyB0byBjaGVjayB0aGUgcmVtb3RlSW5mby5cXG5cbiAgICAgICAgICAyLiBUaGUgcmVtb3RlICcke21vZHVsZUluZm8ubmFtZX0nIHZlcnNpb24gJyR7bW9kdWxlSW5mby52ZXJzaW9ufScgaXMgbm90IHJlbGVhc2VkLlxcblxuICAgICAgICAgIFRoZSB0cmFuc2Zvcm1lZCBtb2R1bGUgaW5mbzogJHtKU09OLnN0cmluZ2lmeShnbG9iYWxTbmFwc2hvdFJlcyl9XG4gICAgICAgIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldEdsb2JhbFJlbW90ZUluZm8obW9kdWxlSW5mbykge1xuICAgICAgICByZXR1cm4gZ2V0R2xvYmFsUmVtb3RlSW5mbyhtb2R1bGVJbmZvLCB0aGlzLkhvc3RJbnN0YW5jZSk7XG4gICAgfVxuICAgIGFzeW5jIGdldE1hbmlmZXN0SnNvbihtYW5pZmVzdFVybCwgbW9kdWxlSW5mbywgZXh0cmFPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGdldE1hbmlmZXN0ID0gYXN5bmMgKCk9PntcbiAgICAgICAgICAgIGxldCBtYW5pZmVzdEpzb24gPSB0aGlzLm1hbmlmZXN0Q2FjaGUuZ2V0KG1hbmlmZXN0VXJsKTtcbiAgICAgICAgICAgIGlmIChtYW5pZmVzdEpzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuaWZlc3RKc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy5sb2FkZXJIb29rLmxpZmVjeWNsZS5mZXRjaC5lbWl0KG1hbmlmZXN0VXJsLCB7fSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXMgfHwgIShyZXMgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgZmV0Y2gobWFuaWZlc3RVcmwsIHt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFuaWZlc3RKc29uID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQobWFuaWZlc3RKc29uLm1ldGFEYXRhICYmIG1hbmlmZXN0SnNvbi5leHBvc2VzICYmIG1hbmlmZXN0SnNvbi5zaGFyZWQsIGAke21hbmlmZXN0VXJsfSBpcyBub3QgYSBmZWRlcmF0aW9uIG1hbmlmZXN0YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5pZmVzdENhY2hlLnNldChtYW5pZmVzdFVybCwgbWFuaWZlc3RKc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFuaWZlc3RKc29uO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubWFuaWZlc3RMb2FkaW5nW21hbmlmZXN0VXJsXTtcbiAgICAgICAgICAgICAgICBlcnJvcihgRmFpbGVkIHRvIGdldCBtYW5pZmVzdEpzb24gZm9yICR7bW9kdWxlSW5mby5uYW1lfS4gVGhlIG1hbmlmZXN0IFVSTCBpcyAke21hbmlmZXN0VXJsfS4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBtYW5pZmVzdFVybCBpcyBhY2Nlc3NpYmxlLlxuICAgICAgICAgIFxcbiBFcnJvciBtZXNzYWdlOlxuICAgICAgICAgIFxcbiAke2Vycn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXN5bmNMb2FkUHJvY2VzcyA9IGFzeW5jICgpPT57XG4gICAgICAgICAgICBjb25zdCBtYW5pZmVzdEpzb24gPSBhd2FpdCBnZXRNYW5pZmVzdCgpO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlU25hcHNob3QgPSBnZW5lcmF0ZVNuYXBzaG90RnJvbU1hbmlmZXN0KG1hbmlmZXN0SnNvbiwge1xuICAgICAgICAgICAgICAgIHZlcnNpb246IG1hbmlmZXN0VXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVtb3RlU25hcHNob3Q6IHJlbW90ZVNuYXBzaG90UmVzIH0gPSBhd2FpdCB0aGlzLmhvb2tzLmxpZmVjeWNsZS5sb2FkUmVtb3RlU25hcHNob3QuZW1pdCh7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5Ib3N0SW5zdGFuY2Uub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBtb2R1bGVJbmZvLFxuICAgICAgICAgICAgICAgIG1hbmlmZXN0SnNvbixcbiAgICAgICAgICAgICAgICByZW1vdGVTbmFwc2hvdCxcbiAgICAgICAgICAgICAgICBtYW5pZmVzdFVybCxcbiAgICAgICAgICAgICAgICBmcm9tOiAnbWFuaWZlc3QnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVTbmFwc2hvdFJlcztcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0TG9hZGluZ1ttYW5pZmVzdFVybF0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuaWZlc3RMb2FkaW5nW21hbmlmZXN0VXJsXSA9IGFzeW5jTG9hZFByb2Nlc3MoKS50aGVuKChyZXMpPT5yZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlmZXN0TG9hZGluZ1ttYW5pZmVzdFVybF07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKEhvc3RJbnN0YW5jZSl7XG4gICAgICAgIHRoaXMubG9hZGluZ0hvc3RTbmFwc2hvdCA9IG51bGw7XG4gICAgICAgIHRoaXMubWFuaWZlc3RDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5ob29rcyA9IG5ldyBQbHVnaW5TeXN0ZW0oe1xuICAgICAgICAgICAgYmVmb3JlTG9hZFJlbW90ZVNuYXBzaG90OiBuZXcgQXN5bmNIb29rKCdiZWZvcmVMb2FkUmVtb3RlU25hcHNob3QnKSxcbiAgICAgICAgICAgIGxvYWRTbmFwc2hvdDogbmV3IEFzeW5jV2F0ZXJmYWxsSG9vaygnbG9hZEdsb2JhbFNuYXBzaG90JyksXG4gICAgICAgICAgICBsb2FkUmVtb3RlU25hcHNob3Q6IG5ldyBBc3luY1dhdGVyZmFsbEhvb2soJ2xvYWRSZW1vdGVTbmFwc2hvdCcpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hbmlmZXN0TG9hZGluZyA9IEdsb2JhbC5fX0ZFREVSQVRJT05fXy5fX01BTklGRVNUX0xPQURJTkdfXztcbiAgICAgICAgdGhpcy5Ib3N0SW5zdGFuY2UgPSBIb3N0SW5zdGFuY2U7XG4gICAgICAgIHRoaXMubG9hZGVySG9vayA9IEhvc3RJbnN0YW5jZS5sb2FkZXJIb29rO1xuICAgIH1cbn1cblxuY2xhc3MgU2hhcmVkSGFuZGxlciB7XG4gICAgLy8gcmVnaXN0ZXIgc2hhcmVkIGluIHNoYXJlU2NvcGVNYXBcbiAgICByZWdpc3RlclNoYXJlZChnbG9iYWxPcHRpb25zLCB1c2VyT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHNoYXJlSW5mb3MsIHNoYXJlZCB9ID0gZm9ybWF0U2hhcmVDb25maWdzKGdsb2JhbE9wdGlvbnMsIHVzZXJPcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IE9iamVjdC5rZXlzKHNoYXJlSW5mb3MpO1xuICAgICAgICBzaGFyZWRLZXlzLmZvckVhY2goKHNoYXJlZEtleSk9PntcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHMgPSBzaGFyZUluZm9zW3NoYXJlZEtleV07XG4gICAgICAgICAgICBzaGFyZWRWYWxzLmZvckVhY2goKHNoYXJlZFZhbCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RlcmVkU2hhcmVkID0gZ2V0UmVnaXN0ZXJlZFNoYXJlKHRoaXMuc2hhcmVTY29wZU1hcCwgc2hhcmVkS2V5LCBzaGFyZWRWYWwsIHRoaXMuaG9va3MubGlmZWN5Y2xlLnJlc29sdmVTaGFyZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdpc3RlcmVkU2hhcmVkICYmIHNoYXJlZFZhbCAmJiBzaGFyZWRWYWwubGliKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2hhcmVkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBrZ05hbWU6IHNoYXJlZEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYjogc2hhcmVkVmFsLmxpYixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogc2hhcmVkVmFsLmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZDogc2hhcmVkVmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogdXNlck9wdGlvbnMubmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaGFyZUluZm9zLFxuICAgICAgICAgICAgc2hhcmVkXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGxvYWRTaGFyZShwa2dOYW1lLCBleHRyYU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBob3N0IH0gPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHBlcmZvcm1zIHRoZSBmb2xsb3dpbmcgc3RlcHM6XG4gICAgICAgIC8vIDEuIENoZWNrcyBpZiB0aGUgY3VycmVudGx5IGxvYWRlZCBzaGFyZSBhbHJlYWR5IGV4aXN0cywgaWYgbm90LCBpdCB0aHJvd3MgYW4gZXJyb3JcbiAgICAgICAgLy8gMi4gU2VhcmNoZXMgZ2xvYmFsbHkgZm9yIGEgbWF0Y2hpbmcgc2hhcmUsIGlmIGZvdW5kLCBpdCB1c2VzIGl0IGRpcmVjdGx5XG4gICAgICAgIC8vIDMuIElmIG5vdCBmb3VuZCwgaXQgcmV0cmlldmVzIGl0IGZyb20gdGhlIGN1cnJlbnQgc2hhcmUgYW5kIHN0b3JlcyB0aGUgb2J0YWluZWQgc2hhcmUgZ2xvYmFsbHkuXG4gICAgICAgIGNvbnN0IHNoYXJlSW5mbyA9IGdldFRhcmdldFNoYXJlZE9wdGlvbnMoe1xuICAgICAgICAgICAgcGtnTmFtZSxcbiAgICAgICAgICAgIGV4dHJhT3B0aW9ucyxcbiAgICAgICAgICAgIHNoYXJlSW5mb3M6IGhvc3Qub3B0aW9ucy5zaGFyZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaGFyZUluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IHNoYXJlSW5mby5zY29wZSkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoc2hhcmVJbmZvLnNjb3BlLm1hcChhc3luYyAoc2hhcmVTY29wZSk9PntcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmluaXRpYWxpemVTaGFyaW5nKHNoYXJlU2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyYXRlZ3k6IHNoYXJlSW5mby5zdHJhdGVneVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9hZFNoYXJlUmVzID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUuYmVmb3JlTG9hZFNoYXJlLmVtaXQoe1xuICAgICAgICAgICAgcGtnTmFtZSxcbiAgICAgICAgICAgIHNoYXJlSW5mbyxcbiAgICAgICAgICAgIHNoYXJlZDogaG9zdC5vcHRpb25zLnNoYXJlZCxcbiAgICAgICAgICAgIG9yaWdpbjogaG9zdFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBzaGFyZUluZm86IHNoYXJlSW5mb1JlcyB9ID0gbG9hZFNoYXJlUmVzO1xuICAgICAgICAvLyBBc3NlcnQgdGhhdCBzaGFyZUluZm9SZXMgZXhpc3RzLCBpZiBub3QsIHRocm93IGFuIGVycm9yXG4gICAgICAgIGFzc2VydChzaGFyZUluZm9SZXMsIGBDYW5ub3QgZmluZCAke3BrZ05hbWV9IFNoYXJlIGluIHRoZSAke2hvc3Qub3B0aW9ucy5uYW1lfS4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSAke3BrZ05hbWV9IFNoYXJlIHBhcmFtZXRlcnMgaGF2ZSBiZWVuIGluamVjdGVkYCk7XG4gICAgICAgIC8vIFJldHJpZXZlIGZyb20gY2FjaGVcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFNoYXJlZCA9IGdldFJlZ2lzdGVyZWRTaGFyZSh0aGlzLnNoYXJlU2NvcGVNYXAsIHBrZ05hbWUsIHNoYXJlSW5mb1JlcywgdGhpcy5ob29rcy5saWZlY3ljbGUucmVzb2x2ZVNoYXJlKTtcbiAgICAgICAgY29uc3QgYWRkVXNlSW4gPSAoc2hhcmVkKT0+e1xuICAgICAgICAgICAgaWYgKCFzaGFyZWQudXNlSW4pIHtcbiAgICAgICAgICAgICAgICBzaGFyZWQudXNlSW4gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFVuaXF1ZUl0ZW0oc2hhcmVkLnVzZUluLCBob3N0Lm9wdGlvbnMubmFtZSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChyZWdpc3RlcmVkU2hhcmVkICYmIHJlZ2lzdGVyZWRTaGFyZWQubGliKSB7XG4gICAgICAgICAgICBhZGRVc2VJbihyZWdpc3RlcmVkU2hhcmVkKTtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkU2hhcmVkLmxpYjtcbiAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RlcmVkU2hhcmVkICYmIHJlZ2lzdGVyZWRTaGFyZWQubG9hZGluZyAmJiAhcmVnaXN0ZXJlZFNoYXJlZC5sb2FkZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBhd2FpdCByZWdpc3RlcmVkU2hhcmVkLmxvYWRpbmc7XG4gICAgICAgICAgICByZWdpc3RlcmVkU2hhcmVkLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIXJlZ2lzdGVyZWRTaGFyZWQubGliKSB7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZFNoYXJlZC5saWIgPSBmYWN0b3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVXNlSW4ocmVnaXN0ZXJlZFNoYXJlZCk7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfSBlbHNlIGlmIChyZWdpc3RlcmVkU2hhcmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhc3luY0xvYWRQcm9jZXNzID0gYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gYXdhaXQgcmVnaXN0ZXJlZFNoYXJlZC5nZXQoKTtcbiAgICAgICAgICAgICAgICBzaGFyZUluZm9SZXMubGliID0gZmFjdG9yeTtcbiAgICAgICAgICAgICAgICBzaGFyZUluZm9SZXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhZGRVc2VJbihzaGFyZUluZm9SZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdTaGFyZWQgPSBnZXRSZWdpc3RlcmVkU2hhcmUodGhpcy5zaGFyZVNjb3BlTWFwLCBwa2dOYW1lLCBzaGFyZUluZm9SZXMsIHRoaXMuaG9va3MubGlmZWN5Y2xlLnJlc29sdmVTaGFyZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdTaGFyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ1NoYXJlZC5saWIgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgICAgICBnU2hhcmVkLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSBhc3luY0xvYWRQcm9jZXNzKCk7XG4gICAgICAgICAgICB0aGlzLnNldFNoYXJlZCh7XG4gICAgICAgICAgICAgICAgcGtnTmFtZSxcbiAgICAgICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNoYXJlZDogcmVnaXN0ZXJlZFNoYXJlZCxcbiAgICAgICAgICAgICAgICBmcm9tOiBob3N0Lm9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgICAgICBsaWI6IG51bGwsXG4gICAgICAgICAgICAgICAgbG9hZGluZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChleHRyYU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dHJhT3B0aW9ucy5jdXN0b21TaGFyZUluZm8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3luY0xvYWRQcm9jZXNzID0gYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gYXdhaXQgc2hhcmVJbmZvUmVzLmdldCgpO1xuICAgICAgICAgICAgICAgIHNoYXJlSW5mb1Jlcy5saWIgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIHNoYXJlSW5mb1Jlcy5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFkZFVzZUluKHNoYXJlSW5mb1Jlcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ1NoYXJlZCA9IGdldFJlZ2lzdGVyZWRTaGFyZSh0aGlzLnNoYXJlU2NvcGVNYXAsIHBrZ05hbWUsIHNoYXJlSW5mb1JlcywgdGhpcy5ob29rcy5saWZlY3ljbGUucmVzb2x2ZVNoYXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoZ1NoYXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBnU2hhcmVkLmxpYiA9IGZhY3Rvcnk7XG4gICAgICAgICAgICAgICAgICAgIGdTaGFyZWQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbG9hZGluZyA9IGFzeW5jTG9hZFByb2Nlc3MoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2hhcmVkKHtcbiAgICAgICAgICAgICAgICBwa2dOYW1lLFxuICAgICAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hhcmVkOiBzaGFyZUluZm9SZXMsXG4gICAgICAgICAgICAgICAgZnJvbTogaG9zdC5vcHRpb25zLm5hbWUsXG4gICAgICAgICAgICAgICAgbGliOiBudWxsLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxvYWRpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaW5pdGlhbGl6ZXMgdGhlIHNoYXJpbmcgc2VxdWVuY2UgKGV4ZWN1dGVkIG9ubHkgb25jZSBwZXIgc2hhcmUgc2NvcGUpLlxuICAgKiBJdCBhY2NlcHRzIG9uZSBhcmd1bWVudCwgdGhlIG5hbWUgb2YgdGhlIHNoYXJlIHNjb3BlLlxuICAgKiBJZiB0aGUgc2hhcmUgc2NvcGUgZG9lcyBub3QgZXhpc3QsIGl0IGNyZWF0ZXMgb25lLlxuICAgKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICBpbml0aWFsaXplU2hhcmluZyhzaGFyZVNjb3BlTmFtZSA9IERFRkFVTFRfU0NPUEUsIGV4dHJhT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGZyb20gPSBleHRyYU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dHJhT3B0aW9ucy5mcm9tO1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IGV4dHJhT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogZXh0cmFPcHRpb25zLnN0cmF0ZWd5O1xuICAgICAgICBsZXQgaW5pdFNjb3BlID0gZXh0cmFPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBleHRyYU9wdGlvbnMuaW5pdFNjb3BlO1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBpZiAoZnJvbSAhPT0gJ2J1aWxkJykge1xuICAgICAgICAgICAgY29uc3QgeyBpbml0VG9rZW5zIH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFpbml0U2NvcGUpIGluaXRTY29wZSA9IFtdO1xuICAgICAgICAgICAgbGV0IGluaXRUb2tlbiA9IGluaXRUb2tlbnNbc2hhcmVTY29wZU5hbWVdO1xuICAgICAgICAgICAgaWYgKCFpbml0VG9rZW4pIGluaXRUb2tlbiA9IGluaXRUb2tlbnNbc2hhcmVTY29wZU5hbWVdID0ge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuaG9zdC5uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGluaXRTY29wZS5pbmRleE9mKGluaXRUb2tlbikgPj0gMCkgcmV0dXJuIHByb21pc2VzO1xuICAgICAgICAgICAgaW5pdFNjb3BlLnB1c2goaW5pdFRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaGFyZVNjb3BlID0gdGhpcy5zaGFyZVNjb3BlTWFwO1xuICAgICAgICBjb25zdCBob3N0TmFtZSA9IGhvc3Qub3B0aW9ucy5uYW1lO1xuICAgICAgICAvLyBDcmVhdGVzIGEgbmV3IHNoYXJlIHNjb3BlIGlmIG5lY2Vzc2FyeVxuICAgICAgICBpZiAoIXNoYXJlU2NvcGVbc2hhcmVTY29wZU5hbWVdKSB7XG4gICAgICAgICAgICBzaGFyZVNjb3BlW3NoYXJlU2NvcGVOYW1lXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4ZWN1dGVzIGFsbCBpbml0aWFsaXphdGlvbiBzbmlwcGV0cyBmcm9tIGFsbCBhY2Nlc3NpYmxlIG1vZHVsZXNcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBzaGFyZVNjb3BlW3NoYXJlU2NvcGVOYW1lXTtcbiAgICAgICAgY29uc3QgcmVnaXN0ZXIgPSAobmFtZSwgc2hhcmVkKT0+e1xuICAgICAgICAgICAgdmFyIF9hY3RpdmVWZXJzaW9uX3NoYXJlQ29uZmlnO1xuICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uLCBlYWdlciB9ID0gc2hhcmVkO1xuICAgICAgICAgICAgc2NvcGVbbmFtZV0gPSBzY29wZVtuYW1lXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25zID0gc2NvcGVbbmFtZV07XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVWZXJzaW9uID0gdmVyc2lvbnNbdmVyc2lvbl07XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVWZXJzaW9uRWFnZXIgPSBCb29sZWFuKGFjdGl2ZVZlcnNpb24gJiYgKGFjdGl2ZVZlcnNpb24uZWFnZXIgfHwgKChfYWN0aXZlVmVyc2lvbl9zaGFyZUNvbmZpZyA9IGFjdGl2ZVZlcnNpb24uc2hhcmVDb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBfYWN0aXZlVmVyc2lvbl9zaGFyZUNvbmZpZy5lYWdlcikpKTtcbiAgICAgICAgICAgIGlmICghYWN0aXZlVmVyc2lvbiB8fCBhY3RpdmVWZXJzaW9uLnN0cmF0ZWd5ICE9PSAnbG9hZGVkLWZpcnN0JyAmJiAhYWN0aXZlVmVyc2lvbi5sb2FkZWQgJiYgKEJvb2xlYW4oIWVhZ2VyKSAhPT0gIWFjdGl2ZVZlcnNpb25FYWdlciA/IGVhZ2VyIDogaG9zdE5hbWUgPiBhY3RpdmVWZXJzaW9uLmZyb20pKSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbnNbdmVyc2lvbl0gPSBzaGFyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGluaXRGbiA9IChtb2QpPT5tb2QgJiYgbW9kLmluaXQgJiYgbW9kLmluaXQoc2hhcmVTY29wZVtzaGFyZVNjb3BlTmFtZV0sIGluaXRTY29wZSk7XG4gICAgICAgIGNvbnN0IGluaXRSZW1vdGVNb2R1bGUgPSBhc3luYyAoa2V5KT0+e1xuICAgICAgICAgICAgY29uc3QgeyBtb2R1bGUgfSA9IGF3YWl0IGhvc3QucmVtb3RlSGFuZGxlci5nZXRSZW1vdGVNb2R1bGVBbmRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBpZDoga2V5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChtb2R1bGUuZ2V0RW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IGF3YWl0IG1vZHVsZS5nZXRFbnRyeSgpO1xuICAgICAgICAgICAgICAgIGlmICghbW9kdWxlLmluaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbml0Rm4oZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5rZXlzKGhvc3Qub3B0aW9ucy5zaGFyZWQpLmZvckVhY2goKHNoYXJlTmFtZSk9PntcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZEFyciA9IGhvc3Qub3B0aW9ucy5zaGFyZWRbc2hhcmVOYW1lXTtcbiAgICAgICAgICAgIHNoYXJlZEFyci5mb3JFYWNoKChzaGFyZWQpPT57XG4gICAgICAgICAgICAgICAgaWYgKHNoYXJlZC5zY29wZS5pbmNsdWRlcyhzaGFyZVNjb3BlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXIoc2hhcmVOYW1lLCBzaGFyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogc3RyYXRlZ3k9PT0ndmVyc2lvbi1maXJzdCcgbmVlZCB0byBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmVcbiAgICAgICAgaWYgKGhvc3Qub3B0aW9ucy5zaGFyZVN0cmF0ZWd5ID09PSAndmVyc2lvbi1maXJzdCcgfHwgc3RyYXRlZ3kgPT09ICd2ZXJzaW9uLWZpcnN0Jykge1xuICAgICAgICAgICAgaG9zdC5vcHRpb25zLnJlbW90ZXMuZm9yRWFjaCgocmVtb3RlKT0+e1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdGUuc2hhcmVTY29wZSA9PT0gc2hhcmVTY29wZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChpbml0UmVtb3RlTW9kdWxlKHJlbW90ZS5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2VzO1xuICAgIH1cbiAgICAvLyBUaGUgbGliIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBhdmFpbGFibGUgaWYgdGhlIHNoYXJlZCBzZXQgYnkgZWFnZXIgb3IgcnVudGltZSBpbml0IGlzIHNldCBvciB0aGUgc2hhcmVkIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgLy8gMS4gSWYgdGhlIGxvYWRlZCBzaGFyZWQgYWxyZWFkeSBleGlzdHMgZ2xvYmFsbHksIHRoZW4gaXQgd2lsbCBiZSByZXVzZWRcbiAgICAvLyAyLiBJZiBsaWIgZXhpc3RzIGluIGxvY2FsIHNoYXJlZCwgaXQgd2lsbCBiZSB1c2VkIGRpcmVjdGx5XG4gICAgLy8gMy4gSWYgdGhlIGxvY2FsIGdldCByZXR1cm5zIHNvbWV0aGluZyBvdGhlciB0aGFuIFByb21pc2UsIHRoZW4gaXQgd2lsbCBiZSB1c2VkIGRpcmVjdGx5XG4gICAgbG9hZFNoYXJlU3luYyhwa2dOYW1lLCBleHRyYU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBob3N0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzaGFyZUluZm8gPSBnZXRUYXJnZXRTaGFyZWRPcHRpb25zKHtcbiAgICAgICAgICAgIHBrZ05hbWUsXG4gICAgICAgICAgICBleHRyYU9wdGlvbnMsXG4gICAgICAgICAgICBzaGFyZUluZm9zOiBob3N0Lm9wdGlvbnMuc2hhcmVkXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2hhcmVJbmZvID09IG51bGwgPyB2b2lkIDAgOiBzaGFyZUluZm8uc2NvcGUpIHtcbiAgICAgICAgICAgIHNoYXJlSW5mby5zY29wZS5mb3JFYWNoKChzaGFyZVNjb3BlKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNoYXJpbmcoc2hhcmVTY29wZSwge1xuICAgICAgICAgICAgICAgICAgICBzdHJhdGVneTogc2hhcmVJbmZvLnN0cmF0ZWd5XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWdpc3RlcmVkU2hhcmVkID0gZ2V0UmVnaXN0ZXJlZFNoYXJlKHRoaXMuc2hhcmVTY29wZU1hcCwgcGtnTmFtZSwgc2hhcmVJbmZvLCB0aGlzLmhvb2tzLmxpZmVjeWNsZS5yZXNvbHZlU2hhcmUpO1xuICAgICAgICBjb25zdCBhZGRVc2VJbiA9IChzaGFyZWQpPT57XG4gICAgICAgICAgICBpZiAoIXNoYXJlZC51c2VJbikge1xuICAgICAgICAgICAgICAgIHNoYXJlZC51c2VJbiA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVW5pcXVlSXRlbShzaGFyZWQudXNlSW4sIGhvc3Qub3B0aW9ucy5uYW1lKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWRTaGFyZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaXN0ZXJlZFNoYXJlZC5saWIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBhZGRVc2VJbihyZWdpc3RlcmVkU2hhcmVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdGVyZWRTaGFyZWQubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWRTaGFyZWQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lzdGVyZWRTaGFyZWQuZnJvbSA9PT0gaG9zdC5vcHRpb25zLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlSW5mby5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkU2hhcmVkLmxpYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaXN0ZXJlZFNoYXJlZC5nZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGUgPSByZWdpc3RlcmVkU2hhcmVkLmdldCgpO1xuICAgICAgICAgICAgICAgIGlmICghKG1vZHVsZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFVzZUluKHJlZ2lzdGVyZWRTaGFyZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNoYXJlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwa2dOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogaG9zdC5vcHRpb25zLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWI6IG1vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZDogcmVnaXN0ZXJlZFNoYXJlZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXJlSW5mby5saWIpIHtcbiAgICAgICAgICAgIGlmICghc2hhcmVJbmZvLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlSW5mby5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNoYXJlSW5mby5saWI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXJlSW5mby5nZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IHNoYXJlSW5mby5nZXQoKTtcbiAgICAgICAgICAgIGlmIChtb2R1bGUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgICAgVGhlIGxvYWRTaGFyZVN5bmMgZnVuY3Rpb24gd2FzIHVuYWJsZSB0byBsb2FkICR7cGtnTmFtZX0uIFRoZSAke3BrZ05hbWV9IGNvdWxkIG5vdCBiZSBmb3VuZCBpbiAke2hvc3Qub3B0aW9ucy5uYW1lfS5cbiAgICAgICAgUG9zc2libGUgcmVhc29ucyBmb3IgZmFpbHVyZTogXFxuXG4gICAgICAgIDEuIFRoZSAke3BrZ05hbWV9IHNoYXJlIHdhcyByZWdpc3RlcmVkIHdpdGggdGhlICdnZXQnIGF0dHJpYnV0ZSwgYnV0IGxvYWRTaGFyZSB3YXMgbm90IHVzZWQgYmVmb3JlaGFuZC5cXG5cbiAgICAgICAgMi4gVGhlICR7cGtnTmFtZX0gc2hhcmUgd2FzIG5vdCByZWdpc3RlcmVkIHdpdGggdGhlICdsaWInIGF0dHJpYnV0ZS5cXG5cbiAgICAgIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hhcmVJbmZvLmxpYiA9IG1vZHVsZTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2hhcmVkKHtcbiAgICAgICAgICAgICAgICBwa2dOYW1lLFxuICAgICAgICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmcm9tOiBob3N0Lm9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgICAgICBsaWI6IHNoYXJlSW5mby5saWIsXG4gICAgICAgICAgICAgICAgc2hhcmVkOiBzaGFyZUluZm9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNoYXJlSW5mby5saWI7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgICAgVGhlIGxvYWRTaGFyZVN5bmMgZnVuY3Rpb24gd2FzIHVuYWJsZSB0byBsb2FkICR7cGtnTmFtZX0uIFRoZSAke3BrZ05hbWV9IGNvdWxkIG5vdCBiZSBmb3VuZCBpbiAke2hvc3Qub3B0aW9ucy5uYW1lfS5cbiAgICAgICAgUG9zc2libGUgcmVhc29ucyBmb3IgZmFpbHVyZTogXFxuXG4gICAgICAgIDEuIFRoZSAke3BrZ05hbWV9IHNoYXJlIHdhcyByZWdpc3RlcmVkIHdpdGggdGhlICdnZXQnIGF0dHJpYnV0ZSwgYnV0IGxvYWRTaGFyZSB3YXMgbm90IHVzZWQgYmVmb3JlaGFuZC5cXG5cbiAgICAgICAgMi4gVGhlICR7cGtnTmFtZX0gc2hhcmUgd2FzIG5vdCByZWdpc3RlcmVkIHdpdGggdGhlICdsaWInIGF0dHJpYnV0ZS5cXG5cbiAgICAgIGApO1xuICAgIH1cbiAgICBpbml0U2hhcmVTY29wZU1hcChzY29wZU5hbWUsIHNoYXJlU2NvcGUsIGV4dHJhT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgaG9zdCB9ID0gdGhpcztcbiAgICAgICAgdGhpcy5zaGFyZVNjb3BlTWFwW3Njb3BlTmFtZV0gPSBzaGFyZVNjb3BlO1xuICAgICAgICB0aGlzLmhvb2tzLmxpZmVjeWNsZS5pbml0Q29udGFpbmVyU2hhcmVTY29wZU1hcC5lbWl0KHtcbiAgICAgICAgICAgIHNoYXJlU2NvcGUsXG4gICAgICAgICAgICBvcHRpb25zOiBob3N0Lm9wdGlvbnMsXG4gICAgICAgICAgICBvcmlnaW46IGhvc3QsXG4gICAgICAgICAgICBzY29wZU5hbWUsXG4gICAgICAgICAgICBob3N0U2hhcmVTY29wZU1hcDogZXh0cmFPcHRpb25zLmhvc3RTaGFyZVNjb3BlTWFwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRTaGFyZWQoeyBwa2dOYW1lLCBzaGFyZWQsIGZyb20sIGxpYiwgbG9hZGluZywgbG9hZGVkLCBnZXQgfSkge1xuICAgICAgICBjb25zdCB7IHZlcnNpb24sIHNjb3BlID0gJ2RlZmF1bHQnIH0gPSBzaGFyZWQsIHNoYXJlSW5mbyA9IF9vYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzX2xvb3NlKHNoYXJlZCwgW1xuICAgICAgICAgICAgXCJ2ZXJzaW9uXCIsXG4gICAgICAgICAgICBcInNjb3BlXCJcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IEFycmF5LmlzQXJyYXkoc2NvcGUpID8gc2NvcGUgOiBbXG4gICAgICAgICAgICBzY29wZVxuICAgICAgICBdO1xuICAgICAgICBzY29wZXMuZm9yRWFjaCgoc2MpPT57XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hhcmVTY29wZU1hcFtzY10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlU2NvcGVNYXBbc2NdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hhcmVTY29wZU1hcFtzY11bcGtnTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlU2NvcGVNYXBbc2NdW3BrZ05hbWVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zaGFyZVNjb3BlTWFwW3NjXVtwa2dOYW1lXVt2ZXJzaW9uXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hhcmVTY29wZU1hcFtzY11bcGtnTmFtZV1bdmVyc2lvbl0gPSBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgICAgICBzY29wZTogW1xuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LCBzaGFyZUluZm8sIHtcbiAgICAgICAgICAgICAgICBsaWIsXG4gICAgICAgICAgICAgICAgbG9hZGVkLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVTY29wZU1hcFtzY11bcGtnTmFtZV1bdmVyc2lvbl0uZ2V0ID0gZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3NldEdsb2JhbFNoYXJlU2NvcGVNYXAoaG9zdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsU2hhcmVTY29wZU1hcCA9IGdldEdsb2JhbFNoYXJlU2NvcGUoKTtcbiAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGhvc3RPcHRpb25zLmlkIHx8IGhvc3RPcHRpb25zLm5hbWU7XG4gICAgICAgIGlmIChpZGVudGlmaWVyICYmICFnbG9iYWxTaGFyZVNjb3BlTWFwW2lkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBnbG9iYWxTaGFyZVNjb3BlTWFwW2lkZW50aWZpZXJdID0gdGhpcy5zaGFyZVNjb3BlTWFwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGhvc3Qpe1xuICAgICAgICB0aGlzLmhvb2tzID0gbmV3IFBsdWdpblN5c3RlbSh7XG4gICAgICAgICAgICBhZnRlclJlc29sdmU6IG5ldyBBc3luY1dhdGVyZmFsbEhvb2soJ2FmdGVyUmVzb2x2ZScpLFxuICAgICAgICAgICAgYmVmb3JlTG9hZFNoYXJlOiBuZXcgQXN5bmNXYXRlcmZhbGxIb29rKCdiZWZvcmVMb2FkU2hhcmUnKSxcbiAgICAgICAgICAgIC8vIG5vdCB1c2VkIHlldFxuICAgICAgICAgICAgbG9hZFNoYXJlOiBuZXcgQXN5bmNIb29rKCksXG4gICAgICAgICAgICByZXNvbHZlU2hhcmU6IG5ldyBTeW5jV2F0ZXJmYWxsSG9vaygncmVzb2x2ZVNoYXJlJyksXG4gICAgICAgICAgICAvLyBtYXliZSB3aWxsIGNoYW5nZSwgdGVtcG9yYXJpbHkgZm9yIGludGVybmFsIHVzZSBvbmx5XG4gICAgICAgICAgICBpbml0Q29udGFpbmVyU2hhcmVTY29wZU1hcDogbmV3IFN5bmNXYXRlcmZhbGxIb29rKCdpbml0Q29udGFpbmVyU2hhcmVTY29wZU1hcCcpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLnNoYXJlU2NvcGVNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5pbml0VG9rZW5zID0ge307XG4gICAgICAgIHRoaXMuX3NldEdsb2JhbFNoYXJlU2NvcGVNYXAoaG9zdC5vcHRpb25zKTtcbiAgICB9XG59XG5cbmNsYXNzIFJlbW90ZUhhbmRsZXIge1xuICAgIGZvcm1hdEFuZFJlZ2lzdGVyUmVtb3RlKGdsb2JhbE9wdGlvbnMsIHVzZXJPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHVzZXJSZW1vdGVzID0gdXNlck9wdGlvbnMucmVtb3RlcyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIHVzZXJSZW1vdGVzLnJlZHVjZSgocmVzLCByZW1vdGUpPT57XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUmVtb3RlKHJlbW90ZSwgcmVzLCB7XG4gICAgICAgICAgICAgICAgZm9yY2U6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sIGdsb2JhbE9wdGlvbnMucmVtb3Rlcyk7XG4gICAgfVxuICAgIHNldElkVG9SZW1vdGVNYXAoaWQsIHJlbW90ZU1hdGNoSW5mbykge1xuICAgICAgICBjb25zdCB7IHJlbW90ZSwgZXhwb3NlIH0gPSByZW1vdGVNYXRjaEluZm87XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgYWxpYXMgfSA9IHJlbW90ZTtcbiAgICAgICAgdGhpcy5pZFRvUmVtb3RlTWFwW2lkXSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHJlbW90ZS5uYW1lLFxuICAgICAgICAgICAgZXhwb3NlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChhbGlhcyAmJiBpZC5zdGFydHNXaXRoKG5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBpZFdpdGhBbGlhcyA9IGlkLnJlcGxhY2UobmFtZSwgYWxpYXMpO1xuICAgICAgICAgICAgdGhpcy5pZFRvUmVtb3RlTWFwW2lkV2l0aEFsaWFzXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZW1vdGUubmFtZSxcbiAgICAgICAgICAgICAgICBleHBvc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsaWFzICYmIGlkLnN0YXJ0c1dpdGgoYWxpYXMpKSB7XG4gICAgICAgICAgICBjb25zdCBpZFdpdGhOYW1lID0gaWQucmVwbGFjZShhbGlhcywgbmFtZSk7XG4gICAgICAgICAgICB0aGlzLmlkVG9SZW1vdGVNYXBbaWRXaXRoTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVtb3RlLm5hbWUsXG4gICAgICAgICAgICAgICAgZXhwb3NlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICBhc3luYyBsb2FkUmVtb3RlKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgaG9zdCB9ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbG9hZEZhY3RvcnkgPSB0cnVlIH0gPSBvcHRpb25zIHx8IHtcbiAgICAgICAgICAgICAgICBsb2FkRmFjdG9yeTogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIDEuIFZhbGlkYXRlIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSByZXRyaWV2ZWQgbW9kdWxlLiBUaGVyZSBhcmUgdHdvIG1vZHVsZSByZXF1ZXN0IG1ldGhvZHM6IHBrZ05hbWUgKyBleHBvc2UgYW5kIGFsaWFzICsgZXhwb3NlLlxuICAgICAgICAgICAgLy8gMi4gUmVxdWVzdCB0aGUgc25hcHNob3QgaW5mb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgaG9zdCBhbmQgZ2xvYmFsbHkgc3RvcmUgdGhlIG9idGFpbmVkIHNuYXBzaG90IGluZm9ybWF0aW9uLiBUaGUgcmV0cmlldmVkIG1vZHVsZSBpbmZvcm1hdGlvbiBpcyBwYXJ0aWFsbHkgb2ZmbGluZSBhbmQgcGFydGlhbGx5IG9ubGluZS4gVGhlIG9ubGluZSBtb2R1bGUgaW5mb3JtYXRpb24gd2lsbCByZXRyaWV2ZSB0aGUgbW9kdWxlcyB1c2VkIG9ubGluZS5cbiAgICAgICAgICAgIC8vIDMuIFJldHJpZXZlIHRoZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvZiB0aGUgY3VycmVudCBtb2R1bGUgZnJvbSBnbG9iYWwgKHJlbW90ZUVudHJ5IGFkZHJlc3MsIGV4cG9zZSByZXNvdXJjZSBhZGRyZXNzKVxuICAgICAgICAgICAgLy8gNC4gQWZ0ZXIgcmV0cmlldmluZyByZW1vdGVFbnRyeSwgY2FsbCB0aGUgaW5pdCBvZiB0aGUgbW9kdWxlLCBhbmQgdGhlbiByZXRyaWV2ZSB0aGUgZXhwb3J0ZWQgY29udGVudCBvZiB0aGUgbW9kdWxlIHRocm91Z2ggZ2V0XG4gICAgICAgICAgICAvLyBpZDogcGtnTmFtZShAZmVkZXJhdGlvbi9hcHAxKSArIGV4cG9zZShidXR0b24pID0gQGZlZGVyYXRpb24vYXBwMS9idXR0b25cbiAgICAgICAgICAgIC8vIGlkOiBhbGlhcyhhcHAxKSArIGV4cG9zZShidXR0b24pID0gYXBwMS9idXR0b25cbiAgICAgICAgICAgIC8vIGlkOiBhbGlhcyhhcHAxL3V0aWxzKSArIGV4cG9zZShsb2FkYXNoL3NvcnQpID0gYXBwMS91dGlscy9sb2FkYXNoL3NvcnRcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kdWxlLCBtb2R1bGVPcHRpb25zLCByZW1vdGVNYXRjaEluZm8gfSA9IGF3YWl0IHRoaXMuZ2V0UmVtb3RlTW9kdWxlQW5kT3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBwa2dOYW1lT3JBbGlhcywgcmVtb3RlLCBleHBvc2UsIGlkOiBpZFJlcyB9ID0gcmVtb3RlTWF0Y2hJbmZvO1xuICAgICAgICAgICAgY29uc3QgbW9kdWxlT3JGYWN0b3J5ID0gYXdhaXQgbW9kdWxlLmdldChpZFJlcywgZXhwb3NlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZVdyYXBwZXIgPSBhd2FpdCB0aGlzLmhvb2tzLmxpZmVjeWNsZS5vbkxvYWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkUmVzLFxuICAgICAgICAgICAgICAgIHBrZ05hbWVPckFsaWFzLFxuICAgICAgICAgICAgICAgIGV4cG9zZSxcbiAgICAgICAgICAgICAgICBleHBvc2VNb2R1bGU6IGxvYWRGYWN0b3J5ID8gbW9kdWxlT3JGYWN0b3J5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGV4cG9zZU1vZHVsZUZhY3Rvcnk6IGxvYWRGYWN0b3J5ID8gdW5kZWZpbmVkIDogbW9kdWxlT3JGYWN0b3J5LFxuICAgICAgICAgICAgICAgIHJlbW90ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBtb2R1bGVPcHRpb25zLFxuICAgICAgICAgICAgICAgIG1vZHVsZUluc3RhbmNlOiBtb2R1bGUsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBob3N0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0SWRUb1JlbW90ZU1hcChpZCwgcmVtb3RlTWF0Y2hJbmZvKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlV3JhcHBlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVXcmFwcGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZU9yRmFjdG9yeTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbWVtYmVyLW9yZGVyaW5nXG4gICAgYXN5bmMgcHJlbG9hZFJlbW90ZShwcmVsb2FkT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IHRoaXM7XG4gICAgICAgIGF3YWl0IHRoaXMuaG9va3MubGlmZWN5Y2xlLmJlZm9yZVByZWxvYWRSZW1vdGUuZW1pdCh7XG4gICAgICAgICAgICBwcmVsb2FkT3BzOiBwcmVsb2FkT3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnM6IGhvc3Qub3B0aW9ucyxcbiAgICAgICAgICAgIG9yaWdpbjogaG9zdFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJlbG9hZE9wcyA9IGZvcm1hdFByZWxvYWRBcmdzKGhvc3Qub3B0aW9ucy5yZW1vdGVzLCBwcmVsb2FkT3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByZWxvYWRPcHMubWFwKGFzeW5jIChvcHMpPT57XG4gICAgICAgICAgICBjb25zdCB7IHJlbW90ZSB9ID0gb3BzO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlSW5mbyA9IGdldFJlbW90ZUluZm8ocmVtb3RlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZ2xvYmFsU25hcHNob3QsIHJlbW90ZVNuYXBzaG90IH0gPSBhd2FpdCBob3N0LnNuYXBzaG90SGFuZGxlci5sb2FkUmVtb3RlU25hcHNob3RJbmZvKHJlbW90ZSk7XG4gICAgICAgICAgICBjb25zdCBhc3NldHMgPSBhd2FpdCB0aGlzLmhvb2tzLmxpZmVjeWNsZS5nZW5lcmF0ZVByZWxvYWRBc3NldHMuZW1pdCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBob3N0LFxuICAgICAgICAgICAgICAgIHByZWxvYWRPcHRpb25zOiBvcHMsXG4gICAgICAgICAgICAgICAgcmVtb3RlLFxuICAgICAgICAgICAgICAgIHJlbW90ZUluZm8sXG4gICAgICAgICAgICAgICAgZ2xvYmFsU25hcHNob3QsXG4gICAgICAgICAgICAgICAgcmVtb3RlU25hcHNob3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhc3NldHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmVsb2FkQXNzZXRzKHJlbW90ZUluZm8sIGhvc3QsIGFzc2V0cyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJSZW1vdGVzKHJlbW90ZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBob3N0IH0gPSB0aGlzO1xuICAgICAgICByZW1vdGVzLmZvckVhY2goKHJlbW90ZSk9PntcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJSZW1vdGUocmVtb3RlLCBob3N0Lm9wdGlvbnMucmVtb3Rlcywge1xuICAgICAgICAgICAgICAgIGZvcmNlOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZvcmNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldFJlbW90ZU1vZHVsZUFuZE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgaWQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBsb2FkUmVtb3RlQXJncztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvYWRSZW1vdGVBcmdzID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUuYmVmb3JlUmVxdWVzdC5lbWl0KHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBob3N0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBob3N0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvYWRSZW1vdGVBcmdzID0gYXdhaXQgdGhpcy5ob29rcy5saWZlY3ljbGUuZXJyb3JMb2FkUmVtb3RlLmVtaXQoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGhvc3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IGhvc3QsXG4gICAgICAgICAgICAgICAgZnJvbTogJ3J1bnRpbWUnLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIGxpZmVjeWNsZTogJ2JlZm9yZVJlcXVlc3QnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghbG9hZFJlbW90ZUFyZ3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGlkOiBpZFJlcyB9ID0gbG9hZFJlbW90ZUFyZ3M7XG4gICAgICAgIGNvbnN0IHJlbW90ZVNwbGl0SW5mbyA9IG1hdGNoUmVtb3RlV2l0aE5hbWVBbmRFeHBvc2UoaG9zdC5vcHRpb25zLnJlbW90ZXMsIGlkUmVzKTtcbiAgICAgICAgYXNzZXJ0KHJlbW90ZVNwbGl0SW5mbywgYFxuICAgICAgICBVbmFibGUgdG8gbG9jYXRlICR7aWRSZXN9IGluICR7aG9zdC5vcHRpb25zLm5hbWV9LiBQb3RlbnRpYWwgcmVhc29ucyBmb3IgZmFpbHVyZSBpbmNsdWRlOlxcblxuICAgICAgICAxLiAke2lkUmVzfSB3YXMgbm90IGluY2x1ZGVkIGluIHRoZSAncmVtb3RlcycgcGFyYW1ldGVyIG9mICR7aG9zdC5vcHRpb25zLm5hbWUgfHwgJ3RoZSBob3N0J30uXFxuXG4gICAgICAgIDIuICR7aWRSZXN9IGNvdWxkIG5vdCBiZSBmb3VuZCBpbiB0aGUgJ3JlbW90ZXMnIG9mICR7aG9zdC5vcHRpb25zLm5hbWV9IHdpdGggZWl0aGVyICduYW1lJyBvciAnYWxpYXMnIGF0dHJpYnV0ZXMuXG4gICAgICAgIDMuICR7aWRSZXN9IGlzIG5vdCBvbmxpbmUsIGluamVjdGVkLCBvciBsb2FkZWQuXG4gICAgICAgIDQuICR7aWRSZXN9ICBjYW5ub3QgYmUgYWNjZXNzZWQgb24gdGhlIGV4cGVjdGVkLlxuICAgICAgICA1LiBUaGUgJ2JlZm9yZVJlcXVlc3QnIGhvb2sgd2FzIHByb3ZpZGVkIGJ1dCBkaWQgbm90IHJldHVybiB0aGUgY29ycmVjdCAncmVtb3RlSW5mbycgd2hlbiBhdHRlbXB0aW5nIHRvIGxvYWQgJHtpZFJlc30uXG4gICAgICBgKTtcbiAgICAgICAgY29uc3QgeyByZW1vdGU6IHJhd1JlbW90ZSB9ID0gcmVtb3RlU3BsaXRJbmZvO1xuICAgICAgICBjb25zdCByZW1vdGVJbmZvID0gZ2V0UmVtb3RlSW5mbyhyYXdSZW1vdGUpO1xuICAgICAgICBjb25zdCBtYXRjaEluZm8gPSBhd2FpdCBob3N0LnNoYXJlZEhhbmRsZXIuaG9va3MubGlmZWN5Y2xlLmFmdGVyUmVzb2x2ZS5lbWl0KF9leHRlbmRzKHtcbiAgICAgICAgICAgIGlkOiBpZFJlc1xuICAgICAgICB9LCByZW1vdGVTcGxpdEluZm8sIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IGhvc3Qub3B0aW9ucyxcbiAgICAgICAgICAgIG9yaWdpbjogaG9zdCxcbiAgICAgICAgICAgIHJlbW90ZUluZm9cbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCB7IHJlbW90ZSwgZXhwb3NlIH0gPSBtYXRjaEluZm87XG4gICAgICAgIGFzc2VydChyZW1vdGUgJiYgZXhwb3NlLCBgVGhlICdiZWZvcmVSZXF1ZXN0JyBob29rIHdhcyBleGVjdXRlZCwgYnV0IGl0IGZhaWxlZCB0byByZXR1cm4gdGhlIGNvcnJlY3QgJ3JlbW90ZScgYW5kICdleHBvc2UnIHZhbHVlcyB3aGlsZSBsb2FkaW5nICR7aWRSZXN9LmApO1xuICAgICAgICBsZXQgbW9kdWxlID0gaG9zdC5tb2R1bGVDYWNoZS5nZXQocmVtb3RlLm5hbWUpO1xuICAgICAgICBjb25zdCBtb2R1bGVPcHRpb25zID0ge1xuICAgICAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgICAgIHJlbW90ZUluZm9cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZSA9IG5ldyBNb2R1bGUobW9kdWxlT3B0aW9ucyk7XG4gICAgICAgICAgICBob3N0Lm1vZHVsZUNhY2hlLnNldChyZW1vdGUubmFtZSwgbW9kdWxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgbW9kdWxlT3B0aW9ucyxcbiAgICAgICAgICAgIHJlbW90ZU1hdGNoSW5mbzogbWF0Y2hJbmZvXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyUmVtb3RlKHJlbW90ZSwgdGFyZ2V0UmVtb3Rlcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZVJlbW90ZSA9ICgpPT57XG4gICAgICAgICAgICBpZiAocmVtb3RlLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgaWYgYWxpYXMgZXF1YWxzIHRoZSBwcmVmaXggb2YgcmVtb3RlLm5hbWUgYW5kIHJlbW90ZS5hbGlhcywgaWYgc28sIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgICAgLy8gQXMgbXVsdGktbGV2ZWwgcGF0aCByZWZlcmVuY2VzIGNhbm5vdCBndWFyYW50ZWUgdW5pcXVlIG5hbWVzLCBhbGlhcyBiZWluZyBhIHByZWZpeCBvZiByZW1vdGUubmFtZSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgY29uc3QgZmluZEVxdWFsID0gdGFyZ2V0UmVtb3Rlcy5maW5kKChpdGVtKT0+e1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZW1fYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGUuYWxpYXMgJiYgKGl0ZW0ubmFtZS5zdGFydHNXaXRoKHJlbW90ZS5hbGlhcykgfHwgKChfaXRlbV9hbGlhcyA9IGl0ZW0uYWxpYXMpID09IG51bGwgPyB2b2lkIDAgOiBfaXRlbV9hbGlhcy5zdGFydHNXaXRoKHJlbW90ZS5hbGlhcykpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoIWZpbmRFcXVhbCwgYFRoZSBhbGlhcyAke3JlbW90ZS5hbGlhc30gb2YgcmVtb3RlICR7cmVtb3RlLm5hbWV9IGlzIG5vdCBhbGxvd2VkIHRvIGJlIHRoZSBwcmVmaXggb2YgJHtmaW5kRXF1YWwgJiYgZmluZEVxdWFsLm5hbWV9IG5hbWUgb3IgYWxpYXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcmVtb3RlIGVudHJ5IHRvIGEgY29tcGxldGUgcGF0aFxuICAgICAgICAgICAgaWYgKCdlbnRyeScgaW4gcmVtb3RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQnJvd3NlckVudigpICYmICFyZW1vdGUuZW50cnkuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZS5lbnRyeSA9IG5ldyBVUkwocmVtb3RlLmVudHJ5LCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5ocmVmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVtb3RlLnNoYXJlU2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdGUuc2hhcmVTY29wZSA9IERFRkFVTFRfU0NPUEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlbW90ZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgcmVtb3RlLnR5cGUgPSBERUZBVUxUX1JFTU9URV9UWVBFO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhvb2tzLmxpZmVjeWNsZS5iZWZvcmVSZWdpc3RlclJlbW90ZS5lbWl0KHtcbiAgICAgICAgICAgIHJlbW90ZSxcbiAgICAgICAgICAgIG9yaWdpbjogaG9zdFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFJlbW90ZSA9IHRhcmdldFJlbW90ZXMuZmluZCgoaXRlbSk9Pml0ZW0ubmFtZSA9PT0gcmVtb3RlLm5hbWUpO1xuICAgICAgICBpZiAoIXJlZ2lzdGVyZWRSZW1vdGUpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZVJlbW90ZSgpO1xuICAgICAgICAgICAgdGFyZ2V0UmVtb3Rlcy5wdXNoKHJlbW90ZSk7XG4gICAgICAgICAgICB0aGlzLmhvb2tzLmxpZmVjeWNsZS5yZWdpc3RlclJlbW90ZS5lbWl0KHtcbiAgICAgICAgICAgICAgICByZW1vdGUsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBob3N0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgICAgIGBUaGUgcmVtb3RlIFwiJHtyZW1vdGUubmFtZX1cIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuYCxcbiAgICAgICAgICAgICAgICAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mb3JjZSkgPyAnSG9wZSB5b3UgaGF2ZSBrbm93biB0aGF0IE9WRVJSSURFIGl0IG1heSBoYXZlIHNvbWUgdW5leHBlY3RlZCBlcnJvcnMnIDogJ0lmIHlvdSB3YW50IHRvIG1lcmdlIHRoZSByZW1vdGUsIHlvdSBjYW4gc2V0IFwiZm9yY2U6IHRydWVcIi4nXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgcmVnaXN0ZXJlZCByZW1vdGVcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJlbW90ZShyZWdpc3RlcmVkUmVtb3RlKTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVSZW1vdGUoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRSZW1vdGVzLnB1c2gocmVtb3RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvb2tzLmxpZmVjeWNsZS5yZWdpc3RlclJlbW90ZS5lbWl0KHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGhvc3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm4kMShtZXNzYWdlcy5qb2luKCcgJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVJlbW90ZShyZW1vdGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaG9zdCB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gcmVtb3RlO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlSW5kZXggPSBob3N0Lm9wdGlvbnMucmVtb3Rlcy5maW5kSW5kZXgoKGl0ZW0pPT5pdGVtLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgICAgaWYgKHJlbW90ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGhvc3Qub3B0aW9ucy5yZW1vdGVzLnNwbGljZShyZW1vdGVJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2FkZWRNb2R1bGUgPSBob3N0Lm1vZHVsZUNhY2hlLmdldChyZW1vdGUubmFtZSk7XG4gICAgICAgICAgICBpZiAobG9hZGVkTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlSW5mbyA9IGxvYWRlZE1vZHVsZS5yZW1vdGVJbmZvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHJlbW90ZUluZm8uZW50cnlHbG9iYWxOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxUaGlzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9PYmplY3RfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKF9PYmplY3RfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxUaGlzLCBrZXkpKSA9PSBudWxsID8gdm9pZCAwIDogX09iamVjdF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2xvYmFsVGhpc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpc1trZXldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZUVudHJ5VW5pcXVlS2V5ID0gZ2V0UmVtb3RlRW50cnlVbmlxdWVLZXkobG9hZGVkTW9kdWxlLnJlbW90ZUluZm8pO1xuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxMb2FkaW5nW3JlbW90ZUVudHJ5VW5pcXVlS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2xvYmFsTG9hZGluZ1tyZW1vdGVFbnRyeVVuaXF1ZUtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3Quc25hcHNob3RIYW5kbGVyLm1hbmlmZXN0Q2FjaGUuZGVsZXRlKHJlbW90ZUluZm8uZW50cnkpO1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB1bmxvYWRlZCBzaGFyZWQgYW5kIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgbGV0IHJlbW90ZUluc0lkID0gcmVtb3RlSW5mby5idWlsZFZlcnNpb24gPyBjb21wb3NlS2V5V2l0aFNlcGFyYXRvcihyZW1vdGVJbmZvLm5hbWUsIHJlbW90ZUluZm8uYnVpbGRWZXJzaW9uKSA6IHJlbW90ZUluZm8ubmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVJbnNJbmRleCA9IGdsb2JhbFRoaXMuX19GRURFUkFUSU9OX18uX19JTlNUQU5DRVNfXy5maW5kSW5kZXgoKGlucyk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZUluZm8uYnVpbGRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zLm9wdGlvbnMuaWQgPT09IHJlbW90ZUluc0lkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucy5uYW1lID09PSByZW1vdGVJbnNJZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdGVJbnNJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlSW5zID0gZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0lOU1RBTkNFU19fW3JlbW90ZUluc0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSW5zSWQgPSByZW1vdGVJbnMub3B0aW9ucy5pZCB8fCByZW1vdGVJbnNJZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsU2hhcmVTY29wZU1hcCA9IGdldEdsb2JhbFNoYXJlU2NvcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzQWxsU2hhcmVkTm90VXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWREZWxldGVLZXlzID0gW107XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGdsb2JhbFNoYXJlU2NvcGVNYXApLmZvckVhY2goKGluc3RJZCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlU2NvcGVNYXAgPSBnbG9iYWxTaGFyZVNjb3BlTWFwW2luc3RJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVNjb3BlTWFwICYmIE9iamVjdC5rZXlzKHNoYXJlU2NvcGVNYXApLmZvckVhY2goKHNoYXJlU2NvcGUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhcmVTY29wZVZhbCA9IHNoYXJlU2NvcGVNYXBbc2hhcmVTY29wZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVTY29wZVZhbCAmJiBPYmplY3Qua2V5cyhzaGFyZVNjb3BlVmFsKS5mb3JFYWNoKChzaGFyZU5hbWUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlZFBrZ3MgPSBzaGFyZVNjb3BlVmFsW3NoYXJlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZFBrZ3MgJiYgT2JqZWN0LmtleXMoc2hhcmVkUGtncykuZm9yRWFjaCgoc2hhcmVWZXJzaW9uKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhcmVkID0gc2hhcmVkUGtnc1tzaGFyZVZlcnNpb25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlZCAmJiB0eXBlb2Ygc2hhcmVkID09PSAnb2JqZWN0JyAmJiBzaGFyZWQuZnJvbSA9PT0gcmVtb3RlSW5mby5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlZC5sb2FkZWQgfHwgc2hhcmVkLmxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkLnVzZUluID0gc2hhcmVkLnVzZUluLmZpbHRlcigodXNlZEhvc3ROYW1lKT0+dXNlZEhvc3ROYW1lICE9PSByZW1vdGVJbmZvLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhcmVkLnVzZUluLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxTaGFyZWROb3RVc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkRGVsZXRlS2V5cy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVWZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWREZWxldGVLZXlzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlVmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBbGxTaGFyZWROb3RVc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVJbnMuc2hhcmVTY29wZU1hcCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdsb2JhbFNoYXJlU2NvcGVNYXBbcmVtb3RlSW5zSWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5lZWREZWxldGVLZXlzLmZvckVhY2goKFtpbnNJZCwgc2hhcmVTY29wZSwgc2hhcmVOYW1lLCBzaGFyZVZlcnNpb25dKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9nbG9iYWxTaGFyZVNjb3BlTWFwX2luc0lkX3NoYXJlU2NvcGVfc2hhcmVOYW1lLCBfZ2xvYmFsU2hhcmVTY29wZU1hcF9pbnNJZF9zaGFyZVNjb3BlLCBfZ2xvYmFsU2hhcmVTY29wZU1hcF9pbnNJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZ2xvYmFsU2hhcmVTY29wZU1hcF9pbnNJZCA9IGdsb2JhbFNoYXJlU2NvcGVNYXBbaW5zSWRdKSA9PSBudWxsID8gdHJ1ZSA6IChfZ2xvYmFsU2hhcmVTY29wZU1hcF9pbnNJZF9zaGFyZVNjb3BlID0gX2dsb2JhbFNoYXJlU2NvcGVNYXBfaW5zSWRbc2hhcmVTY29wZV0pID09IG51bGwgPyB0cnVlIDogKF9nbG9iYWxTaGFyZVNjb3BlTWFwX2luc0lkX3NoYXJlU2NvcGVfc2hhcmVOYW1lID0gX2dsb2JhbFNoYXJlU2NvcGVNYXBfaW5zSWRfc2hhcmVTY29wZVtzaGFyZU5hbWVdKSA9PSBudWxsID8gdHJ1ZSA6IGRlbGV0ZSBfZ2xvYmFsU2hhcmVTY29wZU1hcF9pbnNJZF9zaGFyZVNjb3BlX3NoYXJlTmFtZVtzaGFyZVZlcnNpb25dO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0lOU1RBTkNFU19fLnNwbGljZShyZW1vdGVJbnNJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaG9zdEdsb2JhbFNuYXBzaG90IH0gPSBnZXRHbG9iYWxSZW1vdGVJbmZvKHJlbW90ZSwgaG9zdCk7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RHbG9iYWxTbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVLZXkgPSBob3N0R2xvYmFsU25hcHNob3QgJiYgJ3JlbW90ZXNJbmZvJyBpbiBob3N0R2xvYmFsU25hcHNob3QgJiYgaG9zdEdsb2JhbFNuYXBzaG90LnJlbW90ZXNJbmZvICYmIGdldEluZm9XaXRob3V0VHlwZShob3N0R2xvYmFsU25hcHNob3QucmVtb3Rlc0luZm8sIHJlbW90ZS5uYW1lKS5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBob3N0R2xvYmFsU25hcHNob3QucmVtb3Rlc0luZm9bcmVtb3RlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1ib29sZWFuLWNhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIEJvb2xlYW4oR2xvYmFsLl9fRkVERVJBVElPTl9fLl9fTUFOSUZFU1RfTE9BRElOR19fW3JlbW90ZUtleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIEdsb2JhbC5fX0ZFREVSQVRJT05fXy5fX01BTklGRVNUX0xPQURJTkdfX1tyZW1vdGVLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3QubW9kdWxlQ2FjaGUuZGVsZXRlKHJlbW90ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZlUmVtb3RlIGZhaWw6ICcsIGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoaG9zdCl7XG4gICAgICAgIHRoaXMuaG9va3MgPSBuZXcgUGx1Z2luU3lzdGVtKHtcbiAgICAgICAgICAgIGJlZm9yZVJlZ2lzdGVyUmVtb3RlOiBuZXcgU3luY1dhdGVyZmFsbEhvb2soJ2JlZm9yZVJlZ2lzdGVyUmVtb3RlJyksXG4gICAgICAgICAgICByZWdpc3RlclJlbW90ZTogbmV3IFN5bmNXYXRlcmZhbGxIb29rKCdyZWdpc3RlclJlbW90ZScpLFxuICAgICAgICAgICAgYmVmb3JlUmVxdWVzdDogbmV3IEFzeW5jV2F0ZXJmYWxsSG9vaygnYmVmb3JlUmVxdWVzdCcpLFxuICAgICAgICAgICAgb25Mb2FkOiBuZXcgQXN5bmNIb29rKCdvbkxvYWQnKSxcbiAgICAgICAgICAgIGhhbmRsZVByZWxvYWRNb2R1bGU6IG5ldyBTeW5jSG9vaygnaGFuZGxlUHJlbG9hZE1vZHVsZScpLFxuICAgICAgICAgICAgZXJyb3JMb2FkUmVtb3RlOiBuZXcgQXN5bmNIb29rKCdlcnJvckxvYWRSZW1vdGUnKSxcbiAgICAgICAgICAgIGJlZm9yZVByZWxvYWRSZW1vdGU6IG5ldyBBc3luY0hvb2soJ2JlZm9yZVByZWxvYWRSZW1vdGUnKSxcbiAgICAgICAgICAgIGdlbmVyYXRlUHJlbG9hZEFzc2V0czogbmV3IEFzeW5jSG9vaygnZ2VuZXJhdGVQcmVsb2FkQXNzZXRzJyksXG4gICAgICAgICAgICAvLyBub3QgdXNlZCB5ZXRcbiAgICAgICAgICAgIGFmdGVyUHJlbG9hZFJlbW90ZTogbmV3IEFzeW5jSG9vaygpLFxuICAgICAgICAgICAgbG9hZEVudHJ5OiBuZXcgQXN5bmNIb29rKClcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMuaWRUb1JlbW90ZU1hcCA9IHt9O1xuICAgIH1cbn1cblxuY2xhc3MgRmVkZXJhdGlvbkhvc3Qge1xuICAgIGluaXRPcHRpb25zKHVzZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQbHVnaW5zKHVzZXJPcHRpb25zLnBsdWdpbnMpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5mb3JtYXRPcHRpb25zKHRoaXMub3B0aW9ucywgdXNlck9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgYXN5bmMgbG9hZFNoYXJlKHBrZ05hbWUsIGV4dHJhT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFyZWRIYW5kbGVyLmxvYWRTaGFyZShwa2dOYW1lLCBleHRyYU9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBUaGUgbGliIGZ1bmN0aW9uIHdpbGwgb25seSBiZSBhdmFpbGFibGUgaWYgdGhlIHNoYXJlZCBzZXQgYnkgZWFnZXIgb3IgcnVudGltZSBpbml0IGlzIHNldCBvciB0aGUgc2hhcmVkIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgLy8gMS4gSWYgdGhlIGxvYWRlZCBzaGFyZWQgYWxyZWFkeSBleGlzdHMgZ2xvYmFsbHksIHRoZW4gaXQgd2lsbCBiZSByZXVzZWRcbiAgICAvLyAyLiBJZiBsaWIgZXhpc3RzIGluIGxvY2FsIHNoYXJlZCwgaXQgd2lsbCBiZSB1c2VkIGRpcmVjdGx5XG4gICAgLy8gMy4gSWYgdGhlIGxvY2FsIGdldCByZXR1cm5zIHNvbWV0aGluZyBvdGhlciB0aGFuIFByb21pc2UsIHRoZW4gaXQgd2lsbCBiZSB1c2VkIGRpcmVjdGx5XG4gICAgbG9hZFNoYXJlU3luYyhwa2dOYW1lLCBleHRyYU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcmVkSGFuZGxlci5sb2FkU2hhcmVTeW5jKHBrZ05hbWUsIGV4dHJhT3B0aW9ucyk7XG4gICAgfVxuICAgIGluaXRpYWxpemVTaGFyaW5nKHNoYXJlU2NvcGVOYW1lID0gREVGQVVMVF9TQ09QRSwgZXh0cmFPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYXJlZEhhbmRsZXIuaW5pdGlhbGl6ZVNoYXJpbmcoc2hhcmVTY29wZU5hbWUsIGV4dHJhT3B0aW9ucyk7XG4gICAgfVxuICAgIGluaXRSYXdDb250YWluZXIobmFtZSwgdXJsLCBjb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgcmVtb3RlSW5mbyA9IGdldFJlbW90ZUluZm8oe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGVudHJ5OiB1cmxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IG5ldyBNb2R1bGUoe1xuICAgICAgICAgICAgaG9zdDogdGhpcyxcbiAgICAgICAgICAgIHJlbW90ZUluZm9cbiAgICAgICAgfSk7XG4gICAgICAgIG1vZHVsZS5yZW1vdGVFbnRyeUV4cG9ydHMgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMubW9kdWxlQ2FjaGUuc2V0KG5hbWUsIG1vZHVsZSk7XG4gICAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICBhc3luYyBsb2FkUmVtb3RlKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZUhhbmRsZXIubG9hZFJlbW90ZShpZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbWVtYmVyLW9yZGVyaW5nXG4gICAgYXN5bmMgcHJlbG9hZFJlbW90ZShwcmVsb2FkT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVIYW5kbGVyLnByZWxvYWRSZW1vdGUocHJlbG9hZE9wdGlvbnMpO1xuICAgIH1cbiAgICBpbml0U2hhcmVTY29wZU1hcChzY29wZU5hbWUsIHNoYXJlU2NvcGUsIGV4dHJhT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuc2hhcmVkSGFuZGxlci5pbml0U2hhcmVTY29wZU1hcChzY29wZU5hbWUsIHNoYXJlU2NvcGUsIGV4dHJhT3B0aW9ucyk7XG4gICAgfVxuICAgIGZvcm1hdE9wdGlvbnMoZ2xvYmFsT3B0aW9ucywgdXNlck9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBzaGFyZWQgfSA9IGZvcm1hdFNoYXJlQ29uZmlncyhnbG9iYWxPcHRpb25zLCB1c2VyT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgdXNlck9wdGlvbnM6IHVzZXJPcHRpb25zUmVzLCBvcHRpb25zOiBnbG9iYWxPcHRpb25zUmVzIH0gPSB0aGlzLmhvb2tzLmxpZmVjeWNsZS5iZWZvcmVJbml0LmVtaXQoe1xuICAgICAgICAgICAgb3JpZ2luOiB0aGlzLFxuICAgICAgICAgICAgdXNlck9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zOiBnbG9iYWxPcHRpb25zLFxuICAgICAgICAgICAgc2hhcmVJbmZvOiBzaGFyZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlbW90ZXMgPSB0aGlzLnJlbW90ZUhhbmRsZXIuZm9ybWF0QW5kUmVnaXN0ZXJSZW1vdGUoZ2xvYmFsT3B0aW9uc1JlcywgdXNlck9wdGlvbnNSZXMpO1xuICAgICAgICBjb25zdCB7IHNoYXJlZDogaGFuZGxlZFNoYXJlZCB9ID0gdGhpcy5zaGFyZWRIYW5kbGVyLnJlZ2lzdGVyU2hhcmVkKGdsb2JhbE9wdGlvbnNSZXMsIHVzZXJPcHRpb25zUmVzKTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IFtcbiAgICAgICAgICAgIC4uLmdsb2JhbE9wdGlvbnNSZXMucGx1Z2luc1xuICAgICAgICBdO1xuICAgICAgICBpZiAodXNlck9wdGlvbnNSZXMucGx1Z2lucykge1xuICAgICAgICAgICAgdXNlck9wdGlvbnNSZXMucGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pPT57XG4gICAgICAgICAgICAgICAgaWYgKCFwbHVnaW5zLmluY2x1ZGVzKHBsdWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9uc1JlcyA9IF9leHRlbmRzKHt9LCBnbG9iYWxPcHRpb25zLCB1c2VyT3B0aW9ucywge1xuICAgICAgICAgICAgcGx1Z2lucyxcbiAgICAgICAgICAgIHJlbW90ZXMsXG4gICAgICAgICAgICBzaGFyZWQ6IGhhbmRsZWRTaGFyZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaG9va3MubGlmZWN5Y2xlLmluaXQuZW1pdCh7XG4gICAgICAgICAgICBvcmlnaW46IHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zUmVzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0aW9uc1JlcztcbiAgICB9XG4gICAgcmVnaXN0ZXJQbHVnaW5zKHBsdWdpbnMpIHtcbiAgICAgICAgY29uc3QgcGx1Z2luUmVzID0gcmVnaXN0ZXJQbHVnaW5zJDEocGx1Z2lucywgW1xuICAgICAgICAgICAgdGhpcy5ob29rcyxcbiAgICAgICAgICAgIHRoaXMucmVtb3RlSGFuZGxlci5ob29rcyxcbiAgICAgICAgICAgIHRoaXMuc2hhcmVkSGFuZGxlci5ob29rcyxcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3RIYW5kbGVyLmhvb2tzLFxuICAgICAgICAgICAgdGhpcy5sb2FkZXJIb29rXG4gICAgICAgIF0pO1xuICAgICAgICAvLyBNZXJnZSBwbHVnaW5cbiAgICAgICAgdGhpcy5vcHRpb25zLnBsdWdpbnMgPSB0aGlzLm9wdGlvbnMucGx1Z2lucy5yZWR1Y2UoKHJlcywgcGx1Z2luKT0+e1xuICAgICAgICAgICAgaWYgKCFwbHVnaW4pIHJldHVybiByZXM7XG4gICAgICAgICAgICBpZiAocmVzICYmICFyZXMuZmluZCgoaXRlbSk9Pml0ZW0ubmFtZSA9PT0gcGx1Z2luLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sIHBsdWdpblJlcyB8fCBbXSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyUmVtb3RlcyhyZW1vdGVzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZUhhbmRsZXIucmVnaXN0ZXJSZW1vdGVzKHJlbW90ZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih1c2VyT3B0aW9ucyl7XG4gICAgICAgIHRoaXMuaG9va3MgPSBuZXcgUGx1Z2luU3lzdGVtKHtcbiAgICAgICAgICAgIGJlZm9yZUluaXQ6IG5ldyBTeW5jV2F0ZXJmYWxsSG9vaygnYmVmb3JlSW5pdCcpLFxuICAgICAgICAgICAgaW5pdDogbmV3IFN5bmNIb29rKCksXG4gICAgICAgICAgICAvLyBtYXliZSB3aWxsIGNoYW5nZSwgdGVtcG9yYXJpbHkgZm9yIGludGVybmFsIHVzZSBvbmx5XG4gICAgICAgICAgICBiZWZvcmVJbml0Q29udGFpbmVyOiBuZXcgQXN5bmNXYXRlcmZhbGxIb29rKCdiZWZvcmVJbml0Q29udGFpbmVyJyksXG4gICAgICAgICAgICAvLyBtYXliZSB3aWxsIGNoYW5nZSwgdGVtcG9yYXJpbHkgZm9yIGludGVybmFsIHVzZSBvbmx5XG4gICAgICAgICAgICBpbml0Q29udGFpbmVyOiBuZXcgQXN5bmNXYXRlcmZhbGxIb29rKCdpbml0Q29udGFpbmVyJylcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFwiMC42LjBcIjtcbiAgICAgICAgdGhpcy5tb2R1bGVDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2FkZXJIb29rID0gbmV3IFBsdWdpblN5c3RlbSh7XG4gICAgICAgICAgICAvLyBGSVhNRTogbWF5IG5vdCBiZSBzdWl0YWJsZSAsIG5vdCBvcGVuIHRvIHRoZSBwdWJsaWMgeWV0XG4gICAgICAgICAgICBnZXRNb2R1bGVJbmZvOiBuZXcgU3luY0hvb2soKSxcbiAgICAgICAgICAgIGNyZWF0ZVNjcmlwdDogbmV3IFN5bmNIb29rKCksXG4gICAgICAgICAgICBjcmVhdGVMaW5rOiBuZXcgU3luY0hvb2soKSxcbiAgICAgICAgICAgIC8vIG9ubHkgd29yayBmb3IgbWFuaWZlc3QgLCBzbyBub3Qgb3BlbiB0byB0aGUgcHVibGljIHlldFxuICAgICAgICAgICAgZmV0Y2g6IG5ldyBBc3luY0hvb2soKVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogVmFsaWRhdGUgdGhlIGRldGFpbHMgb2YgdGhlIG9wdGlvbnNcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBvcHRpb25zIHdpdGggZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpZDogZ2V0QnVpbGRlcklkKCksXG4gICAgICAgICAgICBuYW1lOiB1c2VyT3B0aW9ucy5uYW1lLFxuICAgICAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgICAgIHNuYXBzaG90UGx1Z2luKCksXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVQcmVsb2FkQXNzZXRzUGx1Z2luKClcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICByZW1vdGVzOiBbXSxcbiAgICAgICAgICAgIHNoYXJlZDoge30sXG4gICAgICAgICAgICBpbkJyb3dzZXI6IGlzQnJvd3NlckVudigpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubmFtZSA9IHVzZXJPcHRpb25zLm5hbWU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLnNuYXBzaG90SGFuZGxlciA9IG5ldyBTbmFwc2hvdEhhbmRsZXIodGhpcyk7XG4gICAgICAgIHRoaXMuc2hhcmVkSGFuZGxlciA9IG5ldyBTaGFyZWRIYW5kbGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJlbW90ZUhhbmRsZXIgPSBuZXcgUmVtb3RlSGFuZGxlcih0aGlzKTtcbiAgICAgICAgdGhpcy5zaGFyZVNjb3BlTWFwID0gdGhpcy5zaGFyZWRIYW5kbGVyLnNoYXJlU2NvcGVNYXA7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQbHVnaW5zKFtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLnBsdWdpbnMsXG4gICAgICAgICAgICAuLi51c2VyT3B0aW9ucy5wbHVnaW5zIHx8IFtdXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmZvcm1hdE9wdGlvbnMoZGVmYXVsdE9wdGlvbnMsIHVzZXJPcHRpb25zKTtcbiAgICB9XG59XG5cbmxldCBGZWRlcmF0aW9uSW5zdGFuY2UgPSBudWxsO1xuZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XG4gICAgLy8gUmV0cmlldmUgdGhlIHNhbWUgaW5zdGFuY2Ugd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2Uob3B0aW9ucy5uYW1lLCBvcHRpb25zLnZlcnNpb24pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGVidWcgY29uc3RydWN0b3JcbiAgICAgICAgY29uc3QgRmVkZXJhdGlvbkNvbnN0cnVjdG9yID0gZ2V0R2xvYmFsRmVkZXJhdGlvbkNvbnN0cnVjdG9yKCkgfHwgRmVkZXJhdGlvbkhvc3Q7XG4gICAgICAgIEZlZGVyYXRpb25JbnN0YW5jZSA9IG5ldyBGZWRlcmF0aW9uQ29uc3RydWN0b3Iob3B0aW9ucyk7XG4gICAgICAgIHNldEdsb2JhbEZlZGVyYXRpb25JbnN0YW5jZShGZWRlcmF0aW9uSW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gRmVkZXJhdGlvbkluc3RhbmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1lcmdlIG9wdGlvbnNcbiAgICAgICAgaW5zdGFuY2UuaW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGlmICghRmVkZXJhdGlvbkluc3RhbmNlKSB7XG4gICAgICAgICAgICBGZWRlcmF0aW9uSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZFJlbW90ZSguLi5hcmdzKSB7XG4gICAgYXNzZXJ0KEZlZGVyYXRpb25JbnN0YW5jZSwgJ1BsZWFzZSBjYWxsIGluaXQgZmlyc3QnKTtcbiAgICBjb25zdCBsb2FkUmVtb3RlMSA9IEZlZGVyYXRpb25JbnN0YW5jZS5sb2FkUmVtb3RlO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgcmV0dXJuIGxvYWRSZW1vdGUxLmFwcGx5KEZlZGVyYXRpb25JbnN0YW5jZSwgYXJncyk7XG59XG5mdW5jdGlvbiBsb2FkU2hhcmUoLi4uYXJncykge1xuICAgIGFzc2VydChGZWRlcmF0aW9uSW5zdGFuY2UsICdQbGVhc2UgY2FsbCBpbml0IGZpcnN0Jyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICBjb25zdCBsb2FkU2hhcmUxID0gRmVkZXJhdGlvbkluc3RhbmNlLmxvYWRTaGFyZTtcbiAgICByZXR1cm4gbG9hZFNoYXJlMS5hcHBseShGZWRlcmF0aW9uSW5zdGFuY2UsIGFyZ3MpO1xufVxuZnVuY3Rpb24gbG9hZFNoYXJlU3luYyguLi5hcmdzKSB7XG4gICAgYXNzZXJ0KEZlZGVyYXRpb25JbnN0YW5jZSwgJ1BsZWFzZSBjYWxsIGluaXQgZmlyc3QnKTtcbiAgICBjb25zdCBsb2FkU2hhcmVTeW5jMSA9IEZlZGVyYXRpb25JbnN0YW5jZS5sb2FkU2hhcmVTeW5jO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgcmV0dXJuIGxvYWRTaGFyZVN5bmMxLmFwcGx5KEZlZGVyYXRpb25JbnN0YW5jZSwgYXJncyk7XG59XG5mdW5jdGlvbiBwcmVsb2FkUmVtb3RlKC4uLmFyZ3MpIHtcbiAgICBhc3NlcnQoRmVkZXJhdGlvbkluc3RhbmNlLCAnUGxlYXNlIGNhbGwgaW5pdCBmaXJzdCcpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgcmV0dXJuIEZlZGVyYXRpb25JbnN0YW5jZS5wcmVsb2FkUmVtb3RlLmFwcGx5KEZlZGVyYXRpb25JbnN0YW5jZSwgYXJncyk7XG59XG5mdW5jdGlvbiByZWdpc3RlclJlbW90ZXMoLi4uYXJncykge1xuICAgIGFzc2VydChGZWRlcmF0aW9uSW5zdGFuY2UsICdQbGVhc2UgY2FsbCBpbml0IGZpcnN0Jyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICByZXR1cm4gRmVkZXJhdGlvbkluc3RhbmNlLnJlZ2lzdGVyUmVtb3Rlcy5hcHBseShGZWRlcmF0aW9uSW5zdGFuY2UsIGFyZ3MpO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW5zKC4uLmFyZ3MpIHtcbiAgICBhc3NlcnQoRmVkZXJhdGlvbkluc3RhbmNlLCAnUGxlYXNlIGNhbGwgaW5pdCBmaXJzdCcpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgcmV0dXJuIEZlZGVyYXRpb25JbnN0YW5jZS5yZWdpc3RlclBsdWdpbnMuYXBwbHkoRmVkZXJhdGlvbkluc3RhbmNlLCBhcmdzKTtcbn1cbmZ1bmN0aW9uIGdldEluc3RhbmNlKCkge1xuICAgIHJldHVybiBGZWRlcmF0aW9uSW5zdGFuY2U7XG59XG4vLyBJbmplY3QgZm9yIGRlYnVnXG5zZXRHbG9iYWxGZWRlcmF0aW9uQ29uc3RydWN0b3IoRmVkZXJhdGlvbkhvc3QpO1xuXG5leHBvcnQgeyBGZWRlcmF0aW9uSG9zdCwgZ2V0SW5zdGFuY2UsIGdldFJlbW90ZUVudHJ5LCBnZXRSZW1vdGVJbmZvLCBpbml0LCBsb2FkUmVtb3RlLCBsb2FkU2hhcmUsIGxvYWRTaGFyZVN5bmMsIHByZWxvYWRSZW1vdGUsIHJlZ2lzdGVyUGx1Z2lucywgcmVnaXN0ZXJSZW1vdGVzIH07XG4iXSwibmFtZXMiOlsiXyIsIl9leHRlbmRzIiwiYSIsIl9vYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzX2xvb3NlIiwiaXNCcm93c2VyRW52IiwibG9hZFNjcmlwdE5vZGUiLCJjb21wb3NlS2V5V2l0aFNlcGFyYXRvciIsImxvYWRTY3JpcHQiLCJzYWZlVG9TdHJpbmciLCJjcmVhdGVMaW5rIiwiY3JlYXRlU2NyaXB0IiwiZ2V0UmVzb3VyY2VVcmwiLCJpc01hbmlmZXN0UHJvdmlkZXIiLCJnZW5lcmF0ZVNuYXBzaG90RnJvbU1hbmlmZXN0Iiwid2FybiIsIndhcm4kMSIsImciLCJnZXRHbG9iYWxIb3N0UGx1Z2lucyIsImdsb2JhbExvYWRpbmciLCJEIiwiREVGQVVMVF9SRU1PVEVfVFlQRSIsImIiLCJERUZBVUxUX1NDT1BFIiwiYyIsImdldFJlbW90ZUVudHJ5RXhwb3J0cyIsImQiLCJhc3NlcnQiLCJlIiwiZ2V0Rk1JZCIsImkiLCJpc09iamVjdCIsImYiLCJlcnJvciIsInciLCJoIiwiaXNQbGFpbk9iamVjdCIsImoiLCJpc1JlbW90ZUluZm9XaXRoRW50cnkiLCJrIiwiaXNQdXJlUmVtb3RlRW50cnkiLCJsIiwiZ2V0UmVtb3RlRW50cnlJbmZvRnJvbVNuYXBzaG90IiwibSIsImdldEluZm9XaXRob3V0VHlwZSIsIm4iLCJnZXRQcmVsb2FkZWQiLCJzIiwic2V0UHJlbG9hZGVkIiwibyIsImdldFJlZ2lzdGVyZWRTaGFyZSIsInAiLCJhcnJheU9wdGlvbnMiLCJxIiwiZ2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvIiwiciIsImFkZEdsb2JhbFNuYXBzaG90IiwidCIsInNldEdsb2JhbFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyIsIkciLCJHbG9iYWwiLCJ1IiwiZ2V0R2xvYmFsU25hcHNob3QiLCJ2IiwiZm9ybWF0U2hhcmVDb25maWdzIiwieCIsImdldFRhcmdldFNoYXJlZE9wdGlvbnMiLCJ5IiwiZ2V0R2xvYmFsU2hhcmVTY29wZSIsInoiLCJhZGRVbmlxdWVJdGVtIiwiQSIsImdldEJ1aWxkZXJJZCIsIkIiLCJzZXRHbG9iYWxGZWRlcmF0aW9uQ29uc3RydWN0b3IiLCJDIiwiZ2V0R2xvYmFsRmVkZXJhdGlvbkluc3RhbmNlIiwiRSIsImdldEdsb2JhbEZlZGVyYXRpb25Db25zdHJ1Y3RvciIsIkYiLCJzZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2UiLCJIIiwicmVnaXN0ZXJHbG9iYWxQbHVnaW5zIiwibWF0Y2hSZW1vdGVXaXRoTmFtZUFuZEV4cG9zZSIsInJlbW90ZXMiLCJpZCIsInJlbW90ZSIsImlzTmFtZU1hdGNoZWQiLCJzdGFydHNXaXRoIiwibmFtZSIsImV4cG9zZSIsInJlcGxhY2UiLCJwa2dOYW1lT3JBbGlhcyIsImlzQWxpYXNNYXRjaGVkIiwiYWxpYXMiLCJleHBvc2VXaXRoQWxpYXMiLCJtYXRjaFJlbW90ZSIsIm5hbWVPckFsaWFzIiwicmVnaXN0ZXJQbHVnaW5zJDEiLCJwbHVnaW5zIiwiaG9va0luc3RhbmNlcyIsImdsb2JhbFBsdWdpbnMiLCJsZW5ndGgiLCJmb3JFYWNoIiwicGx1Z2luIiwiZmluZCIsIml0ZW0iLCJwdXNoIiwiaG9va0luc3RhbmNlIiwiYXBwbHlQbHVnaW4iLCJsb2FkRXNtRW50cnkiLCJlbnRyeSIsInJlbW90ZUVudHJ5RXhwb3J0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiRnVuY3Rpb24iLCJsb2FkU3lzdGVtSnNFbnRyeSIsImxvYWRFbnRyeVNjcmlwdCIsImdsb2JhbE5hbWUiLCJjcmVhdGVTY3JpcHRIb29rIiwiZW50cnlFeHBvcnRzIiwiYXR0cnMiLCJ1cmwiLCJyZXMiLCJlbWl0IiwiSFRNTFNjcmlwdEVsZW1lbnQiLCJ0aGVuIiwicmVtb3RlRW50cnlLZXkiLCJjYXRjaCIsImxvYWRFbnRyeURvbSIsInJlbW90ZUluZm8iLCJlbnRyeUdsb2JhbE5hbWUiLCJ0eXBlIiwibG9hZEVudHJ5Tm9kZSIsImdldFJlbW90ZUVudHJ5VW5pcXVlS2V5IiwiZ2V0UmVtb3RlRW50cnkiLCJvcmlnaW4iLCJ1bmlxdWVLZXkiLCJsb2FkRW50cnlIb29rIiwicmVtb3RlSGFuZGxlciIsImhvb2tzIiwibGlmZWN5Y2xlIiwibG9hZEVudHJ5IiwibGlzdGVuZXJzIiwic2l6ZSIsImxvYWRlckhvb2siLCJ1bmRlZmluZWQiLCJnZXRSZW1vdGVJbmZvIiwic2hhcmVTY29wZSIsIk1vZHVsZSIsImdldEVudHJ5IiwiaG9zdCIsImdldCIsIm9wdGlvbnMiLCJsb2FkRmFjdG9yeSIsImluaXRlZCIsImxvY2FsU2hhcmVTY29wZU1hcCIsInNoYXJlU2NvcGVNYXAiLCJyZW1vdGVTaGFyZVNjb3BlIiwiaW5pdFNjb3BlIiwicmVtb3RlRW50cnlJbml0T3B0aW9ucyIsInZlcnNpb24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImluaXRDb250YWluZXJPcHRpb25zIiwiYmVmb3JlSW5pdENvbnRhaW5lciIsImluaXQiLCJjb25zb2xlIiwiaW5pdENvbnRhaW5lciIsImxpYiIsIm1vZHVsZUZhY3RvcnkiLCJ3cmFwTW9kdWxlRmFjdG9yeSIsIndyYXBlckZhY3RvcnkiLCJleHBvc2VDb250ZW50IiwiZGVmaW5lTW9kdWxlSWQiLCJpc0V4dGVuc2libGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJTeW1ib2wiLCJmb3IiLCJjb25zdHJ1Y3RvciIsIlN5bmNIb29rIiwib24iLCJmbiIsImFkZCIsIm9uY2UiLCJzZWxmIiwid3JhcHBlciIsImFyZ3MiLCJyZW1vdmUiLCJhcHBseSIsImRhdGEiLCJyZXN1bHQiLCJkZWxldGUiLCJyZW1vdmVBbGwiLCJjbGVhciIsIlNldCIsIkFzeW5jSG9vayIsImxzIiwiQXJyYXkiLCJmcm9tIiwiY2FsbCIsInByZXYiLCJjaGVja1JldHVybkRhdGEiLCJvcmlnaW5hbERhdGEiLCJyZXR1cm5lZERhdGEiLCJrZXkiLCJTeW5jV2F0ZXJmYWxsSG9vayIsInRlbXBEYXRhIiwib25lcnJvciIsIkFzeW5jV2F0ZXJmYWxsSG9vayIsInByb2Nlc3NFcnJvciIsInByZXZEYXRhIiwiUGx1Z2luU3lzdGVtIiwicGx1Z2luTmFtZSIsInJlZ2lzdGVyUGx1Z2lucyIsImtleXMiLCJwbHVnaW5MaWZlIiwicmVtb3ZlUGx1Z2luIiwiaW5oZXJpdCIsImhvb2tOYW1lIiwibGlmZWN5Y2xlS2V5cyIsImRlZmF1bHRQcmVsb2FkQXJncyIsInByZWxvYWRDb25maWciLCJyZXNvdXJjZUNhdGVnb3J5Iiwic2hhcmUiLCJkZXBzUmVtb3RlIiwicHJlZmV0Y2hJbnRlcmZhY2UiLCJmb3JtYXRQcmVsb2FkQXJncyIsInByZWxvYWRBcmdzIiwibWFwIiwibm9ybWFsaXplUHJlbG9hZEV4cG9zZXMiLCJleHBvc2VzIiwicHJlbG9hZEFzc2V0cyIsImFzc2V0cyIsInVzZUxpbmtQcmVsb2FkIiwiY3NzQXNzZXRzIiwianNBc3NldHNXaXRob3V0RW50cnkiLCJlbnRyeUFzc2V0cyIsImluQnJvd3NlciIsImFzc2V0IiwibW9kdWxlSW5mbyIsIm1vZHVsZSIsIm1vZHVsZUNhY2hlIiwiZGVmYXVsdEF0dHJzIiwicmVsIiwiYXMiLCJjcm9zc29yaWdpbiIsImNzc1VybCIsImxpbmsiLCJjc3NFbCIsIm5lZWRBdHRhY2giLCJjYiIsImNyZWF0ZUxpbmtIb29rIiwiSFRNTExpbmtFbGVtZW50IiwiZG9jdW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJuZWVkRGVsZXRlTGluayIsImpzVXJsIiwibGlua0VsIiwiZmV0Y2hwcmlvcml0eSIsInNjcmlwdCIsInNjcmlwdEVsIiwibmVlZERlbGV0ZVNjcmlwdCIsImFzc2lnblJlbW90ZUluZm8iLCJyZW1vdGVTbmFwc2hvdCIsInJlbW90ZUVudHJ5SW5mbyIsImVudHJ5VXJsIiwiYnVpbGRWZXJzaW9uIiwic25hcHNob3RQbHVnaW4iLCJhZnRlclJlc29sdmUiLCJnbG9iYWxTbmFwc2hvdCIsInNuYXBzaG90SGFuZGxlciIsImxvYWRSZW1vdGVTbmFwc2hvdEluZm8iLCJwcmVsb2FkT3B0aW9ucyIsImdlbmVyYXRlUHJlbG9hZEFzc2V0cyIsInNwbGl0SWQiLCJzcGxpdEluZm8iLCJzcGxpdCIsInRyYXZlcnNlTW9kdWxlSW5mbyIsInRyYXZlcnNlIiwiaXNSb290IiwibWVtbyIsInNuYXBzaG90VmFsdWUiLCJlZmZlY3RpdmVSZW1vdGVTbmFwc2hvdCIsInJlbW90ZXNJbmZvIiwicmVtb3RlS2V5cyIsInN1YlJlbW90ZUluZm8iLCJyZW1vdGVWYWx1ZSIsIm1hdGNoZWRWZXJzaW9uIiwianNBc3NldHMiLCJsb2FkZWRTaGFyZWRKc0Fzc2V0cyIsImxvYWRlZFNoYXJlZENzc0Fzc2V0cyIsInJvb3RQcmVsb2FkQ29uZmlnIiwibW9kdWxlSW5mb1NuYXBzaG90IiwiaXNBcnJheSIsImZpbmRQcmVsb2FkQ29uZmlnIiwicmVtb3RlQ29uZmlnIiwicmVtb3RlRW50cnlVcmwiLCJyZW1vdGVFbnRyeVR5cGUiLCJtb2R1bGVBc3NldHNJbmZvIiwibW9kdWxlcyIsIm5vcm1hbGl6ZWRQcmVsb2FkRXhwb3NlcyIsIl9tb2R1bGVJbmZvU25hcHNob3RfbW9kdWxlcyIsInJlZHVjZSIsIm1vZHVsZUFzc2V0SW5mbyIsImluZGV4T2YiLCJtb2R1bGVOYW1lIiwiaGFuZGxlQXNzZXRzIiwiYXNzZXRzUmVzIiwiZmlsdGVyIiwiYXNzZXRzTGVuZ3RoIiwiaW5kZXgiLCJhc3NldHNJbmZvIiwiZXhwb3NlRnVsbFBhdGgiLCJoYW5kbGVQcmVsb2FkTW9kdWxlIiwicHJlbG9hZGVkIiwiY3NzIiwiYXN5bmMiLCJzeW5jIiwianMiLCJzaGFyZWQiLCJjb2xsZWN0U2hhcmVkQXNzZXRzIiwic2hhcmVJbmZvIiwic25hcHNob3RTaGFyZWQiLCJyZWdpc3RlcmVkU2hhcmVkIiwic2hhcmVkTmFtZSIsInNoYXJlZEhhbmRsZXIiLCJyZXNvbHZlU2hhcmUiLCJfb3B0aW9uc19zaGFyZWQiLCJzaGFyZUluZm9zIiwic2hhcmVkT3B0aW9ucyIsImFycmF5U2hhcmVJbmZvIiwibmVlZFByZWxvYWRKc0Fzc2V0cyIsImhhcyIsIm5lZWRQcmVsb2FkQ3NzQXNzZXRzIiwiZ2VuZXJhdGVQcmVsb2FkQXNzZXRzUGx1Z2luIiwiZ2V0R2xvYmFsUmVtb3RlSW5mbyIsImhvc3RHbG9iYWxTbmFwc2hvdCIsImdsb2JhbFJlbW90ZUluZm8iLCJTbmFwc2hvdEhhbmRsZXIiLCJsb2FkU25hcHNob3QiLCJIb3N0SW5zdGFuY2UiLCJnbG9iYWxSZW1vdGVTbmFwc2hvdCIsImdsb2JhbFNuYXBzaG90UmVzIiwiYmVmb3JlTG9hZFJlbW90ZVNuYXBzaG90IiwiaG9zdFNuYXBzaG90IiwicmVtb3RlRW50cnkiLCJzc3JSZW1vdGVFbnRyeSIsIm1vZHVsZVNuYXBzaG90IiwiZ2V0TWFuaWZlc3RKc29uIiwicmVtb3RlU25hcHNob3RSZXMiLCJsb2FkUmVtb3RlU25hcHNob3QiLCJKU09OIiwic3RyaW5naWZ5IiwibWFuaWZlc3RVcmwiLCJleHRyYU9wdGlvbnMiLCJnZXRNYW5pZmVzdCIsIm1hbmlmZXN0SnNvbiIsIm1hbmlmZXN0Q2FjaGUiLCJmZXRjaCIsIlJlc3BvbnNlIiwianNvbiIsIm1ldGFEYXRhIiwic2V0IiwiZXJyIiwibWFuaWZlc3RMb2FkaW5nIiwiYXN5bmNMb2FkUHJvY2VzcyIsImxvYWRpbmdIb3N0U25hcHNob3QiLCJNYXAiLCJfX0ZFREVSQVRJT05fXyIsIl9fTUFOSUZFU1RfTE9BRElOR19fIiwiU2hhcmVkSGFuZGxlciIsInJlZ2lzdGVyU2hhcmVkIiwiZ2xvYmFsT3B0aW9ucyIsInVzZXJPcHRpb25zIiwic2hhcmVkS2V5cyIsInNoYXJlZEtleSIsInNoYXJlZFZhbHMiLCJzaGFyZWRWYWwiLCJzZXRTaGFyZWQiLCJwa2dOYW1lIiwibG9hZGVkIiwibG9hZFNoYXJlIiwic2NvcGUiLCJhbGwiLCJpbml0aWFsaXplU2hhcmluZyIsInN0cmF0ZWd5IiwibG9hZFNoYXJlUmVzIiwiYmVmb3JlTG9hZFNoYXJlIiwic2hhcmVJbmZvUmVzIiwiYWRkVXNlSW4iLCJ1c2VJbiIsImxvYWRpbmciLCJmYWN0b3J5IiwiZ1NoYXJlZCIsImN1c3RvbVNoYXJlSW5mbyIsInNoYXJlU2NvcGVOYW1lIiwicHJvbWlzZXMiLCJpbml0VG9rZW5zIiwiaW5pdFRva2VuIiwiaG9zdE5hbWUiLCJyZWdpc3RlciIsIl9hY3RpdmVWZXJzaW9uX3NoYXJlQ29uZmlnIiwiZWFnZXIiLCJ2ZXJzaW9ucyIsImFjdGl2ZVZlcnNpb24iLCJhY3RpdmVWZXJzaW9uRWFnZXIiLCJCb29sZWFuIiwic2hhcmVDb25maWciLCJpbml0Rm4iLCJtb2QiLCJpbml0UmVtb3RlTW9kdWxlIiwiZ2V0UmVtb3RlTW9kdWxlQW5kT3B0aW9ucyIsInNoYXJlTmFtZSIsInNoYXJlZEFyciIsImluY2x1ZGVzIiwic2hhcmVTdHJhdGVneSIsImxvYWRTaGFyZVN5bmMiLCJFcnJvciIsImluaXRTaGFyZVNjb3BlTWFwIiwic2NvcGVOYW1lIiwiaW5pdENvbnRhaW5lclNoYXJlU2NvcGVNYXAiLCJob3N0U2hhcmVTY29wZU1hcCIsInNjb3BlcyIsInNjIiwiX3NldEdsb2JhbFNoYXJlU2NvcGVNYXAiLCJob3N0T3B0aW9ucyIsImdsb2JhbFNoYXJlU2NvcGVNYXAiLCJpZGVudGlmaWVyIiwiUmVtb3RlSGFuZGxlciIsImZvcm1hdEFuZFJlZ2lzdGVyUmVtb3RlIiwidXNlclJlbW90ZXMiLCJyZWdpc3RlclJlbW90ZSIsImZvcmNlIiwic2V0SWRUb1JlbW90ZU1hcCIsInJlbW90ZU1hdGNoSW5mbyIsImlkVG9SZW1vdGVNYXAiLCJpZFdpdGhBbGlhcyIsImlkV2l0aE5hbWUiLCJsb2FkUmVtb3RlIiwibW9kdWxlT3B0aW9ucyIsImlkUmVzIiwibW9kdWxlT3JGYWN0b3J5IiwibW9kdWxlV3JhcHBlciIsIm9uTG9hZCIsImV4cG9zZU1vZHVsZSIsImV4cG9zZU1vZHVsZUZhY3RvcnkiLCJtb2R1bGVJbnN0YW5jZSIsInByZWxvYWRSZW1vdGUiLCJiZWZvcmVQcmVsb2FkUmVtb3RlIiwicHJlbG9hZE9wcyIsIm9wcyIsInJlZ2lzdGVyUmVtb3RlcyIsImxvYWRSZW1vdGVBcmdzIiwiYmVmb3JlUmVxdWVzdCIsImVycm9yTG9hZFJlbW90ZSIsInJlbW90ZVNwbGl0SW5mbyIsInJhd1JlbW90ZSIsIm1hdGNoSW5mbyIsInRhcmdldFJlbW90ZXMiLCJub3JtYWxpemVSZW1vdGUiLCJmaW5kRXF1YWwiLCJfaXRlbV9hbGlhcyIsIlVSTCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImJlZm9yZVJlZ2lzdGVyUmVtb3RlIiwicmVnaXN0ZXJlZFJlbW90ZSIsIm1lc3NhZ2VzIiwicmVtb3ZlUmVtb3RlIiwiam9pbiIsInJlbW90ZUluZGV4IiwiZmluZEluZGV4Iiwic3BsaWNlIiwibG9hZGVkTW9kdWxlIiwiZ2xvYmFsVGhpcyIsIl9PYmplY3RfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwicmVtb3RlRW50cnlVbmlxdWVLZXkiLCJyZW1vdGVJbnNJZCIsInJlbW90ZUluc0luZGV4IiwiX19JTlNUQU5DRVNfXyIsImlucyIsInJlbW90ZUlucyIsImlzQWxsU2hhcmVkTm90VXNlZCIsIm5lZWREZWxldGVLZXlzIiwiaW5zdElkIiwic2hhcmVTY29wZVZhbCIsInNoYXJlZFBrZ3MiLCJzaGFyZVZlcnNpb24iLCJ1c2VkSG9zdE5hbWUiLCJpbnNJZCIsIl9nbG9iYWxTaGFyZVNjb3BlTWFwX2luc0lkX3NoYXJlU2NvcGVfc2hhcmVOYW1lIiwiX2dsb2JhbFNoYXJlU2NvcGVNYXBfaW5zSWRfc2hhcmVTY29wZSIsIl9nbG9iYWxTaGFyZVNjb3BlTWFwX2luc0lkIiwicmVtb3RlS2V5IiwibG9nIiwiYWZ0ZXJQcmVsb2FkUmVtb3RlIiwiRmVkZXJhdGlvbkhvc3QiLCJpbml0T3B0aW9ucyIsImZvcm1hdE9wdGlvbnMiLCJpbml0UmF3Q29udGFpbmVyIiwiY29udGFpbmVyIiwidXNlck9wdGlvbnNSZXMiLCJnbG9iYWxPcHRpb25zUmVzIiwiYmVmb3JlSW5pdCIsImhhbmRsZWRTaGFyZWQiLCJvcHRpb25zUmVzIiwicGx1Z2luUmVzIiwiZ2V0TW9kdWxlSW5mbyIsImRlZmF1bHRPcHRpb25zIiwiRmVkZXJhdGlvbkluc3RhbmNlIiwiaW5zdGFuY2UiLCJGZWRlcmF0aW9uQ29uc3RydWN0b3IiLCJsb2FkUmVtb3RlMSIsImxvYWRTaGFyZTEiLCJsb2FkU2hhcmVTeW5jMSIsImdldEluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../packages/runtime/dist/index.esm.js\n");

/***/ }),

/***/ "../../packages/runtime/dist/polyfills.esm.js":
/*!****************************************************!*\
  !*** ../../packages/runtime/dist/polyfills.esm.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ _extends),\n/* harmony export */   a: () => (/* binding */ _object_without_properties_loose)\n/* harmony export */ });\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvcnVudGltZS9kaXN0L3BvbHlmaWxscy5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQTtJQUNMQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0EsT0FBT0MsTUFBTTtRQUM5QyxJQUFJLElBQUlDLElBQUksR0FBR0EsSUFBSUMsVUFBVUMsTUFBTSxFQUFFRixJQUFJO1lBQ3JDLElBQUlHLFNBQVNGLFNBQVMsQ0FBQ0QsRUFBRTtZQUN6QixJQUFJLElBQUlJLE9BQU9ELE9BQU8sSUFBSU4sT0FBT1EsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0osUUFBUUMsTUFBTUwsTUFBTSxDQUFDSyxJQUFJLEdBQUdELE1BQU0sQ0FBQ0MsSUFBSTtRQUMxRztRQUNBLE9BQU9MO0lBQ1g7SUFDQSxPQUFPSCxTQUFTWSxLQUFLLENBQUMsSUFBSSxFQUFFUDtBQUNoQztBQUVBLFNBQVNRLGlDQUFpQ04sTUFBTSxFQUFFTyxRQUFRO0lBQ3RELElBQUlQLFVBQVUsTUFBTSxPQUFPLENBQUM7SUFDNUIsSUFBSUosU0FBUyxDQUFDO0lBQ2QsSUFBSVksYUFBYWQsT0FBT2UsSUFBSSxDQUFDVDtJQUM3QixJQUFJQyxLQUFLSjtJQUNULElBQUlBLElBQUksR0FBR0EsSUFBSVcsV0FBV1QsTUFBTSxFQUFFRixJQUFJO1FBQ2xDSSxNQUFNTyxVQUFVLENBQUNYLEVBQUU7UUFDbkIsSUFBSVUsU0FBU0csT0FBTyxDQUFDVCxRQUFRLEdBQUc7UUFDaENMLE1BQU0sQ0FBQ0ssSUFBSSxHQUFHRCxNQUFNLENBQUNDLElBQUk7SUFDN0I7SUFDQSxPQUFPTDtBQUNYO0FBRWdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vLi4vcGFja2FnZXMvcnVudGltZS9kaXN0L3BvbHlmaWxscy5lc20uanM/NDFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICBmb3IodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBzb3VyY2UpaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllc19sb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuICAgIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICB2YXIga2V5LCBpO1xuICAgIGZvcihpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspe1xuICAgICAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5leHBvcnQgeyBfZXh0ZW5kcyBhcyBfLCBfb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllc19sb29zZSBhcyBhIH07XG4iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllc19sb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImtleXMiLCJpbmRleE9mIiwiXyIsImEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../packages/runtime/dist/polyfills.esm.js\n");

/***/ }),

/***/ "../../packages/runtime/dist/share.esm.js":
/*!************************************************!*\
  !*** ../../packages/runtime/dist/share.esm.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ getBuilderId),\n/* harmony export */   B: () => (/* binding */ setGlobalFederationConstructor),\n/* harmony export */   C: () => (/* binding */ getGlobalFederationInstance),\n/* harmony export */   D: () => (/* binding */ DEFAULT_REMOTE_TYPE),\n/* harmony export */   E: () => (/* binding */ getGlobalFederationConstructor),\n/* harmony export */   F: () => (/* binding */ setGlobalFederationInstance),\n/* harmony export */   G: () => (/* binding */ Global),\n/* harmony export */   H: () => (/* binding */ registerGlobalPlugins),\n/* harmony export */   I: () => (/* binding */ nativeGlobal),\n/* harmony export */   J: () => (/* binding */ resetFederationGlobalInfo),\n/* harmony export */   K: () => (/* binding */ getTargetSnapshotInfoByModuleInfo),\n/* harmony export */   a: () => (/* binding */ globalLoading),\n/* harmony export */   b: () => (/* binding */ DEFAULT_SCOPE),\n/* harmony export */   c: () => (/* binding */ getRemoteEntryExports),\n/* harmony export */   d: () => (/* binding */ assert),\n/* harmony export */   e: () => (/* binding */ getFMId),\n/* harmony export */   f: () => (/* binding */ error),\n/* harmony export */   g: () => (/* binding */ getGlobalHostPlugins),\n/* harmony export */   h: () => (/* binding */ isPlainObject),\n/* harmony export */   i: () => (/* binding */ isObject),\n/* harmony export */   j: () => (/* binding */ isRemoteInfoWithEntry),\n/* harmony export */   k: () => (/* binding */ isPureRemoteEntry),\n/* harmony export */   l: () => (/* binding */ getRemoteEntryInfoFromSnapshot),\n/* harmony export */   m: () => (/* binding */ getInfoWithoutType),\n/* harmony export */   n: () => (/* binding */ getPreloaded),\n/* harmony export */   o: () => (/* binding */ getRegisteredShare),\n/* harmony export */   p: () => (/* binding */ arrayOptions),\n/* harmony export */   q: () => (/* binding */ getGlobalSnapshotInfoByModuleInfo),\n/* harmony export */   r: () => (/* binding */ addGlobalSnapshot),\n/* harmony export */   s: () => (/* binding */ setPreloaded),\n/* harmony export */   t: () => (/* binding */ setGlobalSnapshotInfoByModuleInfo),\n/* harmony export */   u: () => (/* binding */ getGlobalSnapshot),\n/* harmony export */   v: () => (/* binding */ formatShareConfigs),\n/* harmony export */   w: () => (/* binding */ warn),\n/* harmony export */   x: () => (/* binding */ getTargetSharedOptions),\n/* harmony export */   y: () => (/* binding */ getGlobalShareScope),\n/* harmony export */   z: () => (/* binding */ addUniqueItem)\n/* harmony export */ });\n/* harmony import */ var _polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills.esm.js */ \"../../packages/runtime/dist/polyfills.esm.js\");\n/* harmony import */ var _module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @module-federation/sdk */ \"../../packages/sdk/dist/index.esm.js\");\n\n\nfunction getBuilderId() {\n    //@ts-ignore\n    return  true ? \"checkout:1.0.0\" : 0;\n}\nconst LOG_CATEGORY = \"[ Federation Runtime ]\";\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction assert(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n}\nfunction error(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        throw msg;\n    }\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n}\nfunction warn(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        console.warn(msg);\n    } else {\n        console.warn(`${LOG_CATEGORY}: ${msg}`);\n    }\n}\nfunction addUniqueItem(arr, item) {\n    if (arr.findIndex((name)=>name === item) === -1) {\n        arr.push(item);\n    }\n    return arr;\n}\nfunction getFMId(remoteInfo) {\n    if (\"version\" in remoteInfo && remoteInfo.version) {\n        return `${remoteInfo.name}:${remoteInfo.version}`;\n    } else if (\"entry\" in remoteInfo && remoteInfo.entry) {\n        return `${remoteInfo.name}:${remoteInfo.entry}`;\n    } else {\n        return `${remoteInfo.name}`;\n    }\n}\nfunction isRemoteInfoWithEntry(remote) {\n    return typeof remote.entry !== \"undefined\";\n}\nfunction isPureRemoteEntry(remote) {\n    return !remote.entry.includes(\".json\") && remote.entry.includes(\".js\");\n}\nfunction isObject(val) {\n    return val && typeof val === \"object\";\n}\nconst objectToString = Object.prototype.toString;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(val) {\n    return objectToString.call(val) === \"[object Object]\";\n}\nfunction arrayOptions(options) {\n    return Array.isArray(options) ? options : [\n        options\n    ];\n}\nfunction getRemoteEntryInfoFromSnapshot(snapshot) {\n    const defaultRemoteEntryInfo = {\n        url: \"\",\n        type: \"global\",\n        globalName: \"\"\n    };\n    if ((0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isBrowserEnv)()) {\n        return \"remoteEntry\" in snapshot ? {\n            url: snapshot.remoteEntry,\n            type: snapshot.remoteEntryType,\n            globalName: snapshot.globalName\n        } : defaultRemoteEntryInfo;\n    }\n    if (\"ssrRemoteEntry\" in snapshot) {\n        return {\n            url: snapshot.ssrRemoteEntry || defaultRemoteEntryInfo.url,\n            type: snapshot.ssrRemoteEntryType || defaultRemoteEntryInfo.type,\n            globalName: snapshot.globalName\n        };\n    }\n    return defaultRemoteEntryInfo;\n}\nconst nativeGlobal = (()=>{\n    try {\n        return new Function(\"return this\")();\n    } catch (e) {\n        return globalThis;\n    }\n})();\nconst Global = nativeGlobal;\nfunction definePropertyGlobalVal(target, key, val) {\n    Object.defineProperty(target, key, {\n        value: val,\n        configurable: false,\n        writable: true\n    });\n}\nfunction includeOwnProperty(target, key) {\n    return Object.hasOwnProperty.call(target, key);\n}\n// This section is to prevent encapsulation by certain microfrontend frameworks. Due to reuse policies, sandbox escapes.\n// The sandbox in the microfrontend does not replicate the value of 'configurable'.\n// If there is no loading content on the global object, this section defines the loading object.\nif (!includeOwnProperty(globalThis, \"__GLOBAL_LOADING_REMOTE_ENTRY__\")) {\n    definePropertyGlobalVal(globalThis, \"__GLOBAL_LOADING_REMOTE_ENTRY__\", {});\n}\nconst globalLoading = globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;\nfunction setGlobalDefaultVal(target) {\n    var _target___FEDERATION__, _target___FEDERATION__1, _target___FEDERATION__2, _target___FEDERATION__3, _target___FEDERATION__4, _target___FEDERATION__5;\n    if (includeOwnProperty(target, \"__VMOK__\") && !includeOwnProperty(target, \"__FEDERATION__\")) {\n        definePropertyGlobalVal(target, \"__FEDERATION__\", target.__VMOK__);\n    }\n    if (!includeOwnProperty(target, \"__FEDERATION__\")) {\n        definePropertyGlobalVal(target, \"__FEDERATION__\", {\n            __GLOBAL_PLUGIN__: [],\n            __INSTANCES__: [],\n            moduleInfo: {},\n            __SHARE__: {},\n            __MANIFEST_LOADING__: {},\n            __PRELOADED_MAP__: new Map()\n        });\n        definePropertyGlobalVal(target, \"__VMOK__\", target.__FEDERATION__);\n    }\n    var ___GLOBAL_PLUGIN__;\n    (___GLOBAL_PLUGIN__ = (_target___FEDERATION__ = target.__FEDERATION__).__GLOBAL_PLUGIN__) != null ? ___GLOBAL_PLUGIN__ : _target___FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    var ___INSTANCES__;\n    (___INSTANCES__ = (_target___FEDERATION__1 = target.__FEDERATION__).__INSTANCES__) != null ? ___INSTANCES__ : _target___FEDERATION__1.__INSTANCES__ = [];\n    var _moduleInfo;\n    (_moduleInfo = (_target___FEDERATION__2 = target.__FEDERATION__).moduleInfo) != null ? _moduleInfo : _target___FEDERATION__2.moduleInfo = {};\n    var ___SHARE__;\n    (___SHARE__ = (_target___FEDERATION__3 = target.__FEDERATION__).__SHARE__) != null ? ___SHARE__ : _target___FEDERATION__3.__SHARE__ = {};\n    var ___MANIFEST_LOADING__;\n    (___MANIFEST_LOADING__ = (_target___FEDERATION__4 = target.__FEDERATION__).__MANIFEST_LOADING__) != null ? ___MANIFEST_LOADING__ : _target___FEDERATION__4.__MANIFEST_LOADING__ = {};\n    var ___PRELOADED_MAP__;\n    (___PRELOADED_MAP__ = (_target___FEDERATION__5 = target.__FEDERATION__).__PRELOADED_MAP__) != null ? ___PRELOADED_MAP__ : _target___FEDERATION__5.__PRELOADED_MAP__ = new Map();\n}\nsetGlobalDefaultVal(globalThis);\nsetGlobalDefaultVal(nativeGlobal);\nfunction resetFederationGlobalInfo() {\n    globalThis.__FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    globalThis.__FEDERATION__.__INSTANCES__ = [];\n    globalThis.__FEDERATION__.moduleInfo = {};\n    globalThis.__FEDERATION__.__SHARE__ = {};\n    globalThis.__FEDERATION__.__MANIFEST_LOADING__ = {};\n}\nfunction getGlobalFederationInstance(name, version) {\n    const buildId = getBuilderId();\n    return globalThis.__FEDERATION__.__INSTANCES__.find((GMInstance)=>{\n        if (buildId && GMInstance.options.id === getBuilderId()) {\n            return true;\n        }\n        if (GMInstance.options.name === name && !GMInstance.options.version && !version) {\n            return true;\n        }\n        if (GMInstance.options.name === name && version && GMInstance.options.version === version) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction setGlobalFederationInstance(FederationInstance) {\n    globalThis.__FEDERATION__.__INSTANCES__.push(FederationInstance);\n}\nfunction getGlobalFederationConstructor() {\n    return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__;\n}\nfunction setGlobalFederationConstructor(FederationConstructor, isDebug = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_1__.isDebugMode)()) {\n    if (isDebug) {\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__ = FederationConstructor;\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__ = \"0.6.0\";\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getInfoWithoutType(target, key) {\n    if (typeof key === \"string\") {\n        const keyRes = target[key];\n        if (keyRes) {\n            return {\n                value: target[key],\n                key: key\n            };\n        } else {\n            const targetKeys = Object.keys(target);\n            for (const targetKey of targetKeys){\n                const [targetTypeOrName, _] = targetKey.split(\":\");\n                const nKey = `${targetTypeOrName}:${key}`;\n                const typeWithKeyRes = target[nKey];\n                if (typeWithKeyRes) {\n                    return {\n                        value: typeWithKeyRes,\n                        key: nKey\n                    };\n                }\n            }\n            return {\n                value: undefined,\n                key: key\n            };\n        }\n    } else {\n        throw new Error(\"key must be string\");\n    }\n}\nconst getGlobalSnapshot = ()=>nativeGlobal.__FEDERATION__.moduleInfo;\nconst getTargetSnapshotInfoByModuleInfo = (moduleInfo, snapshot)=>{\n    // Check if the remote is included in the hostSnapshot\n    const moduleKey = getFMId(moduleInfo);\n    const getModuleInfo = getInfoWithoutType(snapshot, moduleKey).value;\n    // The remoteSnapshot might not include a version\n    if (getModuleInfo && !getModuleInfo.version && \"version\" in moduleInfo && moduleInfo[\"version\"]) {\n        getModuleInfo.version = moduleInfo[\"version\"];\n    }\n    if (getModuleInfo) {\n        return getModuleInfo;\n    }\n    // If the remote is not included in the hostSnapshot, deploy a micro app snapshot\n    if (\"version\" in moduleInfo && moduleInfo[\"version\"]) {\n        const { version } = moduleInfo, resModuleInfo = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(moduleInfo, [\n            \"version\"\n        ]);\n        const moduleKeyWithoutVersion = getFMId(resModuleInfo);\n        const getModuleInfoWithoutVersion = getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo, moduleKeyWithoutVersion).value;\n        if ((getModuleInfoWithoutVersion == null ? void 0 : getModuleInfoWithoutVersion.version) === version) {\n            return getModuleInfoWithoutVersion;\n        }\n    }\n    return;\n};\nconst getGlobalSnapshotInfoByModuleInfo = (moduleInfo)=>getTargetSnapshotInfoByModuleInfo(moduleInfo, nativeGlobal.__FEDERATION__.moduleInfo);\nconst setGlobalSnapshotInfoByModuleInfo = (remoteInfo, moduleDetailInfo)=>{\n    const moduleKey = getFMId(remoteInfo);\n    nativeGlobal.__FEDERATION__.moduleInfo[moduleKey] = moduleDetailInfo;\n    return nativeGlobal.__FEDERATION__.moduleInfo;\n};\nconst addGlobalSnapshot = (moduleInfos)=>{\n    nativeGlobal.__FEDERATION__.moduleInfo = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, nativeGlobal.__FEDERATION__.moduleInfo, moduleInfos);\n    return ()=>{\n        const keys = Object.keys(moduleInfos);\n        for (const key of keys){\n            delete nativeGlobal.__FEDERATION__.moduleInfo[key];\n        }\n    };\n};\nconst getRemoteEntryExports = (name, globalName)=>{\n    const remoteEntryKey = globalName || `__FEDERATION_${name}:custom__`;\n    const entryExports = globalThis[remoteEntryKey];\n    return {\n        remoteEntryKey,\n        entryExports\n    };\n};\n// This function is used to register global plugins.\n// It iterates over the provided plugins and checks if they are already registered.\n// If a plugin is not registered, it is added to the global plugins.\n// If a plugin is already registered, a warning message is logged.\nconst registerGlobalPlugins = (plugins)=>{\n    const { __GLOBAL_PLUGIN__ } = nativeGlobal.__FEDERATION__;\n    plugins.forEach((plugin)=>{\n        if (__GLOBAL_PLUGIN__.findIndex((p)=>p.name === plugin.name) === -1) {\n            __GLOBAL_PLUGIN__.push(plugin);\n        } else {\n            warn(`The plugin ${plugin.name} has been registered.`);\n        }\n    });\n};\nconst getGlobalHostPlugins = ()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__;\nconst getPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(id);\nconst setPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(id, true);\nconst DEFAULT_SCOPE = \"default\";\nconst DEFAULT_REMOTE_TYPE = \"global\";\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// those constants are based on https://www.rubydoc.info/gems/semantic_range/3.0.0/SemanticRange#BUILDIDENTIFIER-constant\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nconst buildIdentifier = \"[0-9A-Za-z-]+\";\nconst build = `(?:\\\\+(${buildIdentifier}(?:\\\\.${buildIdentifier})*))`;\nconst numericIdentifier = \"0|[1-9]\\\\d*\";\nconst numericIdentifierLoose = \"[0-9]+\";\nconst nonNumericIdentifier = \"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";\nconst preReleaseIdentifierLoose = `(?:${numericIdentifierLoose}|${nonNumericIdentifier})`;\nconst preReleaseLoose = `(?:-?(${preReleaseIdentifierLoose}(?:\\\\.${preReleaseIdentifierLoose})*))`;\nconst preReleaseIdentifier = `(?:${numericIdentifier}|${nonNumericIdentifier})`;\nconst preRelease = `(?:-(${preReleaseIdentifier}(?:\\\\.${preReleaseIdentifier})*))`;\nconst xRangeIdentifier = `${numericIdentifier}|x|X|\\\\*`;\nconst xRangePlain = `[v=\\\\s]*(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`;\nconst hyphenRange = `^\\\\s*(${xRangePlain})\\\\s+-\\\\s+(${xRangePlain})\\\\s*$`;\nconst mainVersionLoose = `(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})`;\nconst loosePlain = `[v=\\\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`;\nconst gtlt = \"((?:<|>)?=?)\";\nconst comparatorTrim = `(\\\\s*)${gtlt}\\\\s*(${loosePlain}|${xRangePlain})`;\nconst loneTilde = \"(?:~>?)\";\nconst tildeTrim = `(\\\\s*)${loneTilde}\\\\s+`;\nconst loneCaret = \"(?:\\\\^)\";\nconst caretTrim = `(\\\\s*)${loneCaret}\\\\s+`;\nconst star = \"(<|>)?=?\\\\s*\\\\*\";\nconst caret = `^${loneCaret}${xRangePlain}$`;\nconst mainVersion = `(${numericIdentifier})\\\\.(${numericIdentifier})\\\\.(${numericIdentifier})`;\nconst fullPlain = `v?${mainVersion}${preRelease}?${build}?`;\nconst tilde = `^${loneTilde}${xRangePlain}$`;\nconst xRange = `^${gtlt}\\\\s*${xRangePlain}$`;\nconst comparator = `^${gtlt}\\\\s*(${fullPlain})$|^$`;\n// copy from semver package\nconst gte0 = \"^\\\\s*>=\\\\s*0.0.0\\\\s*$\";\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseRegex(source) {\n    return new RegExp(source);\n}\nfunction isXVersion(version) {\n    return !version || version.toLowerCase() === \"x\" || version === \"*\";\n}\nfunction pipe(...fns) {\n    return (x)=>fns.reduce((v, f)=>f(v), x);\n}\nfunction extractComparator(comparatorString) {\n    return comparatorString.match(parseRegex(comparator));\n}\nfunction combineVersion(major, minor, patch, preRelease) {\n    const mainVersion = `${major}.${minor}.${patch}`;\n    if (preRelease) {\n        return `${mainVersion}-${preRelease}`;\n    }\n    return mainVersion;\n}\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseHyphen(range) {\n    return range.replace(parseRegex(hyphenRange), (_range, from, fromMajor, fromMinor, fromPatch, _fromPreRelease, _fromBuild, to, toMajor, toMinor, toPatch, toPreRelease)=>{\n        if (isXVersion(fromMajor)) {\n            from = \"\";\n        } else if (isXVersion(fromMinor)) {\n            from = `>=${fromMajor}.0.0`;\n        } else if (isXVersion(fromPatch)) {\n            from = `>=${fromMajor}.${fromMinor}.0`;\n        } else {\n            from = `>=${from}`;\n        }\n        if (isXVersion(toMajor)) {\n            to = \"\";\n        } else if (isXVersion(toMinor)) {\n            to = `<${Number(toMajor) + 1}.0.0-0`;\n        } else if (isXVersion(toPatch)) {\n            to = `<${toMajor}.${Number(toMinor) + 1}.0-0`;\n        } else if (toPreRelease) {\n            to = `<=${toMajor}.${toMinor}.${toPatch}-${toPreRelease}`;\n        } else {\n            to = `<=${to}`;\n        }\n        return `${from} ${to}`.trim();\n    });\n}\nfunction parseComparatorTrim(range) {\n    return range.replace(parseRegex(comparatorTrim), \"$1$2$3\");\n}\nfunction parseTildeTrim(range) {\n    return range.replace(parseRegex(tildeTrim), \"$1~\");\n}\nfunction parseCaretTrim(range) {\n    return range.replace(parseRegex(caretTrim), \"$1^\");\n}\nfunction parseCarets(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(caret), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return \"\";\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                if (major === \"0\") {\n                    return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n                } else {\n                    return `>=${major}.${minor}.0 <${Number(major) + 1}.0.0-0`;\n                }\n            } else if (preRelease) {\n                if (major === \"0\") {\n                    if (minor === \"0\") {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                } else {\n                    return `>=${major}.${minor}.${patch}-${preRelease} <${Number(major) + 1}.0.0-0`;\n                }\n            } else {\n                if (major === \"0\") {\n                    if (minor === \"0\") {\n                        return `>=${major}.${minor}.${patch} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                }\n                return `>=${major}.${minor}.${patch} <${Number(major) + 1}.0.0-0`;\n            }\n        })).join(\" \");\n}\nfunction parseTildes(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(tilde), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return \"\";\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n            } else if (preRelease) {\n                return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n        })).join(\" \");\n}\nfunction parseXRanges(range) {\n    return range.split(/\\s+/).map((rangeVersion)=>rangeVersion.trim().replace(parseRegex(xRange), (ret, gtlt, major, minor, patch, preRelease)=>{\n            const isXMajor = isXVersion(major);\n            const isXMinor = isXMajor || isXVersion(minor);\n            const isXPatch = isXMinor || isXVersion(patch);\n            if (gtlt === \"=\" && isXPatch) {\n                gtlt = \"\";\n            }\n            preRelease = \"\";\n            if (isXMajor) {\n                if (gtlt === \">\" || gtlt === \"<\") {\n                    // nothing is allowed\n                    return \"<0.0.0-0\";\n                } else {\n                    // nothing is forbidden\n                    return \"*\";\n                }\n            } else if (gtlt && isXPatch) {\n                // replace X with 0\n                if (isXMinor) {\n                    minor = 0;\n                }\n                patch = 0;\n                if (gtlt === \">\") {\n                    // >1 => >=2.0.0\n                    // >1.2 => >=1.3.0\n                    gtlt = \">=\";\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                        minor = 0;\n                        patch = 0;\n                    } else {\n                        minor = Number(minor) + 1;\n                        patch = 0;\n                    }\n                } else if (gtlt === \"<=\") {\n                    // <=0.7.x is actually <0.8.0, since any 0.7.x should pass\n                    // Similarly, <=7.x is actually <8.0.0, etc.\n                    gtlt = \"<\";\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                    } else {\n                        minor = Number(minor) + 1;\n                    }\n                }\n                if (gtlt === \"<\") {\n                    preRelease = \"-0\";\n                }\n                return `${gtlt + major}.${minor}.${patch}${preRelease}`;\n            } else if (isXMinor) {\n                return `>=${major}.0.0${preRelease} <${Number(major) + 1}.0.0-0`;\n            } else if (isXPatch) {\n                return `>=${major}.${minor}.0${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return ret;\n        })).join(\" \");\n}\nfunction parseStar(range) {\n    return range.trim().replace(parseRegex(star), \"\");\n}\nfunction parseGTE0(comparatorString) {\n    return comparatorString.trim().replace(parseRegex(gte0), \"\");\n}\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction compareAtom(rangeAtom, versionAtom) {\n    rangeAtom = Number(rangeAtom) || rangeAtom;\n    versionAtom = Number(versionAtom) || versionAtom;\n    if (rangeAtom > versionAtom) {\n        return 1;\n    }\n    if (rangeAtom === versionAtom) {\n        return 0;\n    }\n    return -1;\n}\nfunction comparePreRelease(rangeAtom, versionAtom) {\n    const { preRelease: rangePreRelease } = rangeAtom;\n    const { preRelease: versionPreRelease } = versionAtom;\n    if (rangePreRelease === undefined && Boolean(versionPreRelease)) {\n        return 1;\n    }\n    if (Boolean(rangePreRelease) && versionPreRelease === undefined) {\n        return -1;\n    }\n    if (rangePreRelease === undefined && versionPreRelease === undefined) {\n        return 0;\n    }\n    for(let i = 0, n = rangePreRelease.length; i <= n; i++){\n        const rangeElement = rangePreRelease[i];\n        const versionElement = versionPreRelease[i];\n        if (rangeElement === versionElement) {\n            continue;\n        }\n        if (rangeElement === undefined && versionElement === undefined) {\n            return 0;\n        }\n        if (!rangeElement) {\n            return 1;\n        }\n        if (!versionElement) {\n            return -1;\n        }\n        return compareAtom(rangeElement, versionElement);\n    }\n    return 0;\n}\nfunction compareVersion(rangeAtom, versionAtom) {\n    return compareAtom(rangeAtom.major, versionAtom.major) || compareAtom(rangeAtom.minor, versionAtom.minor) || compareAtom(rangeAtom.patch, versionAtom.patch) || comparePreRelease(rangeAtom, versionAtom);\n}\nfunction eq(rangeAtom, versionAtom) {\n    return rangeAtom.version === versionAtom.version;\n}\nfunction compare(rangeAtom, versionAtom) {\n    switch(rangeAtom.operator){\n        case \"\":\n        case \"=\":\n            return eq(rangeAtom, versionAtom);\n        case \">\":\n            return compareVersion(rangeAtom, versionAtom) < 0;\n        case \">=\":\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) < 0;\n        case \"<\":\n            return compareVersion(rangeAtom, versionAtom) > 0;\n        case \"<=\":\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) > 0;\n        case undefined:\n            {\n                // mean * or x -> all versions\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\nfunction parseComparatorString(range) {\n    return pipe(// ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n    // ^1.2.3 --> >=1.2.3 <2.0.0-0\n    // ^1.2.0 --> >=1.2.0 <2.0.0-0\n    parseCarets, // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n    parseTildes, parseXRanges, parseStar)(range);\n}\nfunction parseRange(range) {\n    return pipe(// `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    parseHyphen, // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    parseComparatorTrim, // `~ 1.2.3` => `~1.2.3`\n    parseTildeTrim, // `^ 1.2.3` => `^1.2.3`\n    parseCaretTrim)(range.trim()).split(/\\s+/).join(\" \");\n}\nfunction satisfy(version, range) {\n    if (!version) {\n        return false;\n    }\n    const parsedRange = parseRange(range);\n    const parsedComparator = parsedRange.split(\" \").map((rangeVersion)=>parseComparatorString(rangeVersion)).join(\" \");\n    const comparators = parsedComparator.split(/\\s+/).map((comparator)=>parseGTE0(comparator));\n    const extractedVersion = extractComparator(version);\n    if (!extractedVersion) {\n        return false;\n    }\n    const [, versionOperator, , versionMajor, versionMinor, versionPatch, versionPreRelease] = extractedVersion;\n    const versionAtom = {\n        operator: versionOperator,\n        version: combineVersion(versionMajor, versionMinor, versionPatch, versionPreRelease),\n        major: versionMajor,\n        minor: versionMinor,\n        patch: versionPatch,\n        preRelease: versionPreRelease == null ? void 0 : versionPreRelease.split(\".\")\n    };\n    for (const comparator of comparators){\n        const extractedComparator = extractComparator(comparator);\n        if (!extractedComparator) {\n            return false;\n        }\n        const [, rangeOperator, , rangeMajor, rangeMinor, rangePatch, rangePreRelease] = extractedComparator;\n        const rangeAtom = {\n            operator: rangeOperator,\n            version: combineVersion(rangeMajor, rangeMinor, rangePatch, rangePreRelease),\n            major: rangeMajor,\n            minor: rangeMinor,\n            patch: rangePatch,\n            preRelease: rangePreRelease == null ? void 0 : rangePreRelease.split(\".\")\n        };\n        if (!compare(rangeAtom, versionAtom)) {\n            return false; // early return\n        }\n    }\n    return true;\n}\nfunction formatShare(shareArgs, from, name, shareStrategy) {\n    let get;\n    if (\"get\" in shareArgs) {\n        // eslint-disable-next-line prefer-destructuring\n        get = shareArgs.get;\n    } else if (\"lib\" in shareArgs) {\n        get = ()=>Promise.resolve(shareArgs.lib);\n    } else {\n        get = ()=>Promise.resolve(()=>{\n                throw new Error(`Can not get shared '${name}'!`);\n            });\n    }\n    if (shareArgs.strategy) {\n        warn(`\"shared.strategy is deprecated, please set in initOptions.shareStrategy instead!\"`);\n    }\n    var _shareArgs_version, _shareArgs_scope, _shareArgs_strategy;\n    return (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n        deps: [],\n        useIn: [],\n        from,\n        loading: null\n    }, shareArgs, {\n        shareConfig: (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n            requiredVersion: `^${shareArgs.version}`,\n            singleton: false,\n            eager: false,\n            strictVersion: false\n        }, shareArgs.shareConfig),\n        get,\n        loaded: (shareArgs == null ? void 0 : shareArgs.loaded) || \"lib\" in shareArgs ? true : undefined,\n        version: (_shareArgs_version = shareArgs.version) != null ? _shareArgs_version : \"0\",\n        scope: Array.isArray(shareArgs.scope) ? shareArgs.scope : [\n            (_shareArgs_scope = shareArgs.scope) != null ? _shareArgs_scope : \"default\"\n        ],\n        strategy: ((_shareArgs_strategy = shareArgs.strategy) != null ? _shareArgs_strategy : shareStrategy) || \"version-first\"\n    });\n}\nfunction formatShareConfigs(globalOptions, userOptions) {\n    const shareArgs = userOptions.shared || {};\n    const from = userOptions.name;\n    const shareInfos = Object.keys(shareArgs).reduce((res, pkgName)=>{\n        const arrayShareArgs = arrayOptions(shareArgs[pkgName]);\n        res[pkgName] = res[pkgName] || [];\n        arrayShareArgs.forEach((shareConfig)=>{\n            res[pkgName].push(formatShare(shareConfig, from, pkgName, userOptions.shareStrategy));\n        });\n        return res;\n    }, {});\n    const shared = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, globalOptions.shared);\n    Object.keys(shareInfos).forEach((shareKey)=>{\n        if (!shared[shareKey]) {\n            shared[shareKey] = shareInfos[shareKey];\n        } else {\n            shareInfos[shareKey].forEach((newUserSharedOptions)=>{\n                const isSameVersion = shared[shareKey].find((sharedVal)=>sharedVal.version === newUserSharedOptions.version);\n                if (!isSameVersion) {\n                    shared[shareKey].push(newUserSharedOptions);\n                }\n            });\n        }\n    });\n    return {\n        shared,\n        shareInfos\n    };\n}\nfunction versionLt(a, b) {\n    const transformInvalidVersion = (version)=>{\n        const isNumberVersion = !Number.isNaN(Number(version));\n        if (isNumberVersion) {\n            const splitArr = version.split(\".\");\n            let validVersion = version;\n            for(let i = 0; i < 3 - splitArr.length; i++){\n                validVersion += \".0\";\n            }\n            return validVersion;\n        }\n        return version;\n    };\n    if (satisfy(transformInvalidVersion(a), `<=${transformInvalidVersion(b)}`)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nconst findVersion = (shareVersionMap, cb)=>{\n    const callback = cb || function(prev, cur) {\n        return versionLt(prev, cur);\n    };\n    return Object.keys(shareVersionMap).reduce((prev, cur)=>{\n        if (!prev) {\n            return cur;\n        }\n        if (callback(prev, cur)) {\n            return cur;\n        }\n        // default version is '0' https://github.com/webpack/webpack/blob/main/lib/sharing/ProvideSharedModule.js#L136\n        if (prev === \"0\") {\n            return cur;\n        }\n        return prev;\n    }, 0);\n};\nconst isLoaded = (shared)=>{\n    return Boolean(shared.loaded) || typeof shared.lib === \"function\";\n};\nfunction findSingletonVersionOrderByVersion(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        return !isLoaded(versions[prev]) && versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction findSingletonVersionOrderByLoaded(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        if (isLoaded(versions[cur])) {\n            if (isLoaded(versions[prev])) {\n                return Boolean(versionLt(prev, cur));\n            } else {\n                return true;\n            }\n        }\n        if (isLoaded(versions[prev])) {\n            return false;\n        }\n        return versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction getFindShareFunction(strategy) {\n    if (strategy === \"loaded-first\") {\n        return findSingletonVersionOrderByLoaded;\n    }\n    return findSingletonVersionOrderByVersion;\n}\nfunction getRegisteredShare(localShareScopeMap, pkgName, shareInfo, resolveShare) {\n    if (!localShareScopeMap) {\n        return;\n    }\n    const { shareConfig, scope = DEFAULT_SCOPE, strategy } = shareInfo;\n    const scopes = Array.isArray(scope) ? scope : [\n        scope\n    ];\n    for (const sc of scopes){\n        if (shareConfig && localShareScopeMap[sc] && localShareScopeMap[sc][pkgName]) {\n            const { requiredVersion } = shareConfig;\n            const findShareFunction = getFindShareFunction(strategy);\n            const maxOrSingletonVersion = findShareFunction(localShareScopeMap, sc, pkgName);\n            //@ts-ignore\n            const defaultResolver = ()=>{\n                if (shareConfig.singleton) {\n                    if (typeof requiredVersion === \"string\" && !satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        const msg = `Version ${maxOrSingletonVersion} from ${maxOrSingletonVersion && localShareScopeMap[sc][pkgName][maxOrSingletonVersion].from} of shared singleton module ${pkgName} does not satisfy the requirement of ${shareInfo.from} which needs ${requiredVersion})`;\n                        if (shareConfig.strictVersion) {\n                            error(msg);\n                        } else {\n                            warn(msg);\n                        }\n                    }\n                    return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                } else {\n                    if (requiredVersion === false || requiredVersion === \"*\") {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    if (satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    for (const [versionKey, versionValue] of Object.entries(localShareScopeMap[sc][pkgName])){\n                        if (satisfy(versionKey, requiredVersion)) {\n                            return versionValue;\n                        }\n                    }\n                }\n            };\n            const params = {\n                shareScopeMap: localShareScopeMap,\n                scope: sc,\n                pkgName,\n                version: maxOrSingletonVersion,\n                GlobalFederation: Global.__FEDERATION__,\n                resolver: defaultResolver\n            };\n            const resolveShared = resolveShare.emit(params) || params;\n            return resolveShared.resolver();\n        }\n    }\n}\nfunction getGlobalShareScope() {\n    return Global.__FEDERATION__.__SHARE__;\n}\nfunction getTargetSharedOptions(options) {\n    const { pkgName, extraOptions, shareInfos } = options;\n    const defaultResolver = (sharedOptions)=>{\n        if (!sharedOptions) {\n            return undefined;\n        }\n        const shareVersionMap = {};\n        sharedOptions.forEach((shared)=>{\n            shareVersionMap[shared.version] = shared;\n        });\n        const callback = function(prev, cur) {\n            return !isLoaded(shareVersionMap[prev]) && versionLt(prev, cur);\n        };\n        const maxVersion = findVersion(shareVersionMap, callback);\n        return shareVersionMap[maxVersion];\n    };\n    var _extraOptions_resolver;\n    const resolver = (_extraOptions_resolver = extraOptions == null ? void 0 : extraOptions.resolver) != null ? _extraOptions_resolver : defaultResolver;\n    return Object.assign({}, resolver(shareInfos[pkgName]), extraOptions == null ? void 0 : extraOptions.customShareInfo);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvcnVudGltZS9kaXN0L3NoYXJlLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEY7QUFDdkI7QUFFbkUsU0FBU007SUFDTCxZQUFZO0lBQ1osT0FBTyxLQUF1QyxHQUFjQyxnQkFBMkJBLEdBQUc7QUFDOUY7QUFFQSxNQUFNQyxlQUFlO0FBQ3JCLDZFQUE2RTtBQUM3RSxTQUFTQyxPQUFPQyxTQUFTLEVBQUVDLEdBQUc7SUFDMUIsSUFBSSxDQUFDRCxXQUFXO1FBQ1pFLE1BQU1EO0lBQ1Y7QUFDSjtBQUNBLFNBQVNDLE1BQU1ELEdBQUc7SUFDZCxJQUFJQSxlQUFlRSxPQUFPO1FBQ3RCRixJQUFJRyxPQUFPLEdBQUcsQ0FBQyxFQUFFTixhQUFhLEVBQUUsRUFBRUcsSUFBSUcsT0FBTyxDQUFDLENBQUM7UUFDL0MsTUFBTUg7SUFDVjtJQUNBLE1BQU0sSUFBSUUsTUFBTSxDQUFDLEVBQUVMLGFBQWEsRUFBRSxFQUFFRyxJQUFJLENBQUM7QUFDN0M7QUFDQSxTQUFTSSxLQUFLSixHQUFHO0lBQ2IsSUFBSUEsZUFBZUUsT0FBTztRQUN0QkYsSUFBSUcsT0FBTyxHQUFHLENBQUMsRUFBRU4sYUFBYSxFQUFFLEVBQUVHLElBQUlHLE9BQU8sQ0FBQyxDQUFDO1FBQy9DRSxRQUFRRCxJQUFJLENBQUNKO0lBQ2pCLE9BQU87UUFDSEssUUFBUUQsSUFBSSxDQUFDLENBQUMsRUFBRVAsYUFBYSxFQUFFLEVBQUVHLElBQUksQ0FBQztJQUMxQztBQUNKO0FBRUEsU0FBU00sY0FBY0MsR0FBRyxFQUFFQyxJQUFJO0lBQzVCLElBQUlELElBQUlFLFNBQVMsQ0FBQyxDQUFDQyxPQUFPQSxTQUFTRixVQUFVLENBQUMsR0FBRztRQUM3Q0QsSUFBSUksSUFBSSxDQUFDSDtJQUNiO0lBQ0EsT0FBT0Q7QUFDWDtBQUNBLFNBQVNLLFFBQVFDLFVBQVU7SUFDdkIsSUFBSSxhQUFhQSxjQUFjQSxX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T1EseUJBQXlCZDtJQUNySSxPQUFPclIsT0FBT29TLE1BQU0sQ0FBQyxDQUFDLEdBQUdULFNBQVN6QyxVQUFVLENBQUNFLFFBQVEsR0FBRzRDLGdCQUFnQixPQUFPLEtBQUssSUFBSUEsYUFBYUssZUFBZTtBQUN4SDtBQUVxNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi8uLi9wYWNrYWdlcy9ydW50aW1lL2Rpc3Qvc2hhcmUuZXNtLmpzP2Y2M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYSBhcyBfb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllc19sb29zZSwgXyBhcyBfZXh0ZW5kcyB9IGZyb20gJy4vcG9seWZpbGxzLmVzbS5qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXJFbnYsIGlzRGVidWdNb2RlIH0gZnJvbSAnQG1vZHVsZS1mZWRlcmF0aW9uL3Nkayc7XG5cbmZ1bmN0aW9uIGdldEJ1aWxkZXJJZCgpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXR1cm4gdHlwZW9mIEZFREVSQVRJT05fQlVJTERfSURFTlRJRklFUiAhPT0gJ3VuZGVmaW5lZCcgPyBGRURFUkFUSU9OX0JVSUxEX0lERU5USUZJRVIgOiAnJztcbn1cblxuY29uc3QgTE9HX0NBVEVHT1JZID0gJ1sgRmVkZXJhdGlvbiBSdW50aW1lIF0nO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1zZykge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIGVycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgaWYgKG1zZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIG1zZy5tZXNzYWdlID0gYCR7TE9HX0NBVEVHT1JZfTogJHttc2cubWVzc2FnZX1gO1xuICAgICAgICB0aHJvdyBtc2c7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtMT0dfQ0FURUdPUll9OiAke21zZ31gKTtcbn1cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKG1zZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIG1zZy5tZXNzYWdlID0gYCR7TE9HX0NBVEVHT1JZfTogJHttc2cubWVzc2FnZX1gO1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYCR7TE9HX0NBVEVHT1JZfTogJHttc2d9YCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRVbmlxdWVJdGVtKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIuZmluZEluZGV4KChuYW1lKT0+bmFtZSA9PT0gaXRlbSkgPT09IC0xKSB7XG4gICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuZnVuY3Rpb24gZ2V0Rk1JZChyZW1vdGVJbmZvKSB7XG4gICAgaWYgKCd2ZXJzaW9uJyBpbiByZW1vdGVJbmZvICYmIHJlbW90ZUluZm8udmVyc2lvbikge1xuICAgICAgICByZXR1cm4gYCR7cmVtb3RlSW5mby5uYW1lfToke3JlbW90ZUluZm8udmVyc2lvbn1gO1xuICAgIH0gZWxzZSBpZiAoJ2VudHJ5JyBpbiByZW1vdGVJbmZvICYmIHJlbW90ZUluZm8uZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGAke3JlbW90ZUluZm8ubmFtZX06JHtyZW1vdGVJbmZvLmVudHJ5fWA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke3JlbW90ZUluZm8ubmFtZX1gO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUmVtb3RlSW5mb1dpdGhFbnRyeShyZW1vdGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlbW90ZS5lbnRyeSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc1B1cmVSZW1vdGVFbnRyeShyZW1vdGUpIHtcbiAgICByZXR1cm4gIXJlbW90ZS5lbnRyeS5pbmNsdWRlcygnLmpzb24nKSAmJiByZW1vdGUuZW50cnkuaW5jbHVkZXMoJy5qcycpO1xufVxuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gICAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbCkge1xuICAgIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuZnVuY3Rpb24gYXJyYXlPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvcHRpb25zKSA/IG9wdGlvbnMgOiBbXG4gICAgICAgIG9wdGlvbnNcbiAgICBdO1xufVxuZnVuY3Rpb24gZ2V0UmVtb3RlRW50cnlJbmZvRnJvbVNuYXBzaG90KHNuYXBzaG90KSB7XG4gICAgY29uc3QgZGVmYXVsdFJlbW90ZUVudHJ5SW5mbyA9IHtcbiAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgdHlwZTogJ2dsb2JhbCcsXG4gICAgICAgIGdsb2JhbE5hbWU6ICcnXG4gICAgfTtcbiAgICBpZiAoaXNCcm93c2VyRW52KCkpIHtcbiAgICAgICAgcmV0dXJuICdyZW1vdGVFbnRyeScgaW4gc25hcHNob3QgPyB7XG4gICAgICAgICAgICB1cmw6IHNuYXBzaG90LnJlbW90ZUVudHJ5LFxuICAgICAgICAgICAgdHlwZTogc25hcHNob3QucmVtb3RlRW50cnlUeXBlLFxuICAgICAgICAgICAgZ2xvYmFsTmFtZTogc25hcHNob3QuZ2xvYmFsTmFtZVxuICAgICAgICB9IDogZGVmYXVsdFJlbW90ZUVudHJ5SW5mbztcbiAgICB9XG4gICAgaWYgKCdzc3JSZW1vdGVFbnRyeScgaW4gc25hcHNob3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogc25hcHNob3Quc3NyUmVtb3RlRW50cnkgfHwgZGVmYXVsdFJlbW90ZUVudHJ5SW5mby51cmwsXG4gICAgICAgICAgICB0eXBlOiBzbmFwc2hvdC5zc3JSZW1vdGVFbnRyeVR5cGUgfHwgZGVmYXVsdFJlbW90ZUVudHJ5SW5mby50eXBlLFxuICAgICAgICAgICAgZ2xvYmFsTmFtZTogc25hcHNob3QuZ2xvYmFsTmFtZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJlbW90ZUVudHJ5SW5mbztcbn1cblxuY29uc3QgbmF0aXZlR2xvYmFsID0gKCgpPT57XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgfVxufSkoKTtcbmNvbnN0IEdsb2JhbCA9IG5hdGl2ZUdsb2JhbDtcbmZ1bmN0aW9uIGRlZmluZVByb3BlcnR5R2xvYmFsVmFsKHRhcmdldCwga2V5LCB2YWwpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbCxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGluY2x1ZGVPd25Qcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIHJldHVybiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSk7XG59XG4vLyBUaGlzIHNlY3Rpb24gaXMgdG8gcHJldmVudCBlbmNhcHN1bGF0aW9uIGJ5IGNlcnRhaW4gbWljcm9mcm9udGVuZCBmcmFtZXdvcmtzLiBEdWUgdG8gcmV1c2UgcG9saWNpZXMsIHNhbmRib3ggZXNjYXBlcy5cbi8vIFRoZSBzYW5kYm94IGluIHRoZSBtaWNyb2Zyb250ZW5kIGRvZXMgbm90IHJlcGxpY2F0ZSB0aGUgdmFsdWUgb2YgJ2NvbmZpZ3VyYWJsZScuXG4vLyBJZiB0aGVyZSBpcyBubyBsb2FkaW5nIGNvbnRlbnQgb24gdGhlIGdsb2JhbCBvYmplY3QsIHRoaXMgc2VjdGlvbiBkZWZpbmVzIHRoZSBsb2FkaW5nIG9iamVjdC5cbmlmICghaW5jbHVkZU93blByb3BlcnR5KGdsb2JhbFRoaXMsICdfX0dMT0JBTF9MT0FESU5HX1JFTU9URV9FTlRSWV9fJykpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eUdsb2JhbFZhbChnbG9iYWxUaGlzLCAnX19HTE9CQUxfTE9BRElOR19SRU1PVEVfRU5UUllfXycsIHt9KTtcbn1cbmNvbnN0IGdsb2JhbExvYWRpbmcgPSBnbG9iYWxUaGlzLl9fR0xPQkFMX0xPQURJTkdfUkVNT1RFX0VOVFJZX187XG5mdW5jdGlvbiBzZXRHbG9iYWxEZWZhdWx0VmFsKHRhcmdldCkge1xuICAgIHZhciBfdGFyZ2V0X19fRkVERVJBVElPTl9fLCBfdGFyZ2V0X19fRkVERVJBVElPTl9fMSwgX3RhcmdldF9fX0ZFREVSQVRJT05fXzIsIF90YXJnZXRfX19GRURFUkFUSU9OX18zLCBfdGFyZ2V0X19fRkVERVJBVElPTl9fNCwgX3RhcmdldF9fX0ZFREVSQVRJT05fXzU7XG4gICAgaWYgKGluY2x1ZGVPd25Qcm9wZXJ0eSh0YXJnZXQsICdfX1ZNT0tfXycpICYmICFpbmNsdWRlT3duUHJvcGVydHkodGFyZ2V0LCAnX19GRURFUkFUSU9OX18nKSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eUdsb2JhbFZhbCh0YXJnZXQsICdfX0ZFREVSQVRJT05fXycsIHRhcmdldC5fX1ZNT0tfXyk7XG4gICAgfVxuICAgIGlmICghaW5jbHVkZU93blByb3BlcnR5KHRhcmdldCwgJ19fRkVERVJBVElPTl9fJykpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHlHbG9iYWxWYWwodGFyZ2V0LCAnX19GRURFUkFUSU9OX18nLCB7XG4gICAgICAgICAgICBfX0dMT0JBTF9QTFVHSU5fXzogW10sXG4gICAgICAgICAgICBfX0lOU1RBTkNFU19fOiBbXSxcbiAgICAgICAgICAgIG1vZHVsZUluZm86IHt9LFxuICAgICAgICAgICAgX19TSEFSRV9fOiB7fSxcbiAgICAgICAgICAgIF9fTUFOSUZFU1RfTE9BRElOR19fOiB7fSxcbiAgICAgICAgICAgIF9fUFJFTE9BREVEX01BUF9fOiBuZXcgTWFwKClcbiAgICAgICAgfSk7XG4gICAgICAgIGRlZmluZVByb3BlcnR5R2xvYmFsVmFsKHRhcmdldCwgJ19fVk1PS19fJywgdGFyZ2V0Ll9fRkVERVJBVElPTl9fKTtcbiAgICB9XG4gICAgdmFyIF9fX0dMT0JBTF9QTFVHSU5fXztcbiAgICAoX19fR0xPQkFMX1BMVUdJTl9fID0gKF90YXJnZXRfX19GRURFUkFUSU9OX18gPSB0YXJnZXQuX19GRURFUkFUSU9OX18pLl9fR0xPQkFMX1BMVUdJTl9fKSAhPSBudWxsID8gX19fR0xPQkFMX1BMVUdJTl9fIDogX3RhcmdldF9fX0ZFREVSQVRJT05fXy5fX0dMT0JBTF9QTFVHSU5fXyA9IFtdO1xuICAgIHZhciBfX19JTlNUQU5DRVNfXztcbiAgICAoX19fSU5TVEFOQ0VTX18gPSAoX3RhcmdldF9fX0ZFREVSQVRJT05fXzEgPSB0YXJnZXQuX19GRURFUkFUSU9OX18pLl9fSU5TVEFOQ0VTX18pICE9IG51bGwgPyBfX19JTlNUQU5DRVNfXyA6IF90YXJnZXRfX19GRURFUkFUSU9OX18xLl9fSU5TVEFOQ0VTX18gPSBbXTtcbiAgICB2YXIgX21vZHVsZUluZm87XG4gICAgKF9tb2R1bGVJbmZvID0gKF90YXJnZXRfX19GRURFUkFUSU9OX18yID0gdGFyZ2V0Ll9fRkVERVJBVElPTl9fKS5tb2R1bGVJbmZvKSAhPSBudWxsID8gX21vZHVsZUluZm8gOiBfdGFyZ2V0X19fRkVERVJBVElPTl9fMi5tb2R1bGVJbmZvID0ge307XG4gICAgdmFyIF9fX1NIQVJFX187XG4gICAgKF9fX1NIQVJFX18gPSAoX3RhcmdldF9fX0ZFREVSQVRJT05fXzMgPSB0YXJnZXQuX19GRURFUkFUSU9OX18pLl9fU0hBUkVfXykgIT0gbnVsbCA/IF9fX1NIQVJFX18gOiBfdGFyZ2V0X19fRkVERVJBVElPTl9fMy5fX1NIQVJFX18gPSB7fTtcbiAgICB2YXIgX19fTUFOSUZFU1RfTE9BRElOR19fO1xuICAgIChfX19NQU5JRkVTVF9MT0FESU5HX18gPSAoX3RhcmdldF9fX0ZFREVSQVRJT05fXzQgPSB0YXJnZXQuX19GRURFUkFUSU9OX18pLl9fTUFOSUZFU1RfTE9BRElOR19fKSAhPSBudWxsID8gX19fTUFOSUZFU1RfTE9BRElOR19fIDogX3RhcmdldF9fX0ZFREVSQVRJT05fXzQuX19NQU5JRkVTVF9MT0FESU5HX18gPSB7fTtcbiAgICB2YXIgX19fUFJFTE9BREVEX01BUF9fO1xuICAgIChfX19QUkVMT0FERURfTUFQX18gPSAoX3RhcmdldF9fX0ZFREVSQVRJT05fXzUgPSB0YXJnZXQuX19GRURFUkFUSU9OX18pLl9fUFJFTE9BREVEX01BUF9fKSAhPSBudWxsID8gX19fUFJFTE9BREVEX01BUF9fIDogX3RhcmdldF9fX0ZFREVSQVRJT05fXzUuX19QUkVMT0FERURfTUFQX18gPSBuZXcgTWFwKCk7XG59XG5zZXRHbG9iYWxEZWZhdWx0VmFsKGdsb2JhbFRoaXMpO1xuc2V0R2xvYmFsRGVmYXVsdFZhbChuYXRpdmVHbG9iYWwpO1xuZnVuY3Rpb24gcmVzZXRGZWRlcmF0aW9uR2xvYmFsSW5mbygpIHtcbiAgICBnbG9iYWxUaGlzLl9fRkVERVJBVElPTl9fLl9fR0xPQkFMX1BMVUdJTl9fID0gW107XG4gICAgZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0lOU1RBTkNFU19fID0gW107XG4gICAgZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5tb2R1bGVJbmZvID0ge307XG4gICAgZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX1NIQVJFX18gPSB7fTtcbiAgICBnbG9iYWxUaGlzLl9fRkVERVJBVElPTl9fLl9fTUFOSUZFU1RfTE9BRElOR19fID0ge307XG59XG5mdW5jdGlvbiBnZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2UobmFtZSwgdmVyc2lvbikge1xuICAgIGNvbnN0IGJ1aWxkSWQgPSBnZXRCdWlsZGVySWQoKTtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0lOU1RBTkNFU19fLmZpbmQoKEdNSW5zdGFuY2UpPT57XG4gICAgICAgIGlmIChidWlsZElkICYmIEdNSW5zdGFuY2Uub3B0aW9ucy5pZCA9PT0gZ2V0QnVpbGRlcklkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChHTUluc3RhbmNlLm9wdGlvbnMubmFtZSA9PT0gbmFtZSAmJiAhR01JbnN0YW5jZS5vcHRpb25zLnZlcnNpb24gJiYgIXZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChHTUluc3RhbmNlLm9wdGlvbnMubmFtZSA9PT0gbmFtZSAmJiB2ZXJzaW9uICYmIEdNSW5zdGFuY2Uub3B0aW9ucy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2UoRmVkZXJhdGlvbkluc3RhbmNlKSB7XG4gICAgZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0lOU1RBTkNFU19fLnB1c2goRmVkZXJhdGlvbkluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGdldEdsb2JhbEZlZGVyYXRpb25Db25zdHJ1Y3RvcigpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5fX0ZFREVSQVRJT05fXy5fX0RFQlVHX0NPTlNUUlVDVE9SX187XG59XG5mdW5jdGlvbiBzZXRHbG9iYWxGZWRlcmF0aW9uQ29uc3RydWN0b3IoRmVkZXJhdGlvbkNvbnN0cnVjdG9yLCBpc0RlYnVnID0gaXNEZWJ1Z01vZGUoKSkge1xuICAgIGlmIChpc0RlYnVnKSB7XG4gICAgICAgIGdsb2JhbFRoaXMuX19GRURFUkFUSU9OX18uX19ERUJVR19DT05TVFJVQ1RPUl9fID0gRmVkZXJhdGlvbkNvbnN0cnVjdG9yO1xuICAgICAgICBnbG9iYWxUaGlzLl9fRkVERVJBVElPTl9fLl9fREVCVUdfQ09OU1RSVUNUT1JfVkVSU0lPTl9fID0gXCIwLjYuMFwiO1xuICAgIH1cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBnZXRJbmZvV2l0aG91dFR5cGUodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3Qga2V5UmVzID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChrZXlSZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRhcmdldFtrZXldLFxuICAgICAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0S2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldEtleSBvZiB0YXJnZXRLZXlzKXtcbiAgICAgICAgICAgICAgICBjb25zdCBbdGFyZ2V0VHlwZU9yTmFtZSwgX10gPSB0YXJnZXRLZXkuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuS2V5ID0gYCR7dGFyZ2V0VHlwZU9yTmFtZX06JHtrZXl9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlV2l0aEtleVJlcyA9IHRhcmdldFtuS2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZVdpdGhLZXlSZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0eXBlV2l0aEtleVJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogbktleVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigna2V5IG11c3QgYmUgc3RyaW5nJyk7XG4gICAgfVxufVxuY29uc3QgZ2V0R2xvYmFsU25hcHNob3QgPSAoKT0+bmF0aXZlR2xvYmFsLl9fRkVERVJBVElPTl9fLm1vZHVsZUluZm87XG5jb25zdCBnZXRUYXJnZXRTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8gPSAobW9kdWxlSW5mbywgc25hcHNob3QpPT57XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHJlbW90ZSBpcyBpbmNsdWRlZCBpbiB0aGUgaG9zdFNuYXBzaG90XG4gICAgY29uc3QgbW9kdWxlS2V5ID0gZ2V0Rk1JZChtb2R1bGVJbmZvKTtcbiAgICBjb25zdCBnZXRNb2R1bGVJbmZvID0gZ2V0SW5mb1dpdGhvdXRUeXBlKHNuYXBzaG90LCBtb2R1bGVLZXkpLnZhbHVlO1xuICAgIC8vIFRoZSByZW1vdGVTbmFwc2hvdCBtaWdodCBub3QgaW5jbHVkZSBhIHZlcnNpb25cbiAgICBpZiAoZ2V0TW9kdWxlSW5mbyAmJiAhZ2V0TW9kdWxlSW5mby52ZXJzaW9uICYmICd2ZXJzaW9uJyBpbiBtb2R1bGVJbmZvICYmIG1vZHVsZUluZm9bJ3ZlcnNpb24nXSkge1xuICAgICAgICBnZXRNb2R1bGVJbmZvLnZlcnNpb24gPSBtb2R1bGVJbmZvWyd2ZXJzaW9uJ107XG4gICAgfVxuICAgIGlmIChnZXRNb2R1bGVJbmZvKSB7XG4gICAgICAgIHJldHVybiBnZXRNb2R1bGVJbmZvO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgcmVtb3RlIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgaG9zdFNuYXBzaG90LCBkZXBsb3kgYSBtaWNybyBhcHAgc25hcHNob3RcbiAgICBpZiAoJ3ZlcnNpb24nIGluIG1vZHVsZUluZm8gJiYgbW9kdWxlSW5mb1sndmVyc2lvbiddKSB7XG4gICAgICAgIGNvbnN0IHsgdmVyc2lvbiB9ID0gbW9kdWxlSW5mbywgcmVzTW9kdWxlSW5mbyA9IF9vYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzX2xvb3NlKG1vZHVsZUluZm8sIFtcbiAgICAgICAgICAgIFwidmVyc2lvblwiXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBtb2R1bGVLZXlXaXRob3V0VmVyc2lvbiA9IGdldEZNSWQocmVzTW9kdWxlSW5mbyk7XG4gICAgICAgIGNvbnN0IGdldE1vZHVsZUluZm9XaXRob3V0VmVyc2lvbiA9IGdldEluZm9XaXRob3V0VHlwZShuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbywgbW9kdWxlS2V5V2l0aG91dFZlcnNpb24pLnZhbHVlO1xuICAgICAgICBpZiAoKGdldE1vZHVsZUluZm9XaXRob3V0VmVyc2lvbiA9PSBudWxsID8gdm9pZCAwIDogZ2V0TW9kdWxlSW5mb1dpdGhvdXRWZXJzaW9uLnZlcnNpb24pID09PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TW9kdWxlSW5mb1dpdGhvdXRWZXJzaW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbn07XG5jb25zdCBnZXRHbG9iYWxTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8gPSAobW9kdWxlSW5mbyk9PmdldFRhcmdldFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyhtb2R1bGVJbmZvLCBuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbyk7XG5jb25zdCBzZXRHbG9iYWxTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8gPSAocmVtb3RlSW5mbywgbW9kdWxlRGV0YWlsSW5mbyk9PntcbiAgICBjb25zdCBtb2R1bGVLZXkgPSBnZXRGTUlkKHJlbW90ZUluZm8pO1xuICAgIG5hdGl2ZUdsb2JhbC5fX0ZFREVSQVRJT05fXy5tb2R1bGVJbmZvW21vZHVsZUtleV0gPSBtb2R1bGVEZXRhaWxJbmZvO1xuICAgIHJldHVybiBuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbztcbn07XG5jb25zdCBhZGRHbG9iYWxTbmFwc2hvdCA9IChtb2R1bGVJbmZvcyk9PntcbiAgICBuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbyA9IF9leHRlbmRzKHt9LCBuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mbywgbW9kdWxlSW5mb3MpO1xuICAgIHJldHVybiAoKT0+e1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobW9kdWxlSW5mb3MpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgICAgIGRlbGV0ZSBuYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18ubW9kdWxlSW5mb1trZXldO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5jb25zdCBnZXRSZW1vdGVFbnRyeUV4cG9ydHMgPSAobmFtZSwgZ2xvYmFsTmFtZSk9PntcbiAgICBjb25zdCByZW1vdGVFbnRyeUtleSA9IGdsb2JhbE5hbWUgfHwgYF9fRkVERVJBVElPTl8ke25hbWV9OmN1c3RvbV9fYDtcbiAgICBjb25zdCBlbnRyeUV4cG9ydHMgPSBnbG9iYWxUaGlzW3JlbW90ZUVudHJ5S2V5XTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZW1vdGVFbnRyeUtleSxcbiAgICAgICAgZW50cnlFeHBvcnRzXG4gICAgfTtcbn07XG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gcmVnaXN0ZXIgZ2xvYmFsIHBsdWdpbnMuXG4vLyBJdCBpdGVyYXRlcyBvdmVyIHRoZSBwcm92aWRlZCBwbHVnaW5zIGFuZCBjaGVja3MgaWYgdGhleSBhcmUgYWxyZWFkeSByZWdpc3RlcmVkLlxuLy8gSWYgYSBwbHVnaW4gaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGlzIGFkZGVkIHRvIHRoZSBnbG9iYWwgcGx1Z2lucy5cbi8vIElmIGEgcGx1Z2luIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgYSB3YXJuaW5nIG1lc3NhZ2UgaXMgbG9nZ2VkLlxuY29uc3QgcmVnaXN0ZXJHbG9iYWxQbHVnaW5zID0gKHBsdWdpbnMpPT57XG4gICAgY29uc3QgeyBfX0dMT0JBTF9QTFVHSU5fXyB9ID0gbmF0aXZlR2xvYmFsLl9fRkVERVJBVElPTl9fO1xuICAgIHBsdWdpbnMuZm9yRWFjaCgocGx1Z2luKT0+e1xuICAgICAgICBpZiAoX19HTE9CQUxfUExVR0lOX18uZmluZEluZGV4KChwKT0+cC5uYW1lID09PSBwbHVnaW4ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBfX0dMT0JBTF9QTFVHSU5fXy5wdXNoKHBsdWdpbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuKGBUaGUgcGx1Z2luICR7cGx1Z2luLm5hbWV9IGhhcyBiZWVuIHJlZ2lzdGVyZWQuYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCBnZXRHbG9iYWxIb3N0UGx1Z2lucyA9ICgpPT5uYXRpdmVHbG9iYWwuX19GRURFUkFUSU9OX18uX19HTE9CQUxfUExVR0lOX187XG5jb25zdCBnZXRQcmVsb2FkZWQgPSAoaWQpPT5nbG9iYWxUaGlzLl9fRkVERVJBVElPTl9fLl9fUFJFTE9BREVEX01BUF9fLmdldChpZCk7XG5jb25zdCBzZXRQcmVsb2FkZWQgPSAoaWQpPT5nbG9iYWxUaGlzLl9fRkVERVJBVElPTl9fLl9fUFJFTE9BREVEX01BUF9fLnNldChpZCwgdHJ1ZSk7XG5cbmNvbnN0IERFRkFVTFRfU0NPUEUgPSAnZGVmYXVsdCc7XG5jb25zdCBERUZBVUxUX1JFTU9URV9UWVBFID0gJ2dsb2JhbCc7XG5cbi8vIGZvcmsgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vb3JpZ2luanMvdml0ZS1wbHVnaW4tZmVkZXJhdGlvbi9ibG9iL3YxLjEuMTIvcGFja2FnZXMvbGliL3NyYy91dGlscy9zZW12ZXIvaW5kZXgudHNcbi8vIHRob3NlIGNvbnN0YW50cyBhcmUgYmFzZWQgb24gaHR0cHM6Ly93d3cucnVieWRvYy5pbmZvL2dlbXMvc2VtYW50aWNfcmFuZ2UvMy4wLjAvU2VtYW50aWNSYW5nZSNCVUlMRElERU5USUZJRVItY29uc3RhbnRcbi8vIENvcHlyaWdodCAoYylcbi8vIHZpdGUtcGx1Z2luLWZlZGVyYXRpb24gaXMgbGljZW5zZWQgdW5kZXIgTXVsYW4gUFNMIHYyLlxuLy8gWW91IGNhbiB1c2UgdGhpcyBzb2Z0d2FyZSBhY2NvcmRpbmcgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoZSBNdWxhbiBQU0wgdjIuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgTXVsYW4gUFNMIHYyIGF0OlxuLy8gICAgICBodHRwOi8vbGljZW5zZS5jb3NjbC5vcmcuY24vTXVsYW5QU0wyXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIE9OIEFOIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9GIEFOWSBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIE5PTi1JTkZSSU5HRU1FTlQsIE1FUkNIQU5UQUJJTElUWSBPUiBGSVQgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLlxuLy8gU2VlIHRoZSBNdWxhbiBQU0wgdjIgZm9yIG1vcmUgZGV0YWlscy5cbmNvbnN0IGJ1aWxkSWRlbnRpZmllciA9ICdbMC05QS1aYS16LV0rJztcbmNvbnN0IGJ1aWxkID0gYCg/OlxcXFwrKCR7YnVpbGRJZGVudGlmaWVyfSg/OlxcXFwuJHtidWlsZElkZW50aWZpZXJ9KSopKWA7XG5jb25zdCBudW1lcmljSWRlbnRpZmllciA9ICcwfFsxLTldXFxcXGQqJztcbmNvbnN0IG51bWVyaWNJZGVudGlmaWVyTG9vc2UgPSAnWzAtOV0rJztcbmNvbnN0IG5vbk51bWVyaWNJZGVudGlmaWVyID0gJ1xcXFxkKlthLXpBLVotXVthLXpBLVowLTktXSonO1xuY29uc3QgcHJlUmVsZWFzZUlkZW50aWZpZXJMb29zZSA9IGAoPzoke251bWVyaWNJZGVudGlmaWVyTG9vc2V9fCR7bm9uTnVtZXJpY0lkZW50aWZpZXJ9KWA7XG5jb25zdCBwcmVSZWxlYXNlTG9vc2UgPSBgKD86LT8oJHtwcmVSZWxlYXNlSWRlbnRpZmllckxvb3NlfSg/OlxcXFwuJHtwcmVSZWxlYXNlSWRlbnRpZmllckxvb3NlfSkqKSlgO1xuY29uc3QgcHJlUmVsZWFzZUlkZW50aWZpZXIgPSBgKD86JHtudW1lcmljSWRlbnRpZmllcn18JHtub25OdW1lcmljSWRlbnRpZmllcn0pYDtcbmNvbnN0IHByZVJlbGVhc2UgPSBgKD86LSgke3ByZVJlbGVhc2VJZGVudGlmaWVyfSg/OlxcXFwuJHtwcmVSZWxlYXNlSWRlbnRpZmllcn0pKikpYDtcbmNvbnN0IHhSYW5nZUlkZW50aWZpZXIgPSBgJHtudW1lcmljSWRlbnRpZmllcn18eHxYfFxcXFwqYDtcbmNvbnN0IHhSYW5nZVBsYWluID0gYFt2PVxcXFxzXSooJHt4UmFuZ2VJZGVudGlmaWVyfSkoPzpcXFxcLigke3hSYW5nZUlkZW50aWZpZXJ9KSg/OlxcXFwuKCR7eFJhbmdlSWRlbnRpZmllcn0pKD86JHtwcmVSZWxlYXNlfSk/JHtidWlsZH0/KT8pP2A7XG5jb25zdCBoeXBoZW5SYW5nZSA9IGBeXFxcXHMqKCR7eFJhbmdlUGxhaW59KVxcXFxzKy1cXFxccysoJHt4UmFuZ2VQbGFpbn0pXFxcXHMqJGA7XG5jb25zdCBtYWluVmVyc2lvbkxvb3NlID0gYCgke251bWVyaWNJZGVudGlmaWVyTG9vc2V9KVxcXFwuKCR7bnVtZXJpY0lkZW50aWZpZXJMb29zZX0pXFxcXC4oJHtudW1lcmljSWRlbnRpZmllckxvb3NlfSlgO1xuY29uc3QgbG9vc2VQbGFpbiA9IGBbdj1cXFxcc10qJHttYWluVmVyc2lvbkxvb3NlfSR7cHJlUmVsZWFzZUxvb3NlfT8ke2J1aWxkfT9gO1xuY29uc3QgZ3RsdCA9ICcoKD86PHw+KT89PyknO1xuY29uc3QgY29tcGFyYXRvclRyaW0gPSBgKFxcXFxzKikke2d0bHR9XFxcXHMqKCR7bG9vc2VQbGFpbn18JHt4UmFuZ2VQbGFpbn0pYDtcbmNvbnN0IGxvbmVUaWxkZSA9ICcoPzp+Pj8pJztcbmNvbnN0IHRpbGRlVHJpbSA9IGAoXFxcXHMqKSR7bG9uZVRpbGRlfVxcXFxzK2A7XG5jb25zdCBsb25lQ2FyZXQgPSAnKD86XFxcXF4pJztcbmNvbnN0IGNhcmV0VHJpbSA9IGAoXFxcXHMqKSR7bG9uZUNhcmV0fVxcXFxzK2A7XG5jb25zdCBzdGFyID0gJyg8fD4pPz0/XFxcXHMqXFxcXConO1xuY29uc3QgY2FyZXQgPSBgXiR7bG9uZUNhcmV0fSR7eFJhbmdlUGxhaW59JGA7XG5jb25zdCBtYWluVmVyc2lvbiA9IGAoJHtudW1lcmljSWRlbnRpZmllcn0pXFxcXC4oJHtudW1lcmljSWRlbnRpZmllcn0pXFxcXC4oJHtudW1lcmljSWRlbnRpZmllcn0pYDtcbmNvbnN0IGZ1bGxQbGFpbiA9IGB2PyR7bWFpblZlcnNpb259JHtwcmVSZWxlYXNlfT8ke2J1aWxkfT9gO1xuY29uc3QgdGlsZGUgPSBgXiR7bG9uZVRpbGRlfSR7eFJhbmdlUGxhaW59JGA7XG5jb25zdCB4UmFuZ2UgPSBgXiR7Z3RsdH1cXFxccyoke3hSYW5nZVBsYWlufSRgO1xuY29uc3QgY29tcGFyYXRvciA9IGBeJHtndGx0fVxcXFxzKigke2Z1bGxQbGFpbn0pJHxeJGA7XG4vLyBjb3B5IGZyb20gc2VtdmVyIHBhY2thZ2VcbmNvbnN0IGd0ZTAgPSAnXlxcXFxzKj49XFxcXHMqMC4wLjBcXFxccyokJztcblxuLy8gZm9yayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmlnaW5qcy92aXRlLXBsdWdpbi1mZWRlcmF0aW9uL2Jsb2IvdjEuMS4xMi9wYWNrYWdlcy9saWIvc3JjL3V0aWxzL3NlbXZlci9pbmRleC50c1xuZnVuY3Rpb24gcGFyc2VSZWdleChzb3VyY2UpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzb3VyY2UpO1xufVxuZnVuY3Rpb24gaXNYVmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgcmV0dXJuICF2ZXJzaW9uIHx8IHZlcnNpb24udG9Mb3dlckNhc2UoKSA9PT0gJ3gnIHx8IHZlcnNpb24gPT09ICcqJztcbn1cbmZ1bmN0aW9uIHBpcGUoLi4uZm5zKSB7XG4gICAgcmV0dXJuICh4KT0+Zm5zLnJlZHVjZSgodiwgZik9PmYodiksIHgpO1xufVxuZnVuY3Rpb24gZXh0cmFjdENvbXBhcmF0b3IoY29tcGFyYXRvclN0cmluZykge1xuICAgIHJldHVybiBjb21wYXJhdG9yU3RyaW5nLm1hdGNoKHBhcnNlUmVnZXgoY29tcGFyYXRvcikpO1xufVxuZnVuY3Rpb24gY29tYmluZVZlcnNpb24obWFqb3IsIG1pbm9yLCBwYXRjaCwgcHJlUmVsZWFzZSkge1xuICAgIGNvbnN0IG1haW5WZXJzaW9uID0gYCR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9YDtcbiAgICBpZiAocHJlUmVsZWFzZSkge1xuICAgICAgICByZXR1cm4gYCR7bWFpblZlcnNpb259LSR7cHJlUmVsZWFzZX1gO1xuICAgIH1cbiAgICByZXR1cm4gbWFpblZlcnNpb247XG59XG5cbi8vIGZvcmsgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vb3JpZ2luanMvdml0ZS1wbHVnaW4tZmVkZXJhdGlvbi9ibG9iL3YxLjEuMTIvcGFja2FnZXMvbGliL3NyYy91dGlscy9zZW12ZXIvaW5kZXgudHNcbmZ1bmN0aW9uIHBhcnNlSHlwaGVuKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlLnJlcGxhY2UocGFyc2VSZWdleChoeXBoZW5SYW5nZSksIChfcmFuZ2UsIGZyb20sIGZyb21NYWpvciwgZnJvbU1pbm9yLCBmcm9tUGF0Y2gsIF9mcm9tUHJlUmVsZWFzZSwgX2Zyb21CdWlsZCwgdG8sIHRvTWFqb3IsIHRvTWlub3IsIHRvUGF0Y2gsIHRvUHJlUmVsZWFzZSk9PntcbiAgICAgICAgaWYgKGlzWFZlcnNpb24oZnJvbU1ham9yKSkge1xuICAgICAgICAgICAgZnJvbSA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGlzWFZlcnNpb24oZnJvbU1pbm9yKSkge1xuICAgICAgICAgICAgZnJvbSA9IGA+PSR7ZnJvbU1ham9yfS4wLjBgO1xuICAgICAgICB9IGVsc2UgaWYgKGlzWFZlcnNpb24oZnJvbVBhdGNoKSkge1xuICAgICAgICAgICAgZnJvbSA9IGA+PSR7ZnJvbU1ham9yfS4ke2Zyb21NaW5vcn0uMGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tID0gYD49JHtmcm9tfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzWFZlcnNpb24odG9NYWpvcikpIHtcbiAgICAgICAgICAgIHRvID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNYVmVyc2lvbih0b01pbm9yKSkge1xuICAgICAgICAgICAgdG8gPSBgPCR7TnVtYmVyKHRvTWFqb3IpICsgMX0uMC4wLTBgO1xuICAgICAgICB9IGVsc2UgaWYgKGlzWFZlcnNpb24odG9QYXRjaCkpIHtcbiAgICAgICAgICAgIHRvID0gYDwke3RvTWFqb3J9LiR7TnVtYmVyKHRvTWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgfSBlbHNlIGlmICh0b1ByZVJlbGVhc2UpIHtcbiAgICAgICAgICAgIHRvID0gYDw9JHt0b01ham9yfS4ke3RvTWlub3J9LiR7dG9QYXRjaH0tJHt0b1ByZVJlbGVhc2V9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvID0gYDw9JHt0b31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtmcm9tfSAke3RvfWAudHJpbSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yVHJpbShyYW5nZSkge1xuICAgIHJldHVybiByYW5nZS5yZXBsYWNlKHBhcnNlUmVnZXgoY29tcGFyYXRvclRyaW0pLCAnJDEkMiQzJyk7XG59XG5mdW5jdGlvbiBwYXJzZVRpbGRlVHJpbShyYW5nZSkge1xuICAgIHJldHVybiByYW5nZS5yZXBsYWNlKHBhcnNlUmVnZXgodGlsZGVUcmltKSwgJyQxficpO1xufVxuZnVuY3Rpb24gcGFyc2VDYXJldFRyaW0ocmFuZ2UpIHtcbiAgICByZXR1cm4gcmFuZ2UucmVwbGFjZShwYXJzZVJlZ2V4KGNhcmV0VHJpbSksICckMV4nKTtcbn1cbmZ1bmN0aW9uIHBhcnNlQ2FyZXRzKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcCgocmFuZ2VWZXJzaW9uKT0+cmFuZ2VWZXJzaW9uLnJlcGxhY2UocGFyc2VSZWdleChjYXJldCksIChfLCBtYWpvciwgbWlub3IsIHBhdGNoLCBwcmVSZWxlYXNlKT0+e1xuICAgICAgICAgICAgaWYgKGlzWFZlcnNpb24obWFqb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1hWZXJzaW9uKG1pbm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4wLjAgPCR7TnVtYmVyKG1ham9yKSArIDF9LjAuMC0wYDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNYVmVyc2lvbihwYXRjaCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWFqb3IgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uMCA8JHttYWpvcn0uJHtOdW1iZXIobWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uMCA8JHtOdW1iZXIobWFqb3IpICsgMX0uMC4wLTBgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlUmVsZWFzZSkge1xuICAgICAgICAgICAgICAgIGlmIChtYWpvciA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW5vciA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH0tJHtwcmVSZWxlYXNlfSA8JHttYWpvcn0uJHttaW5vcn0uJHtOdW1iZXIocGF0Y2gpICsgMX0tMGA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH0tJHtwcmVSZWxlYXNlfSA8JHttYWpvcn0uJHtOdW1iZXIobWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4ke21pbm9yfS4ke3BhdGNofS0ke3ByZVJlbGVhc2V9IDwke051bWJlcihtYWpvcikgKyAxfS4wLjAtMGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobWFqb3IgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWlub3IgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA+PSR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9IDwke21ham9yfS4ke21pbm9yfS4ke051bWJlcihwYXRjaCkgKyAxfS0wYDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4ke21pbm9yfS4ke3BhdGNofSA8JHttYWpvcn0uJHtOdW1iZXIobWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH0gPCR7TnVtYmVyKG1ham9yKSArIDF9LjAuMC0wYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIHBhcnNlVGlsZGVzKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcCgocmFuZ2VWZXJzaW9uKT0+cmFuZ2VWZXJzaW9uLnJlcGxhY2UocGFyc2VSZWdleCh0aWxkZSksIChfLCBtYWpvciwgbWlub3IsIHBhdGNoLCBwcmVSZWxlYXNlKT0+e1xuICAgICAgICAgICAgaWYgKGlzWFZlcnNpb24obWFqb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1hWZXJzaW9uKG1pbm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4wLjAgPCR7TnVtYmVyKG1ham9yKSArIDF9LjAuMC0wYDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNYVmVyc2lvbihwYXRjaCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uJHttaW5vcn0uMCA8JHttYWpvcn0uJHtOdW1iZXIobWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlUmVsZWFzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4ke21pbm9yfS4ke3BhdGNofS0ke3ByZVJlbGVhc2V9IDwke21ham9yfS4ke051bWJlcihtaW5vcikgKyAxfS4wLTBgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGA+PSR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9IDwke21ham9yfS4ke051bWJlcihtaW5vcikgKyAxfS4wLTBgO1xuICAgICAgICB9KSkuam9pbignICcpO1xufVxuZnVuY3Rpb24gcGFyc2VYUmFuZ2VzKHJhbmdlKSB7XG4gICAgcmV0dXJuIHJhbmdlLnNwbGl0KC9cXHMrLykubWFwKChyYW5nZVZlcnNpb24pPT5yYW5nZVZlcnNpb24udHJpbSgpLnJlcGxhY2UocGFyc2VSZWdleCh4UmFuZ2UpLCAocmV0LCBndGx0LCBtYWpvciwgbWlub3IsIHBhdGNoLCBwcmVSZWxlYXNlKT0+e1xuICAgICAgICAgICAgY29uc3QgaXNYTWFqb3IgPSBpc1hWZXJzaW9uKG1ham9yKTtcbiAgICAgICAgICAgIGNvbnN0IGlzWE1pbm9yID0gaXNYTWFqb3IgfHwgaXNYVmVyc2lvbihtaW5vcik7XG4gICAgICAgICAgICBjb25zdCBpc1hQYXRjaCA9IGlzWE1pbm9yIHx8IGlzWFZlcnNpb24ocGF0Y2gpO1xuICAgICAgICAgICAgaWYgKGd0bHQgPT09ICc9JyAmJiBpc1hQYXRjaCkge1xuICAgICAgICAgICAgICAgIGd0bHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZVJlbGVhc2UgPSAnJztcbiAgICAgICAgICAgIGlmIChpc1hNYWpvcikge1xuICAgICAgICAgICAgICAgIGlmIChndGx0ID09PSAnPicgfHwgZ3RsdCA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgaXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzwwLjAuMC0wJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGlzIGZvcmJpZGRlblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyonO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBpc1hQYXRjaCkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgWCB3aXRoIDBcbiAgICAgICAgICAgICAgICBpZiAoaXNYTWlub3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbWlub3IgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRjaCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGd0bHQgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyA+MSA9PiA+PTIuMC4wXG4gICAgICAgICAgICAgICAgICAgIC8vID4xLjIgPT4gPj0xLjMuMFxuICAgICAgICAgICAgICAgICAgICBndGx0ID0gJz49JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzWE1pbm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWpvciA9IE51bWJlcihtYWpvcikgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlub3IgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlub3IgPSBOdW1iZXIobWlub3IpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3RsdCA9PT0gJzw9Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyA8PTAuNy54IGlzIGFjdHVhbGx5IDwwLjguMCwgc2luY2UgYW55IDAuNy54IHNob3VsZCBwYXNzXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbWlsYXJseSwgPD03LnggaXMgYWN0dWFsbHkgPDguMC4wLCBldGMuXG4gICAgICAgICAgICAgICAgICAgIGd0bHQgPSAnPCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1hNaW5vcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFqb3IgPSBOdW1iZXIobWFqb3IpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbm9yID0gTnVtYmVyKG1pbm9yKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGd0bHQgPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICBwcmVSZWxlYXNlID0gJy0wJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2d0bHQgKyBtYWpvcn0uJHttaW5vcn0uJHtwYXRjaH0ke3ByZVJlbGVhc2V9YDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNYTWlub3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYD49JHttYWpvcn0uMC4wJHtwcmVSZWxlYXNlfSA8JHtOdW1iZXIobWFqb3IpICsgMX0uMC4wLTBgO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1hQYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgPj0ke21ham9yfS4ke21pbm9yfS4wJHtwcmVSZWxlYXNlfSA8JHttYWpvcn0uJHtOdW1iZXIobWlub3IpICsgMX0uMC0wYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pKS5qb2luKCcgJyk7XG59XG5mdW5jdGlvbiBwYXJzZVN0YXIocmFuZ2UpIHtcbiAgICByZXR1cm4gcmFuZ2UudHJpbSgpLnJlcGxhY2UocGFyc2VSZWdleChzdGFyKSwgJycpO1xufVxuZnVuY3Rpb24gcGFyc2VHVEUwKGNvbXBhcmF0b3JTdHJpbmcpIHtcbiAgICByZXR1cm4gY29tcGFyYXRvclN0cmluZy50cmltKCkucmVwbGFjZShwYXJzZVJlZ2V4KGd0ZTApLCAnJyk7XG59XG5cbi8vIGZvcmsgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vb3JpZ2luanMvdml0ZS1wbHVnaW4tZmVkZXJhdGlvbi9ibG9iL3YxLjEuMTIvcGFja2FnZXMvbGliL3NyYy91dGlscy9zZW12ZXIvaW5kZXgudHNcbi8vIENvcHlyaWdodCAoYylcbi8vIHZpdGUtcGx1Z2luLWZlZGVyYXRpb24gaXMgbGljZW5zZWQgdW5kZXIgTXVsYW4gUFNMIHYyLlxuLy8gWW91IGNhbiB1c2UgdGhpcyBzb2Z0d2FyZSBhY2NvcmRpbmcgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoZSBNdWxhbiBQU0wgdjIuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgTXVsYW4gUFNMIHYyIGF0OlxuLy8gICAgICBodHRwOi8vbGljZW5zZS5jb3NjbC5vcmcuY24vTXVsYW5QU0wyXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIE9OIEFOIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9GIEFOWSBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIE5PTi1JTkZSSU5HRU1FTlQsIE1FUkNIQU5UQUJJTElUWSBPUiBGSVQgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLlxuLy8gU2VlIHRoZSBNdWxhbiBQU0wgdjIgZm9yIG1vcmUgZGV0YWlscy5cbmZ1bmN0aW9uIGNvbXBhcmVBdG9tKHJhbmdlQXRvbSwgdmVyc2lvbkF0b20pIHtcbiAgICByYW5nZUF0b20gPSBOdW1iZXIocmFuZ2VBdG9tKSB8fCByYW5nZUF0b207XG4gICAgdmVyc2lvbkF0b20gPSBOdW1iZXIodmVyc2lvbkF0b20pIHx8IHZlcnNpb25BdG9tO1xuICAgIGlmIChyYW5nZUF0b20gPiB2ZXJzaW9uQXRvbSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHJhbmdlQXRvbSA9PT0gdmVyc2lvbkF0b20pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVQcmVSZWxlYXNlKHJhbmdlQXRvbSwgdmVyc2lvbkF0b20pIHtcbiAgICBjb25zdCB7IHByZVJlbGVhc2U6IHJhbmdlUHJlUmVsZWFzZSB9ID0gcmFuZ2VBdG9tO1xuICAgIGNvbnN0IHsgcHJlUmVsZWFzZTogdmVyc2lvblByZVJlbGVhc2UgfSA9IHZlcnNpb25BdG9tO1xuICAgIGlmIChyYW5nZVByZVJlbGVhc2UgPT09IHVuZGVmaW5lZCAmJiBCb29sZWFuKHZlcnNpb25QcmVSZWxlYXNlKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKEJvb2xlYW4ocmFuZ2VQcmVSZWxlYXNlKSAmJiB2ZXJzaW9uUHJlUmVsZWFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKHJhbmdlUHJlUmVsZWFzZSA9PT0gdW5kZWZpbmVkICYmIHZlcnNpb25QcmVSZWxlYXNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDAsIG4gPSByYW5nZVByZVJlbGVhc2UubGVuZ3RoOyBpIDw9IG47IGkrKyl7XG4gICAgICAgIGNvbnN0IHJhbmdlRWxlbWVudCA9IHJhbmdlUHJlUmVsZWFzZVtpXTtcbiAgICAgICAgY29uc3QgdmVyc2lvbkVsZW1lbnQgPSB2ZXJzaW9uUHJlUmVsZWFzZVtpXTtcbiAgICAgICAgaWYgKHJhbmdlRWxlbWVudCA9PT0gdmVyc2lvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZUVsZW1lbnQgPT09IHVuZGVmaW5lZCAmJiB2ZXJzaW9uRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhbmdlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2ZXJzaW9uRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wYXJlQXRvbShyYW5nZUVsZW1lbnQsIHZlcnNpb25FbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBjb21wYXJlVmVyc2lvbihyYW5nZUF0b20sIHZlcnNpb25BdG9tKSB7XG4gICAgcmV0dXJuIGNvbXBhcmVBdG9tKHJhbmdlQXRvbS5tYWpvciwgdmVyc2lvbkF0b20ubWFqb3IpIHx8IGNvbXBhcmVBdG9tKHJhbmdlQXRvbS5taW5vciwgdmVyc2lvbkF0b20ubWlub3IpIHx8IGNvbXBhcmVBdG9tKHJhbmdlQXRvbS5wYXRjaCwgdmVyc2lvbkF0b20ucGF0Y2gpIHx8IGNvbXBhcmVQcmVSZWxlYXNlKHJhbmdlQXRvbSwgdmVyc2lvbkF0b20pO1xufVxuZnVuY3Rpb24gZXEocmFuZ2VBdG9tLCB2ZXJzaW9uQXRvbSkge1xuICAgIHJldHVybiByYW5nZUF0b20udmVyc2lvbiA9PT0gdmVyc2lvbkF0b20udmVyc2lvbjtcbn1cbmZ1bmN0aW9uIGNvbXBhcmUocmFuZ2VBdG9tLCB2ZXJzaW9uQXRvbSkge1xuICAgIHN3aXRjaChyYW5nZUF0b20ub3BlcmF0b3Ipe1xuICAgICAgICBjYXNlICcnOlxuICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgIHJldHVybiBlcShyYW5nZUF0b20sIHZlcnNpb25BdG9tKTtcbiAgICAgICAgY2FzZSAnPic6XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZVZlcnNpb24ocmFuZ2VBdG9tLCB2ZXJzaW9uQXRvbSkgPCAwO1xuICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgICByZXR1cm4gZXEocmFuZ2VBdG9tLCB2ZXJzaW9uQXRvbSkgfHwgY29tcGFyZVZlcnNpb24ocmFuZ2VBdG9tLCB2ZXJzaW9uQXRvbSkgPCAwO1xuICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlVmVyc2lvbihyYW5nZUF0b20sIHZlcnNpb25BdG9tKSA+IDA7XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAgIHJldHVybiBlcShyYW5nZUF0b20sIHZlcnNpb25BdG9tKSB8fCBjb21wYXJlVmVyc2lvbihyYW5nZUF0b20sIHZlcnNpb25BdG9tKSA+IDA7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIG1lYW4gKiBvciB4IC0+IGFsbCB2ZXJzaW9uc1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZm9yayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmlnaW5qcy92aXRlLXBsdWdpbi1mZWRlcmF0aW9uL2Jsb2IvdjEuMS4xMi9wYWNrYWdlcy9saWIvc3JjL3V0aWxzL3NlbXZlci9pbmRleC50c1xuZnVuY3Rpb24gcGFyc2VDb21wYXJhdG9yU3RyaW5nKHJhbmdlKSB7XG4gICAgcmV0dXJuIHBpcGUoLy8gaGFuZGxlIGNhcmV0XG4gICAgLy8gXiAtLT4gKiAoYW55LCBraW5kYSBzaWxseSlcbiAgICAvLyBeMiwgXjIueCwgXjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMC0wXG4gICAgLy8gXjIuMCwgXjIuMC54IC0tPiA+PTIuMC4wIDwzLjAuMC0wXG4gICAgLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMC0wXG4gICAgLy8gXjEuMi4zIC0tPiA+PTEuMi4zIDwyLjAuMC0wXG4gICAgLy8gXjEuMi4wIC0tPiA+PTEuMi4wIDwyLjAuMC0wXG4gICAgcGFyc2VDYXJldHMsIC8vIGhhbmRsZSB0aWxkZVxuICAgIC8vIH4sIH4+IC0tPiAqIChhbnksIGtpbmRhIHNpbGx5KVxuICAgIC8vIH4yLCB+Mi54LCB+Mi54LngsIH4+Miwgfj4yLnggfj4yLngueCAtLT4gPj0yLjAuMCA8My4wLjAtMFxuICAgIC8vIH4yLjAsIH4yLjAueCwgfj4yLjAsIH4+Mi4wLnggLS0+ID49Mi4wLjAgPDIuMS4wLTBcbiAgICAvLyB+MS4yLCB+MS4yLngsIH4+MS4yLCB+PjEuMi54IC0tPiA+PTEuMi4wIDwxLjMuMC0wXG4gICAgLy8gfjEuMi4zLCB+PjEuMi4zIC0tPiA+PTEuMi4zIDwxLjMuMC0wXG4gICAgLy8gfjEuMi4wLCB+PjEuMi4wIC0tPiA+PTEuMi4wIDwxLjMuMC0wXG4gICAgcGFyc2VUaWxkZXMsIHBhcnNlWFJhbmdlcywgcGFyc2VTdGFyKShyYW5nZSk7XG59XG5mdW5jdGlvbiBwYXJzZVJhbmdlKHJhbmdlKSB7XG4gICAgcmV0dXJuIHBpcGUoLy8gaGFuZGxlIGh5cGhlblJhbmdlXG4gICAgLy8gYDEuMi4zIC0gMS4yLjRgID0+IGA+PTEuMi4zIDw9MS4yLjRgXG4gICAgcGFyc2VIeXBoZW4sIC8vIGhhbmRsZSB0cmltIGNvbXBhcmF0b3JcbiAgICAvLyBgPiAxLjIuMyA8IDEuMi41YCA9PiBgPjEuMi4zIDwxLjIuNWBcbiAgICBwYXJzZUNvbXBhcmF0b3JUcmltLCAvLyBoYW5kbGUgdHJpbSB0aWxkZVxuICAgIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICAgIHBhcnNlVGlsZGVUcmltLCAvLyBoYW5kbGUgdHJpbSBjYXJldFxuICAgIC8vIGBeIDEuMi4zYCA9PiBgXjEuMi4zYFxuICAgIHBhcnNlQ2FyZXRUcmltKShyYW5nZS50cmltKCkpLnNwbGl0KC9cXHMrLykuam9pbignICcpO1xufVxuZnVuY3Rpb24gc2F0aXNmeSh2ZXJzaW9uLCByYW5nZSkge1xuICAgIGlmICghdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFJhbmdlID0gcGFyc2VSYW5nZShyYW5nZSk7XG4gICAgY29uc3QgcGFyc2VkQ29tcGFyYXRvciA9IHBhcnNlZFJhbmdlLnNwbGl0KCcgJykubWFwKChyYW5nZVZlcnNpb24pPT5wYXJzZUNvbXBhcmF0b3JTdHJpbmcocmFuZ2VWZXJzaW9uKSkuam9pbignICcpO1xuICAgIGNvbnN0IGNvbXBhcmF0b3JzID0gcGFyc2VkQ29tcGFyYXRvci5zcGxpdCgvXFxzKy8pLm1hcCgoY29tcGFyYXRvcik9PnBhcnNlR1RFMChjb21wYXJhdG9yKSk7XG4gICAgY29uc3QgZXh0cmFjdGVkVmVyc2lvbiA9IGV4dHJhY3RDb21wYXJhdG9yKHZlcnNpb24pO1xuICAgIGlmICghZXh0cmFjdGVkVmVyc2lvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IFssIHZlcnNpb25PcGVyYXRvciwgLCB2ZXJzaW9uTWFqb3IsIHZlcnNpb25NaW5vciwgdmVyc2lvblBhdGNoLCB2ZXJzaW9uUHJlUmVsZWFzZV0gPSBleHRyYWN0ZWRWZXJzaW9uO1xuICAgIGNvbnN0IHZlcnNpb25BdG9tID0ge1xuICAgICAgICBvcGVyYXRvcjogdmVyc2lvbk9wZXJhdG9yLFxuICAgICAgICB2ZXJzaW9uOiBjb21iaW5lVmVyc2lvbih2ZXJzaW9uTWFqb3IsIHZlcnNpb25NaW5vciwgdmVyc2lvblBhdGNoLCB2ZXJzaW9uUHJlUmVsZWFzZSksXG4gICAgICAgIG1ham9yOiB2ZXJzaW9uTWFqb3IsXG4gICAgICAgIG1pbm9yOiB2ZXJzaW9uTWlub3IsXG4gICAgICAgIHBhdGNoOiB2ZXJzaW9uUGF0Y2gsXG4gICAgICAgIHByZVJlbGVhc2U6IHZlcnNpb25QcmVSZWxlYXNlID09IG51bGwgPyB2b2lkIDAgOiB2ZXJzaW9uUHJlUmVsZWFzZS5zcGxpdCgnLicpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGNvbXBhcmF0b3Igb2YgY29tcGFyYXRvcnMpe1xuICAgICAgICBjb25zdCBleHRyYWN0ZWRDb21wYXJhdG9yID0gZXh0cmFjdENvbXBhcmF0b3IoY29tcGFyYXRvcik7XG4gICAgICAgIGlmICghZXh0cmFjdGVkQ29tcGFyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFssIHJhbmdlT3BlcmF0b3IsICwgcmFuZ2VNYWpvciwgcmFuZ2VNaW5vciwgcmFuZ2VQYXRjaCwgcmFuZ2VQcmVSZWxlYXNlXSA9IGV4dHJhY3RlZENvbXBhcmF0b3I7XG4gICAgICAgIGNvbnN0IHJhbmdlQXRvbSA9IHtcbiAgICAgICAgICAgIG9wZXJhdG9yOiByYW5nZU9wZXJhdG9yLFxuICAgICAgICAgICAgdmVyc2lvbjogY29tYmluZVZlcnNpb24ocmFuZ2VNYWpvciwgcmFuZ2VNaW5vciwgcmFuZ2VQYXRjaCwgcmFuZ2VQcmVSZWxlYXNlKSxcbiAgICAgICAgICAgIG1ham9yOiByYW5nZU1ham9yLFxuICAgICAgICAgICAgbWlub3I6IHJhbmdlTWlub3IsXG4gICAgICAgICAgICBwYXRjaDogcmFuZ2VQYXRjaCxcbiAgICAgICAgICAgIHByZVJlbGVhc2U6IHJhbmdlUHJlUmVsZWFzZSA9PSBudWxsID8gdm9pZCAwIDogcmFuZ2VQcmVSZWxlYXNlLnNwbGl0KCcuJylcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFjb21wYXJlKHJhbmdlQXRvbSwgdmVyc2lvbkF0b20pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVhcmx5IHJldHVyblxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRTaGFyZShzaGFyZUFyZ3MsIGZyb20sIG5hbWUsIHNoYXJlU3RyYXRlZ3kpIHtcbiAgICBsZXQgZ2V0O1xuICAgIGlmICgnZ2V0JyBpbiBzaGFyZUFyZ3MpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIGdldCA9IHNoYXJlQXJncy5nZXQ7XG4gICAgfSBlbHNlIGlmICgnbGliJyBpbiBzaGFyZUFyZ3MpIHtcbiAgICAgICAgZ2V0ID0gKCk9PlByb21pc2UucmVzb2x2ZShzaGFyZUFyZ3MubGliKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXQgPSAoKT0+UHJvbWlzZS5yZXNvbHZlKCgpPT57XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4gbm90IGdldCBzaGFyZWQgJyR7bmFtZX0nIWApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzaGFyZUFyZ3Muc3RyYXRlZ3kpIHtcbiAgICAgICAgd2FybihgXCJzaGFyZWQuc3RyYXRlZ3kgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHNldCBpbiBpbml0T3B0aW9ucy5zaGFyZVN0cmF0ZWd5IGluc3RlYWQhXCJgKTtcbiAgICB9XG4gICAgdmFyIF9zaGFyZUFyZ3NfdmVyc2lvbiwgX3NoYXJlQXJnc19zY29wZSwgX3NoYXJlQXJnc19zdHJhdGVneTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICBkZXBzOiBbXSxcbiAgICAgICAgdXNlSW46IFtdLFxuICAgICAgICBmcm9tLFxuICAgICAgICBsb2FkaW5nOiBudWxsXG4gICAgfSwgc2hhcmVBcmdzLCB7XG4gICAgICAgIHNoYXJlQ29uZmlnOiBfZXh0ZW5kcyh7XG4gICAgICAgICAgICByZXF1aXJlZFZlcnNpb246IGBeJHtzaGFyZUFyZ3MudmVyc2lvbn1gLFxuICAgICAgICAgICAgc2luZ2xldG9uOiBmYWxzZSxcbiAgICAgICAgICAgIGVhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgIHN0cmljdFZlcnNpb246IGZhbHNlXG4gICAgICAgIH0sIHNoYXJlQXJncy5zaGFyZUNvbmZpZyksXG4gICAgICAgIGdldCxcbiAgICAgICAgbG9hZGVkOiAoc2hhcmVBcmdzID09IG51bGwgPyB2b2lkIDAgOiBzaGFyZUFyZ3MubG9hZGVkKSB8fCAnbGliJyBpbiBzaGFyZUFyZ3MgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgICB2ZXJzaW9uOiAoX3NoYXJlQXJnc192ZXJzaW9uID0gc2hhcmVBcmdzLnZlcnNpb24pICE9IG51bGwgPyBfc2hhcmVBcmdzX3ZlcnNpb24gOiAnMCcsXG4gICAgICAgIHNjb3BlOiBBcnJheS5pc0FycmF5KHNoYXJlQXJncy5zY29wZSkgPyBzaGFyZUFyZ3Muc2NvcGUgOiBbXG4gICAgICAgICAgICAoX3NoYXJlQXJnc19zY29wZSA9IHNoYXJlQXJncy5zY29wZSkgIT0gbnVsbCA/IF9zaGFyZUFyZ3Nfc2NvcGUgOiAnZGVmYXVsdCdcbiAgICAgICAgXSxcbiAgICAgICAgc3RyYXRlZ3k6ICgoX3NoYXJlQXJnc19zdHJhdGVneSA9IHNoYXJlQXJncy5zdHJhdGVneSkgIT0gbnVsbCA/IF9zaGFyZUFyZ3Nfc3RyYXRlZ3kgOiBzaGFyZVN0cmF0ZWd5KSB8fCAndmVyc2lvbi1maXJzdCdcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFNoYXJlQ29uZmlncyhnbG9iYWxPcHRpb25zLCB1c2VyT3B0aW9ucykge1xuICAgIGNvbnN0IHNoYXJlQXJncyA9IHVzZXJPcHRpb25zLnNoYXJlZCB8fCB7fTtcbiAgICBjb25zdCBmcm9tID0gdXNlck9wdGlvbnMubmFtZTtcbiAgICBjb25zdCBzaGFyZUluZm9zID0gT2JqZWN0LmtleXMoc2hhcmVBcmdzKS5yZWR1Y2UoKHJlcywgcGtnTmFtZSk9PntcbiAgICAgICAgY29uc3QgYXJyYXlTaGFyZUFyZ3MgPSBhcnJheU9wdGlvbnMoc2hhcmVBcmdzW3BrZ05hbWVdKTtcbiAgICAgICAgcmVzW3BrZ05hbWVdID0gcmVzW3BrZ05hbWVdIHx8IFtdO1xuICAgICAgICBhcnJheVNoYXJlQXJncy5mb3JFYWNoKChzaGFyZUNvbmZpZyk9PntcbiAgICAgICAgICAgIHJlc1twa2dOYW1lXS5wdXNoKGZvcm1hdFNoYXJlKHNoYXJlQ29uZmlnLCBmcm9tLCBwa2dOYW1lLCB1c2VyT3B0aW9ucy5zaGFyZVN0cmF0ZWd5KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBzaGFyZWQgPSBfZXh0ZW5kcyh7fSwgZ2xvYmFsT3B0aW9ucy5zaGFyZWQpO1xuICAgIE9iamVjdC5rZXlzKHNoYXJlSW5mb3MpLmZvckVhY2goKHNoYXJlS2V5KT0+e1xuICAgICAgICBpZiAoIXNoYXJlZFtzaGFyZUtleV0pIHtcbiAgICAgICAgICAgIHNoYXJlZFtzaGFyZUtleV0gPSBzaGFyZUluZm9zW3NoYXJlS2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoYXJlSW5mb3Nbc2hhcmVLZXldLmZvckVhY2goKG5ld1VzZXJTaGFyZWRPcHRpb25zKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2FtZVZlcnNpb24gPSBzaGFyZWRbc2hhcmVLZXldLmZpbmQoKHNoYXJlZFZhbCk9PnNoYXJlZFZhbC52ZXJzaW9uID09PSBuZXdVc2VyU2hhcmVkT3B0aW9ucy52ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU2FtZVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkW3NoYXJlS2V5XS5wdXNoKG5ld1VzZXJTaGFyZWRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNoYXJlZCxcbiAgICAgICAgc2hhcmVJbmZvc1xuICAgIH07XG59XG5mdW5jdGlvbiB2ZXJzaW9uTHQoYSwgYikge1xuICAgIGNvbnN0IHRyYW5zZm9ybUludmFsaWRWZXJzaW9uID0gKHZlcnNpb24pPT57XG4gICAgICAgIGNvbnN0IGlzTnVtYmVyVmVyc2lvbiA9ICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZlcnNpb24pKTtcbiAgICAgICAgaWYgKGlzTnVtYmVyVmVyc2lvbikge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRBcnIgPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBsZXQgdmFsaWRWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCAzIC0gc3BsaXRBcnIubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIHZhbGlkVmVyc2lvbiArPSAnLjAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkVmVyc2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICB9O1xuICAgIGlmIChzYXRpc2Z5KHRyYW5zZm9ybUludmFsaWRWZXJzaW9uKGEpLCBgPD0ke3RyYW5zZm9ybUludmFsaWRWZXJzaW9uKGIpfWApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5jb25zdCBmaW5kVmVyc2lvbiA9IChzaGFyZVZlcnNpb25NYXAsIGNiKT0+e1xuICAgIGNvbnN0IGNhbGxiYWNrID0gY2IgfHwgZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uTHQocHJldiwgY3VyKTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzaGFyZVZlcnNpb25NYXApLnJlZHVjZSgocHJldiwgY3VyKT0+e1xuICAgICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrKHByZXYsIGN1cikpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVmYXVsdCB2ZXJzaW9uIGlzICcwJyBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay93ZWJwYWNrL2Jsb2IvbWFpbi9saWIvc2hhcmluZy9Qcm92aWRlU2hhcmVkTW9kdWxlLmpzI0wxMzZcbiAgICAgICAgaWYgKHByZXYgPT09ICcwJykge1xuICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9LCAwKTtcbn07XG5jb25zdCBpc0xvYWRlZCA9IChzaGFyZWQpPT57XG4gICAgcmV0dXJuIEJvb2xlYW4oc2hhcmVkLmxvYWRlZCkgfHwgdHlwZW9mIHNoYXJlZC5saWIgPT09ICdmdW5jdGlvbic7XG59O1xuZnVuY3Rpb24gZmluZFNpbmdsZXRvblZlcnNpb25PcmRlckJ5VmVyc2lvbihzaGFyZVNjb3BlTWFwLCBzY29wZSwgcGtnTmFtZSkge1xuICAgIGNvbnN0IHZlcnNpb25zID0gc2hhcmVTY29wZU1hcFtzY29wZV1bcGtnTmFtZV07XG4gICAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICAgICAgcmV0dXJuICFpc0xvYWRlZCh2ZXJzaW9uc1twcmV2XSkgJiYgdmVyc2lvbkx0KHByZXYsIGN1cik7XG4gICAgfTtcbiAgICByZXR1cm4gZmluZFZlcnNpb24oc2hhcmVTY29wZU1hcFtzY29wZV1bcGtnTmFtZV0sIGNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGZpbmRTaW5nbGV0b25WZXJzaW9uT3JkZXJCeUxvYWRlZChzaGFyZVNjb3BlTWFwLCBzY29wZSwgcGtnTmFtZSkge1xuICAgIGNvbnN0IHZlcnNpb25zID0gc2hhcmVTY29wZU1hcFtzY29wZV1bcGtnTmFtZV07XG4gICAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICAgICAgaWYgKGlzTG9hZGVkKHZlcnNpb25zW2N1cl0pKSB7XG4gICAgICAgICAgICBpZiAoaXNMb2FkZWQodmVyc2lvbnNbcHJldl0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4odmVyc2lvbkx0KHByZXYsIGN1cikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMb2FkZWQodmVyc2lvbnNbcHJldl0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlcnNpb25MdChwcmV2LCBjdXIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZpbmRWZXJzaW9uKHNoYXJlU2NvcGVNYXBbc2NvcGVdW3BrZ05hbWVdLCBjYWxsYmFjayk7XG59XG5mdW5jdGlvbiBnZXRGaW5kU2hhcmVGdW5jdGlvbihzdHJhdGVneSkge1xuICAgIGlmIChzdHJhdGVneSA9PT0gJ2xvYWRlZC1maXJzdCcpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRTaW5nbGV0b25WZXJzaW9uT3JkZXJCeUxvYWRlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmRTaW5nbGV0b25WZXJzaW9uT3JkZXJCeVZlcnNpb247XG59XG5mdW5jdGlvbiBnZXRSZWdpc3RlcmVkU2hhcmUobG9jYWxTaGFyZVNjb3BlTWFwLCBwa2dOYW1lLCBzaGFyZUluZm8sIHJlc29sdmVTaGFyZSkge1xuICAgIGlmICghbG9jYWxTaGFyZVNjb3BlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBzaGFyZUNvbmZpZywgc2NvcGUgPSBERUZBVUxUX1NDT1BFLCBzdHJhdGVneSB9ID0gc2hhcmVJbmZvO1xuICAgIGNvbnN0IHNjb3BlcyA9IEFycmF5LmlzQXJyYXkoc2NvcGUpID8gc2NvcGUgOiBbXG4gICAgICAgIHNjb3BlXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHNjIG9mIHNjb3Blcyl7XG4gICAgICAgIGlmIChzaGFyZUNvbmZpZyAmJiBsb2NhbFNoYXJlU2NvcGVNYXBbc2NdICYmIGxvY2FsU2hhcmVTY29wZU1hcFtzY11bcGtnTmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVxdWlyZWRWZXJzaW9uIH0gPSBzaGFyZUNvbmZpZztcbiAgICAgICAgICAgIGNvbnN0IGZpbmRTaGFyZUZ1bmN0aW9uID0gZ2V0RmluZFNoYXJlRnVuY3Rpb24oc3RyYXRlZ3kpO1xuICAgICAgICAgICAgY29uc3QgbWF4T3JTaW5nbGV0b25WZXJzaW9uID0gZmluZFNoYXJlRnVuY3Rpb24obG9jYWxTaGFyZVNjb3BlTWFwLCBzYywgcGtnTmFtZSk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRSZXNvbHZlciA9ICgpPT57XG4gICAgICAgICAgICAgICAgaWYgKHNoYXJlQ29uZmlnLnNpbmdsZXRvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVpcmVkVmVyc2lvbiA9PT0gJ3N0cmluZycgJiYgIXNhdGlzZnkobWF4T3JTaW5nbGV0b25WZXJzaW9uLCByZXF1aXJlZFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBgVmVyc2lvbiAke21heE9yU2luZ2xldG9uVmVyc2lvbn0gZnJvbSAke21heE9yU2luZ2xldG9uVmVyc2lvbiAmJiBsb2NhbFNoYXJlU2NvcGVNYXBbc2NdW3BrZ05hbWVdW21heE9yU2luZ2xldG9uVmVyc2lvbl0uZnJvbX0gb2Ygc2hhcmVkIHNpbmdsZXRvbiBtb2R1bGUgJHtwa2dOYW1lfSBkb2VzIG5vdCBzYXRpc2Z5IHRoZSByZXF1aXJlbWVudCBvZiAke3NoYXJlSW5mby5mcm9tfSB3aGljaCBuZWVkcyAke3JlcXVpcmVkVmVyc2lvbn0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGFyZUNvbmZpZy5zdHJpY3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFNoYXJlU2NvcGVNYXBbc2NdW3BrZ05hbWVdW21heE9yU2luZ2xldG9uVmVyc2lvbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkVmVyc2lvbiA9PT0gZmFsc2UgfHwgcmVxdWlyZWRWZXJzaW9uID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFNoYXJlU2NvcGVNYXBbc2NdW3BrZ05hbWVdW21heE9yU2luZ2xldG9uVmVyc2lvbl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhdGlzZnkobWF4T3JTaW5nbGV0b25WZXJzaW9uLCByZXF1aXJlZFZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTaGFyZVNjb3BlTWFwW3NjXVtwa2dOYW1lXVttYXhPclNpbmdsZXRvblZlcnNpb25dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3ZlcnNpb25LZXksIHZlcnNpb25WYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobG9jYWxTaGFyZVNjb3BlTWFwW3NjXVtwa2dOYW1lXSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhdGlzZnkodmVyc2lvbktleSwgcmVxdWlyZWRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNoYXJlU2NvcGVNYXA6IGxvY2FsU2hhcmVTY29wZU1hcCxcbiAgICAgICAgICAgICAgICBzY29wZTogc2MsXG4gICAgICAgICAgICAgICAgcGtnTmFtZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBtYXhPclNpbmdsZXRvblZlcnNpb24sXG4gICAgICAgICAgICAgICAgR2xvYmFsRmVkZXJhdGlvbjogR2xvYmFsLl9fRkVERVJBVElPTl9fLFxuICAgICAgICAgICAgICAgIHJlc29sdmVyOiBkZWZhdWx0UmVzb2x2ZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlU2hhcmVkID0gcmVzb2x2ZVNoYXJlLmVtaXQocGFyYW1zKSB8fCBwYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVNoYXJlZC5yZXNvbHZlcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0R2xvYmFsU2hhcmVTY29wZSgpIHtcbiAgICByZXR1cm4gR2xvYmFsLl9fRkVERVJBVElPTl9fLl9fU0hBUkVfXztcbn1cbmZ1bmN0aW9uIGdldFRhcmdldFNoYXJlZE9wdGlvbnMob3B0aW9ucykge1xuICAgIGNvbnN0IHsgcGtnTmFtZSwgZXh0cmFPcHRpb25zLCBzaGFyZUluZm9zIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGRlZmF1bHRSZXNvbHZlciA9IChzaGFyZWRPcHRpb25zKT0+e1xuICAgICAgICBpZiAoIXNoYXJlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hhcmVWZXJzaW9uTWFwID0ge307XG4gICAgICAgIHNoYXJlZE9wdGlvbnMuZm9yRWFjaCgoc2hhcmVkKT0+e1xuICAgICAgICAgICAgc2hhcmVWZXJzaW9uTWFwW3NoYXJlZC52ZXJzaW9uXSA9IHNoYXJlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzTG9hZGVkKHNoYXJlVmVyc2lvbk1hcFtwcmV2XSkgJiYgdmVyc2lvbkx0KHByZXYsIGN1cik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1heFZlcnNpb24gPSBmaW5kVmVyc2lvbihzaGFyZVZlcnNpb25NYXAsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHNoYXJlVmVyc2lvbk1hcFttYXhWZXJzaW9uXTtcbiAgICB9O1xuICAgIHZhciBfZXh0cmFPcHRpb25zX3Jlc29sdmVyO1xuICAgIGNvbnN0IHJlc29sdmVyID0gKF9leHRyYU9wdGlvbnNfcmVzb2x2ZXIgPSBleHRyYU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dHJhT3B0aW9ucy5yZXNvbHZlcikgIT0gbnVsbCA/IF9leHRyYU9wdGlvbnNfcmVzb2x2ZXIgOiBkZWZhdWx0UmVzb2x2ZXI7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJlc29sdmVyKHNoYXJlSW5mb3NbcGtnTmFtZV0pLCBleHRyYU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dHJhT3B0aW9ucy5jdXN0b21TaGFyZUluZm8pO1xufVxuXG5leHBvcnQgeyBnZXRCdWlsZGVySWQgYXMgQSwgc2V0R2xvYmFsRmVkZXJhdGlvbkNvbnN0cnVjdG9yIGFzIEIsIGdldEdsb2JhbEZlZGVyYXRpb25JbnN0YW5jZSBhcyBDLCBERUZBVUxUX1JFTU9URV9UWVBFIGFzIEQsIGdldEdsb2JhbEZlZGVyYXRpb25Db25zdHJ1Y3RvciBhcyBFLCBzZXRHbG9iYWxGZWRlcmF0aW9uSW5zdGFuY2UgYXMgRiwgR2xvYmFsIGFzIEcsIHJlZ2lzdGVyR2xvYmFsUGx1Z2lucyBhcyBILCBuYXRpdmVHbG9iYWwgYXMgSSwgcmVzZXRGZWRlcmF0aW9uR2xvYmFsSW5mbyBhcyBKLCBnZXRUYXJnZXRTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8gYXMgSywgZ2xvYmFsTG9hZGluZyBhcyBhLCBERUZBVUxUX1NDT1BFIGFzIGIsIGdldFJlbW90ZUVudHJ5RXhwb3J0cyBhcyBjLCBhc3NlcnQgYXMgZCwgZ2V0Rk1JZCBhcyBlLCBlcnJvciBhcyBmLCBnZXRHbG9iYWxIb3N0UGx1Z2lucyBhcyBnLCBpc1BsYWluT2JqZWN0IGFzIGgsIGlzT2JqZWN0IGFzIGksIGlzUmVtb3RlSW5mb1dpdGhFbnRyeSBhcyBqLCBpc1B1cmVSZW1vdGVFbnRyeSBhcyBrLCBnZXRSZW1vdGVFbnRyeUluZm9Gcm9tU25hcHNob3QgYXMgbCwgZ2V0SW5mb1dpdGhvdXRUeXBlIGFzIG0sIGdldFByZWxvYWRlZCBhcyBuLCBnZXRSZWdpc3RlcmVkU2hhcmUgYXMgbywgYXJyYXlPcHRpb25zIGFzIHAsIGdldEdsb2JhbFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyBhcyBxLCBhZGRHbG9iYWxTbmFwc2hvdCBhcyByLCBzZXRQcmVsb2FkZWQgYXMgcywgc2V0R2xvYmFsU25hcHNob3RJbmZvQnlNb2R1bGVJbmZvIGFzIHQsIGdldEdsb2JhbFNuYXBzaG90IGFzIHUsIGZvcm1hdFNoYXJlQ29uZmlncyBhcyB2LCB3YXJuIGFzIHcsIGdldFRhcmdldFNoYXJlZE9wdGlvbnMgYXMgeCwgZ2V0R2xvYmFsU2hhcmVTY29wZSBhcyB5LCBhZGRVbmlxdWVJdGVtIGFzIHogfTtcbiJdLCJuYW1lcyI6WyJhIiwiX29iamVjdF93aXRob3V0X3Byb3BlcnRpZXNfbG9vc2UiLCJfIiwiX2V4dGVuZHMiLCJpc0Jyb3dzZXJFbnYiLCJpc0RlYnVnTW9kZSIsImdldEJ1aWxkZXJJZCIsIkZFREVSQVRJT05fQlVJTERfSURFTlRJRklFUiIsIkxPR19DQVRFR09SWSIsImFzc2VydCIsImNvbmRpdGlvbiIsIm1zZyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwid2FybiIsImNvbnNvbGUiLCJhZGRVbmlxdWVJdGVtIiwiYXJyIiwiaXRlbSIsImZpbmRJbmRleCIsIm5hbWUiLCJwdXNoIiwiZ2V0Rk1JZCIsInJlbW90ZUluZm8iLCJ2ZXJzaW9uIiwiZW50cnkiLCJpc1JlbW90ZUluZm9XaXRoRW50cnkiLCJyZW1vdGUiLCJpc1B1cmVSZW1vdGVFbnRyeSIsImluY2x1ZGVzIiwiaXNPYmplY3QiLCJ2YWwiLCJvYmplY3RUb1N0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaXNQbGFpbk9iamVjdCIsImNhbGwiLCJhcnJheU9wdGlvbnMiLCJvcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwiZ2V0UmVtb3RlRW50cnlJbmZvRnJvbVNuYXBzaG90Iiwic25hcHNob3QiLCJkZWZhdWx0UmVtb3RlRW50cnlJbmZvIiwidXJsIiwidHlwZSIsImdsb2JhbE5hbWUiLCJyZW1vdGVFbnRyeSIsInJlbW90ZUVudHJ5VHlwZSIsInNzclJlbW90ZUVudHJ5Iiwic3NyUmVtb3RlRW50cnlUeXBlIiwibmF0aXZlR2xvYmFsIiwiRnVuY3Rpb24iLCJlIiwiZ2xvYmFsVGhpcyIsIkdsb2JhbCIsImRlZmluZVByb3BlcnR5R2xvYmFsVmFsIiwidGFyZ2V0Iiwia2V5IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaW5jbHVkZU93blByb3BlcnR5IiwiaGFzT3duUHJvcGVydHkiLCJnbG9iYWxMb2FkaW5nIiwiX19HTE9CQUxfTE9BRElOR19SRU1PVEVfRU5UUllfXyIsInNldEdsb2JhbERlZmF1bHRWYWwiLCJfdGFyZ2V0X19fRkVERVJBVElPTl9fIiwiX3RhcmdldF9fX0ZFREVSQVRJT05fXzEiLCJfdGFyZ2V0X19fRkVERVJBVElPTl9fMiIsIl90YXJnZXRfX19GRURFUkFUSU9OX18zIiwiX3RhcmdldF9fX0ZFREVSQVRJT05fXzQiLCJfdGFyZ2V0X19fRkVERVJBVElPTl9fNSIsIl9fVk1PS19fIiwiX19HTE9CQUxfUExVR0lOX18iLCJfX0lOU1RBTkNFU19fIiwibW9kdWxlSW5mbyIsIl9fU0hBUkVfXyIsIl9fTUFOSUZFU1RfTE9BRElOR19fIiwiX19QUkVMT0FERURfTUFQX18iLCJNYXAiLCJfX0ZFREVSQVRJT05fXyIsIl9fX0dMT0JBTF9QTFVHSU5fXyIsIl9fX0lOU1RBTkNFU19fIiwiX21vZHVsZUluZm8iLCJfX19TSEFSRV9fIiwiX19fTUFOSUZFU1RfTE9BRElOR19fIiwiX19fUFJFTE9BREVEX01BUF9fIiwicmVzZXRGZWRlcmF0aW9uR2xvYmFsSW5mbyIsImdldEdsb2JhbEZlZGVyYXRpb25JbnN0YW5jZSIsImJ1aWxkSWQiLCJmaW5kIiwiR01JbnN0YW5jZSIsImlkIiwic2V0R2xvYmFsRmVkZXJhdGlvbkluc3RhbmNlIiwiRmVkZXJhdGlvbkluc3RhbmNlIiwiZ2V0R2xvYmFsRmVkZXJhdGlvbkNvbnN0cnVjdG9yIiwiX19ERUJVR19DT05TVFJVQ1RPUl9fIiwic2V0R2xvYmFsRmVkZXJhdGlvbkNvbnN0cnVjdG9yIiwiRmVkZXJhdGlvbkNvbnN0cnVjdG9yIiwiaXNEZWJ1ZyIsIl9fREVCVUdfQ09OU1RSVUNUT1JfVkVSU0lPTl9fIiwiZ2V0SW5mb1dpdGhvdXRUeXBlIiwia2V5UmVzIiwidGFyZ2V0S2V5cyIsImtleXMiLCJ0YXJnZXRLZXkiLCJ0YXJnZXRUeXBlT3JOYW1lIiwic3BsaXQiLCJuS2V5IiwidHlwZVdpdGhLZXlSZXMiLCJ1bmRlZmluZWQiLCJnZXRHbG9iYWxTbmFwc2hvdCIsImdldFRhcmdldFNuYXBzaG90SW5mb0J5TW9kdWxlSW5mbyIsIm1vZHVsZUtleSIsImdldE1vZHVsZUluZm8iLCJyZXNNb2R1bGVJbmZvIiwibW9kdWxlS2V5V2l0aG91dFZlcnNpb24iLCJnZXRNb2R1bGVJbmZvV2l0aG91dFZlcnNpb24iLCJnZXRHbG9iYWxTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8iLCJzZXRHbG9iYWxTbmFwc2hvdEluZm9CeU1vZHVsZUluZm8iLCJtb2R1bGVEZXRhaWxJbmZvIiwiYWRkR2xvYmFsU25hcHNob3QiLCJtb2R1bGVJbmZvcyIsImdldFJlbW90ZUVudHJ5RXhwb3J0cyIsInJlbW90ZUVudHJ5S2V5IiwiZW50cnlFeHBvcnRzIiwicmVnaXN0ZXJHbG9iYWxQbHVnaW5zIiwicGx1Z2lucyIsImZvckVhY2giLCJwbHVnaW4iLCJwIiwiZ2V0R2xvYmFsSG9zdFBsdWdpbnMiLCJnZXRQcmVsb2FkZWQiLCJnZXQiLCJzZXRQcmVsb2FkZWQiLCJzZXQiLCJERUZBVUxUX1NDT1BFIiwiREVGQVVMVF9SRU1PVEVfVFlQRSIsImJ1aWxkSWRlbnRpZmllciIsImJ1aWxkIiwibnVtZXJpY0lkZW50aWZpZXIiLCJudW1lcmljSWRlbnRpZmllckxvb3NlIiwibm9uTnVtZXJpY0lkZW50aWZpZXIiLCJwcmVSZWxlYXNlSWRlbnRpZmllckxvb3NlIiwicHJlUmVsZWFzZUxvb3NlIiwicHJlUmVsZWFzZUlkZW50aWZpZXIiLCJwcmVSZWxlYXNlIiwieFJhbmdlSWRlbnRpZmllciIsInhSYW5nZVBsYWluIiwiaHlwaGVuUmFuZ2UiLCJtYWluVmVyc2lvbkxvb3NlIiwibG9vc2VQbGFpbiIsImd0bHQiLCJjb21wYXJhdG9yVHJpbSIsImxvbmVUaWxkZSIsInRpbGRlVHJpbSIsImxvbmVDYXJldCIsImNhcmV0VHJpbSIsInN0YXIiLCJjYXJldCIsIm1haW5WZXJzaW9uIiwiZnVsbFBsYWluIiwidGlsZGUiLCJ4UmFuZ2UiLCJjb21wYXJhdG9yIiwiZ3RlMCIsInBhcnNlUmVnZXgiLCJzb3VyY2UiLCJSZWdFeHAiLCJpc1hWZXJzaW9uIiwidG9Mb3dlckNhc2UiLCJwaXBlIiwiZm5zIiwieCIsInJlZHVjZSIsInYiLCJmIiwiZXh0cmFjdENvbXBhcmF0b3IiLCJjb21wYXJhdG9yU3RyaW5nIiwibWF0Y2giLCJjb21iaW5lVmVyc2lvbiIsIm1ham9yIiwibWlub3IiLCJwYXRjaCIsInBhcnNlSHlwaGVuIiwicmFuZ2UiLCJyZXBsYWNlIiwiX3JhbmdlIiwiZnJvbSIsImZyb21NYWpvciIsImZyb21NaW5vciIsImZyb21QYXRjaCIsIl9mcm9tUHJlUmVsZWFzZSIsIl9mcm9tQnVpbGQiLCJ0byIsInRvTWFqb3IiLCJ0b01pbm9yIiwidG9QYXRjaCIsInRvUHJlUmVsZWFzZSIsIk51bWJlciIsInRyaW0iLCJwYXJzZUNvbXBhcmF0b3JUcmltIiwicGFyc2VUaWxkZVRyaW0iLCJwYXJzZUNhcmV0VHJpbSIsInBhcnNlQ2FyZXRzIiwibWFwIiwicmFuZ2VWZXJzaW9uIiwiam9pbiIsInBhcnNlVGlsZGVzIiwicGFyc2VYUmFuZ2VzIiwicmV0IiwiaXNYTWFqb3IiLCJpc1hNaW5vciIsImlzWFBhdGNoIiwicGFyc2VTdGFyIiwicGFyc2VHVEUwIiwiY29tcGFyZUF0b20iLCJyYW5nZUF0b20iLCJ2ZXJzaW9uQXRvbSIsImNvbXBhcmVQcmVSZWxlYXNlIiwicmFuZ2VQcmVSZWxlYXNlIiwidmVyc2lvblByZVJlbGVhc2UiLCJCb29sZWFuIiwiaSIsIm4iLCJsZW5ndGgiLCJyYW5nZUVsZW1lbnQiLCJ2ZXJzaW9uRWxlbWVudCIsImNvbXBhcmVWZXJzaW9uIiwiZXEiLCJjb21wYXJlIiwib3BlcmF0b3IiLCJwYXJzZUNvbXBhcmF0b3JTdHJpbmciLCJwYXJzZVJhbmdlIiwic2F0aXNmeSIsInBhcnNlZFJhbmdlIiwicGFyc2VkQ29tcGFyYXRvciIsImNvbXBhcmF0b3JzIiwiZXh0cmFjdGVkVmVyc2lvbiIsInZlcnNpb25PcGVyYXRvciIsInZlcnNpb25NYWpvciIsInZlcnNpb25NaW5vciIsInZlcnNpb25QYXRjaCIsImV4dHJhY3RlZENvbXBhcmF0b3IiLCJyYW5nZU9wZXJhdG9yIiwicmFuZ2VNYWpvciIsInJhbmdlTWlub3IiLCJyYW5nZVBhdGNoIiwiZm9ybWF0U2hhcmUiLCJzaGFyZUFyZ3MiLCJzaGFyZVN0cmF0ZWd5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJsaWIiLCJzdHJhdGVneSIsIl9zaGFyZUFyZ3NfdmVyc2lvbiIsIl9zaGFyZUFyZ3Nfc2NvcGUiLCJfc2hhcmVBcmdzX3N0cmF0ZWd5IiwiZGVwcyIsInVzZUluIiwibG9hZGluZyIsInNoYXJlQ29uZmlnIiwicmVxdWlyZWRWZXJzaW9uIiwic2luZ2xldG9uIiwiZWFnZXIiLCJzdHJpY3RWZXJzaW9uIiwibG9hZGVkIiwic2NvcGUiLCJmb3JtYXRTaGFyZUNvbmZpZ3MiLCJnbG9iYWxPcHRpb25zIiwidXNlck9wdGlvbnMiLCJzaGFyZWQiLCJzaGFyZUluZm9zIiwicmVzIiwicGtnTmFtZSIsImFycmF5U2hhcmVBcmdzIiwic2hhcmVLZXkiLCJuZXdVc2VyU2hhcmVkT3B0aW9ucyIsImlzU2FtZVZlcnNpb24iLCJzaGFyZWRWYWwiLCJ2ZXJzaW9uTHQiLCJiIiwidHJhbnNmb3JtSW52YWxpZFZlcnNpb24iLCJpc051bWJlclZlcnNpb24iLCJpc05hTiIsInNwbGl0QXJyIiwidmFsaWRWZXJzaW9uIiwiZmluZFZlcnNpb24iLCJzaGFyZVZlcnNpb25NYXAiLCJjYiIsImNhbGxiYWNrIiwicHJldiIsImN1ciIsImlzTG9hZGVkIiwiZmluZFNpbmdsZXRvblZlcnNpb25PcmRlckJ5VmVyc2lvbiIsInNoYXJlU2NvcGVNYXAiLCJ2ZXJzaW9ucyIsImZpbmRTaW5nbGV0b25WZXJzaW9uT3JkZXJCeUxvYWRlZCIsImdldEZpbmRTaGFyZUZ1bmN0aW9uIiwiZ2V0UmVnaXN0ZXJlZFNoYXJlIiwibG9jYWxTaGFyZVNjb3BlTWFwIiwic2hhcmVJbmZvIiwicmVzb2x2ZVNoYXJlIiwic2NvcGVzIiwic2MiLCJmaW5kU2hhcmVGdW5jdGlvbiIsIm1heE9yU2luZ2xldG9uVmVyc2lvbiIsImRlZmF1bHRSZXNvbHZlciIsInZlcnNpb25LZXkiLCJ2ZXJzaW9uVmFsdWUiLCJlbnRyaWVzIiwicGFyYW1zIiwiR2xvYmFsRmVkZXJhdGlvbiIsInJlc29sdmVyIiwicmVzb2x2ZVNoYXJlZCIsImVtaXQiLCJnZXRHbG9iYWxTaGFyZVNjb3BlIiwiZ2V0VGFyZ2V0U2hhcmVkT3B0aW9ucyIsImV4dHJhT3B0aW9ucyIsInNoYXJlZE9wdGlvbnMiLCJtYXhWZXJzaW9uIiwiX2V4dHJhT3B0aW9uc19yZXNvbHZlciIsImFzc2lnbiIsImN1c3RvbVNoYXJlSW5mbyIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiYyIsImQiLCJnIiwiaCIsImoiLCJrIiwibCIsIm0iLCJvIiwicSIsInIiLCJzIiwidCIsInUiLCJ3IiwieSIsInoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../packages/runtime/dist/share.esm.js\n");

/***/ }),

/***/ "../../packages/sdk/dist/index.esm.js":
/*!********************************************!*\
  !*** ../../packages/sdk/dist/index.esm.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER_LOG_KEY: () => (/* binding */ BROWSER_LOG_KEY),\n/* harmony export */   BROWSER_LOG_VALUE: () => (/* binding */ BROWSER_LOG_VALUE),\n/* harmony export */   ENCODE_NAME_PREFIX: () => (/* binding */ ENCODE_NAME_PREFIX),\n/* harmony export */   EncodedNameTransformMap: () => (/* binding */ EncodedNameTransformMap),\n/* harmony export */   FederationModuleManifest: () => (/* binding */ FederationModuleManifest),\n/* harmony export */   Logger: () => (/* binding */ Logger),\n/* harmony export */   MANIFEST_EXT: () => (/* binding */ MANIFEST_EXT),\n/* harmony export */   MFModuleType: () => (/* binding */ MFModuleType),\n/* harmony export */   MODULE_DEVTOOL_IDENTIFIER: () => (/* binding */ MODULE_DEVTOOL_IDENTIFIER),\n/* harmony export */   ManifestFileName: () => (/* binding */ ManifestFileName),\n/* harmony export */   NameTransformMap: () => (/* binding */ NameTransformMap),\n/* harmony export */   NameTransformSymbol: () => (/* binding */ NameTransformSymbol),\n/* harmony export */   SEPARATOR: () => (/* binding */ SEPARATOR),\n/* harmony export */   StatsFileName: () => (/* binding */ StatsFileName),\n/* harmony export */   TEMP_DIR: () => (/* binding */ TEMP_DIR),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   composeKeyWithSeparator: () => (/* binding */ composeKeyWithSeparator),\n/* harmony export */   containerPlugin: () => (/* binding */ ContainerPlugin),\n/* harmony export */   containerReferencePlugin: () => (/* binding */ ContainerReferencePlugin),\n/* harmony export */   createLink: () => (/* binding */ createLink),\n/* harmony export */   createScript: () => (/* binding */ createScript),\n/* harmony export */   createScriptNode: () => (/* binding */ createScriptNode),\n/* harmony export */   decodeName: () => (/* binding */ decodeName),\n/* harmony export */   encodeName: () => (/* binding */ encodeName),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   generateExposeFilename: () => (/* binding */ generateExposeFilename),\n/* harmony export */   generateShareFilename: () => (/* binding */ generateShareFilename),\n/* harmony export */   generateSnapshotFromManifest: () => (/* binding */ generateSnapshotFromManifest),\n/* harmony export */   getProcessEnv: () => (/* binding */ getProcessEnv),\n/* harmony export */   getResourceUrl: () => (/* binding */ getResourceUrl),\n/* harmony export */   inferAutoPublicPath: () => (/* binding */ inferAutoPublicPath),\n/* harmony export */   isBrowserEnv: () => (/* binding */ isBrowserEnv),\n/* harmony export */   isDebugMode: () => (/* binding */ isDebugMode),\n/* harmony export */   isManifestProvider: () => (/* binding */ isManifestProvider),\n/* harmony export */   isStaticResourcesEqual: () => (/* binding */ isStaticResourcesEqual),\n/* harmony export */   loadScript: () => (/* binding */ loadScript),\n/* harmony export */   loadScriptNode: () => (/* binding */ loadScriptNode),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   moduleFederationPlugin: () => (/* binding */ ModuleFederationPlugin),\n/* harmony export */   normalizeOptions: () => (/* binding */ normalizeOptions),\n/* harmony export */   parseEntry: () => (/* binding */ parseEntry),\n/* harmony export */   safeToString: () => (/* binding */ safeToString),\n/* harmony export */   safeWrapper: () => (/* binding */ safeWrapper),\n/* harmony export */   sharePlugin: () => (/* binding */ SharePlugin),\n/* harmony export */   simpleJoinRemoteEntry: () => (/* binding */ simpleJoinRemoteEntry),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* harmony import */ var _polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills.esm.js */ \"../../packages/sdk/dist/polyfills.esm.js\");\n\nconst FederationModuleManifest = \"federation-manifest.json\";\nconst MANIFEST_EXT = \".json\";\nconst BROWSER_LOG_KEY = \"FEDERATION_DEBUG\";\nconst BROWSER_LOG_VALUE = \"1\";\nconst NameTransformSymbol = {\n    AT: \"@\",\n    HYPHEN: \"-\",\n    SLASH: \"/\"\n};\nconst NameTransformMap = {\n    [NameTransformSymbol.AT]: \"scope_\",\n    [NameTransformSymbol.HYPHEN]: \"_\",\n    [NameTransformSymbol.SLASH]: \"__\"\n};\nconst EncodedNameTransformMap = {\n    [NameTransformMap[NameTransformSymbol.AT]]: NameTransformSymbol.AT,\n    [NameTransformMap[NameTransformSymbol.HYPHEN]]: NameTransformSymbol.HYPHEN,\n    [NameTransformMap[NameTransformSymbol.SLASH]]: NameTransformSymbol.SLASH\n};\nconst SEPARATOR = \":\";\nconst ManifestFileName = \"mf-manifest.json\";\nconst StatsFileName = \"mf-stats.json\";\nconst MFModuleType = {\n    NPM: \"npm\",\n    APP: \"app\"\n};\nconst MODULE_DEVTOOL_IDENTIFIER = \"__MF_DEVTOOLS_MODULE_INFO__\";\nconst ENCODE_NAME_PREFIX = \"ENCODE_NAME_PREFIX\";\nconst TEMP_DIR = \".federation\";\nvar ContainerPlugin = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\nvar ContainerReferencePlugin = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\nvar ModuleFederationPlugin = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\nvar SharePlugin = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\nfunction isBrowserEnv() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction isDebugMode() {\n    if (typeof process !== \"undefined\" && process.env && process.env[\"FEDERATION_DEBUG\"]) {\n        return Boolean(process.env[\"FEDERATION_DEBUG\"]);\n    }\n    return typeof FEDERATION_DEBUG !== \"undefined\" && Boolean(FEDERATION_DEBUG);\n}\nconst getProcessEnv = function() {\n    return typeof process !== \"undefined\" && process.env ? process.env : {};\n};\nconst DEBUG_LOG = \"[ FEDERATION DEBUG ]\";\nfunction safeGetLocalStorageItem() {\n    try {\n        if (false) {}\n    } catch (error) {\n        return typeof document !== \"undefined\";\n    }\n    return false;\n}\nlet Logger = class Logger {\n    info(msg, info) {\n        if (this.enable) {\n            const argsToString = safeToString(info) || \"\";\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: ${msg} ${argsToString}`, \"color:#3300CC\");\n            } else {\n                console.info(\"\\x1b[34m%s\", `${this.identifier}: ${msg} ${argsToString ? `\\n${argsToString}` : \"\"}`);\n            }\n        }\n    }\n    logOriginalInfo(...args) {\n        if (this.enable) {\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: OriginalInfo`, \"color:#3300CC\");\n                console.log(...args);\n            } else {\n                console.info(`%c ${this.identifier}: OriginalInfo`, \"color:#3300CC\");\n                console.log(...args);\n            }\n        }\n    }\n    constructor(identifier){\n        this.enable = false;\n        this.identifier = identifier || DEBUG_LOG;\n        if (isBrowserEnv() && safeGetLocalStorageItem()) {\n            this.enable = true;\n        } else if (isDebugMode()) {\n            this.enable = true;\n        }\n    }\n};\nconst LOG_CATEGORY = \"[ Federation Runtime ]\";\n// entry: name:version   version : 1.0.0 | ^1.2.3\n// entry: name:entry  entry:  https://localhost:9000/federation-manifest.json\nconst parseEntry = (str, devVerOrUrl, separator = SEPARATOR)=>{\n    const strSplit = str.split(separator);\n    const devVersionOrUrl = getProcessEnv()[\"NODE_ENV\"] === \"development\" && devVerOrUrl;\n    const defaultVersion = \"*\";\n    const isEntry = (s)=>s.startsWith(\"http\") || s.includes(MANIFEST_EXT);\n    // Check if the string starts with a type\n    if (strSplit.length >= 2) {\n        let [name, ...versionOrEntryArr] = strSplit;\n        if (str.startsWith(separator)) {\n            versionOrEntryArr = [\n                devVersionOrUrl || strSplit.slice(-1)[0]\n            ];\n            name = strSplit.slice(0, -1).join(separator);\n        }\n        let versionOrEntry = devVersionOrUrl || versionOrEntryArr.join(separator);\n        if (isEntry(versionOrEntry)) {\n            return {\n                name,\n                entry: versionOrEntry\n            };\n        } else {\n            // Apply version rule\n            // devVersionOrUrl => inputVersion => defaultVersion\n            return {\n                name,\n                version: versionOrEntry || defaultVersion\n            };\n        }\n    } else if (strSplit.length === 1) {\n        const [name] = strSplit;\n        if (devVersionOrUrl && isEntry(devVersionOrUrl)) {\n            return {\n                name,\n                entry: devVersionOrUrl\n            };\n        }\n        return {\n            name,\n            version: devVersionOrUrl || defaultVersion\n        };\n    } else {\n        throw `Invalid entry value: ${str}`;\n    }\n};\nconst logger = new Logger();\nconst composeKeyWithSeparator = function(...args) {\n    if (!args.length) {\n        return \"\";\n    }\n    return args.reduce((sum, cur)=>{\n        if (!cur) {\n            return sum;\n        }\n        if (!sum) {\n            return cur;\n        }\n        return `${sum}${SEPARATOR}${cur}`;\n    }, \"\");\n};\nconst encodeName = function(name, prefix = \"\", withExt = false) {\n    try {\n        const ext = withExt ? \".js\" : \"\";\n        return `${prefix}${name.replace(new RegExp(`${NameTransformSymbol.AT}`, \"g\"), NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`, \"g\"), NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`, \"g\"), NameTransformMap[NameTransformSymbol.SLASH])}${ext}`;\n    } catch (err) {\n        throw err;\n    }\n};\nconst decodeName = function(name, prefix, withExt) {\n    try {\n        let decodedName = name;\n        if (prefix) {\n            if (!decodedName.startsWith(prefix)) {\n                return decodedName;\n            }\n            decodedName = decodedName.replace(new RegExp(prefix, \"g\"), \"\");\n        }\n        decodedName = decodedName.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`, \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`, \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`, \"g\"), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]);\n        if (withExt) {\n            decodedName = decodedName.replace(\".js\", \"\");\n        }\n        return decodedName;\n    } catch (err) {\n        throw err;\n    }\n};\nconst generateExposeFilename = (exposeName, withExt)=>{\n    if (!exposeName) {\n        return \"\";\n    }\n    let expose = exposeName;\n    if (expose === \".\") {\n        expose = \"default_export\";\n    }\n    if (expose.startsWith(\"./\")) {\n        expose = expose.replace(\"./\", \"\");\n    }\n    return encodeName(expose, \"__federation_expose_\", withExt);\n};\nconst generateShareFilename = (pkgName, withExt)=>{\n    if (!pkgName) {\n        return \"\";\n    }\n    return encodeName(pkgName, \"__federation_shared_\", withExt);\n};\nconst getResourceUrl = (module, sourceUrl)=>{\n    if (\"getPublicPath\" in module) {\n        let publicPath;\n        if (!module.getPublicPath.startsWith(\"function\")) {\n            publicPath = new Function(module.getPublicPath)();\n        } else {\n            publicPath = new Function(\"return \" + module.getPublicPath)()();\n        }\n        return `${publicPath}${sourceUrl}`;\n    } else if (\"publicPath\" in module) {\n        return `${module.publicPath}${sourceUrl}`;\n    } else {\n        console.warn(\"Cannot get resource URL. If in debug mode, please ignore.\", module, sourceUrl);\n        return \"\";\n    }\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst assert = (condition, msg)=>{\n    if (!condition) {\n        error(msg);\n    }\n};\nconst error = (msg)=>{\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n};\nconst warn = (msg)=>{\n    console.warn(`${LOG_CATEGORY}: ${msg}`);\n};\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return \"\";\n    }\n}\nconst simpleJoinRemoteEntry = (rPath, rName)=>{\n    if (!rPath) {\n        return rName;\n    }\n    const transformPath = (str)=>{\n        if (str === \".\") {\n            return \"\";\n        }\n        if (str.startsWith(\"./\")) {\n            return str.replace(\"./\", \"\");\n        }\n        if (str.startsWith(\"/\")) {\n            const strWithoutSlash = str.slice(1);\n            if (strWithoutSlash.endsWith(\"/\")) {\n                return strWithoutSlash.slice(0, -1);\n            }\n            return strWithoutSlash;\n        }\n        return str;\n    };\n    const transformedPath = transformPath(rPath);\n    if (!transformedPath) {\n        return rName;\n    }\n    if (transformedPath.endsWith(\"/\")) {\n        return `${transformedPath}${rName}`;\n    }\n    return `${transformedPath}/${rName}`;\n};\nfunction inferAutoPublicPath(url) {\n    return url.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n}\n// Priority: overrides > remotes\n// eslint-disable-next-line max-lines-per-function\nfunction generateSnapshotFromManifest(manifest, options = {}) {\n    var _manifest_metaData, _manifest_metaData1;\n    const { remotes = {}, overrides = {}, version } = options;\n    let remoteSnapshot;\n    const getPublicPath = ()=>{\n        if (\"publicPath\" in manifest.metaData) {\n            if (manifest.metaData.publicPath === \"auto\" && version) {\n                // use same implementation as publicPath auto runtime module implements\n                return inferAutoPublicPath(version);\n            }\n            return manifest.metaData.publicPath;\n        } else {\n            return manifest.metaData.getPublicPath;\n        }\n    };\n    const overridesKeys = Object.keys(overrides);\n    let remotesInfo = {};\n    // If remotes are not provided, only the remotes in the manifest will be read\n    if (!Object.keys(remotes).length) {\n        var _manifest_remotes;\n        remotesInfo = ((_manifest_remotes = manifest.remotes) == null ? void 0 : _manifest_remotes.reduce((res, next)=>{\n            let matchedVersion;\n            const name = next.federationContainerName;\n            // overrides have higher priority\n            if (overridesKeys.includes(name)) {\n                matchedVersion = overrides[name];\n            } else {\n                if (\"version\" in next) {\n                    matchedVersion = next.version;\n                } else {\n                    matchedVersion = next.entry;\n                }\n            }\n            res[name] = {\n                matchedVersion\n            };\n            return res;\n        }, {})) || {};\n    }\n    // If remotes (deploy scenario) are specified, they need to be traversed again\n    Object.keys(remotes).forEach((key)=>remotesInfo[key] = {\n            // overrides will override dependencies\n            matchedVersion: overridesKeys.includes(key) ? overrides[key] : remotes[key]\n        });\n    const { remoteEntry: { path: remoteEntryPath, name: remoteEntryName, type: remoteEntryType }, types: remoteTypes, buildInfo: { buildVersion }, globalName, ssrRemoteEntry } = manifest.metaData;\n    const { exposes } = manifest;\n    let basicRemoteSnapshot = {\n        version: version ? version : \"\",\n        buildVersion,\n        globalName,\n        remoteEntry: simpleJoinRemoteEntry(remoteEntryPath, remoteEntryName),\n        remoteEntryType,\n        remoteTypes: simpleJoinRemoteEntry(remoteTypes.path, remoteTypes.name),\n        remoteTypesZip: remoteTypes.zip || \"\",\n        remoteTypesAPI: remoteTypes.api || \"\",\n        remotesInfo,\n        shared: manifest == null ? void 0 : manifest.shared.map((item)=>({\n                assets: item.assets,\n                sharedName: item.name,\n                version: item.version\n            })),\n        modules: exposes == null ? void 0 : exposes.map((expose)=>({\n                moduleName: expose.name,\n                modulePath: expose.path,\n                assets: expose.assets\n            }))\n    };\n    if ((_manifest_metaData = manifest.metaData) == null ? void 0 : _manifest_metaData.prefetchInterface) {\n        const prefetchInterface = manifest.metaData.prefetchInterface;\n        basicRemoteSnapshot = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, basicRemoteSnapshot, {\n            prefetchInterface\n        });\n    }\n    if ((_manifest_metaData1 = manifest.metaData) == null ? void 0 : _manifest_metaData1.prefetchEntry) {\n        const { path, name, type } = manifest.metaData.prefetchEntry;\n        basicRemoteSnapshot = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, basicRemoteSnapshot, {\n            prefetchEntry: simpleJoinRemoteEntry(path, name),\n            prefetchEntryType: type\n        });\n    }\n    if (\"publicPath\" in manifest.metaData) {\n        remoteSnapshot = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, basicRemoteSnapshot, {\n            publicPath: getPublicPath()\n        });\n    } else {\n        remoteSnapshot = (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, basicRemoteSnapshot, {\n            getPublicPath: getPublicPath()\n        });\n    }\n    if (ssrRemoteEntry) {\n        const fullSSRRemoteEntry = simpleJoinRemoteEntry(ssrRemoteEntry.path, ssrRemoteEntry.name);\n        remoteSnapshot.ssrRemoteEntry = fullSSRRemoteEntry;\n        remoteSnapshot.ssrRemoteEntryType = \"commonjs-module\";\n    }\n    return remoteSnapshot;\n}\nfunction isManifestProvider(moduleInfo) {\n    if (\"remoteEntry\" in moduleInfo && moduleInfo.remoteEntry.includes(MANIFEST_EXT)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function safeWrapper(callback, disableWarn) {\n    try {\n        const res = await callback();\n        return res;\n    } catch (e) {\n        !disableWarn && warn(e);\n        return;\n    }\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    const REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    const relativeUrl1 = url1.replace(REG_EXP, \"\").replace(/\\/$/, \"\");\n    const relativeUrl2 = url2.replace(REG_EXP, \"\").replace(/\\/$/, \"\");\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction createScript(info) {\n    // Retrieve the existing script element by its src attribute\n    let script = null;\n    let needAttach = true;\n    let timeout = 20000;\n    let timeoutId;\n    const scripts = document.getElementsByTagName(\"script\");\n    for(let i = 0; i < scripts.length; i++){\n        const s = scripts[i];\n        const scriptSrc = s.getAttribute(\"src\");\n        if (scriptSrc && isStaticResourcesEqual(scriptSrc, info.url)) {\n            script = s;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!script) {\n        script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = info.url;\n        let createScriptRes = undefined;\n        if (info.createScriptHook) {\n            createScriptRes = info.createScriptHook(info.url, info.attrs);\n            if (createScriptRes instanceof HTMLScriptElement) {\n                script = createScriptRes;\n            } else if (typeof createScriptRes === \"object\") {\n                if (\"script\" in createScriptRes && createScriptRes.script) {\n                    script = createScriptRes.script;\n                }\n                if (\"timeout\" in createScriptRes && createScriptRes.timeout) {\n                    timeout = createScriptRes.timeout;\n                }\n            }\n        }\n        const attrs = info.attrs;\n        if (attrs && !createScriptRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (script) {\n                    if (name === \"async\" || name === \"defer\") {\n                        script[name] = attrs[name];\n                    // Attributes that do not exist are considered overridden\n                    } else if (!script.getAttribute(name)) {\n                        script.setAttribute(name, attrs[name]);\n                    }\n                }\n            });\n        }\n    }\n    const onScriptComplete = async (prev, event)=>{\n        var _info_cb;\n        clearTimeout(timeoutId);\n        // Prevent memory leaks in IE.\n        if (script) {\n            script.onerror = null;\n            script.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteScript = true } = info;\n                if (needDeleteScript) {\n                    (script == null ? void 0 : script.parentNode) && script.parentNode.removeChild(script);\n                }\n            });\n            if (prev && typeof prev === \"function\") {\n                var _info_cb1;\n                const result = prev(event);\n                if (result instanceof Promise) {\n                    var _info_cb2;\n                    const res = await result;\n                    info == null ? void 0 : (_info_cb2 = info.cb) == null ? void 0 : _info_cb2.call(info);\n                    return res;\n                }\n                info == null ? void 0 : (_info_cb1 = info.cb) == null ? void 0 : _info_cb1.call(info);\n                return result;\n            }\n        }\n        info == null ? void 0 : (_info_cb = info.cb) == null ? void 0 : _info_cb.call(info);\n    };\n    script.onerror = onScriptComplete.bind(null, script.onerror);\n    script.onload = onScriptComplete.bind(null, script.onload);\n    timeoutId = setTimeout(()=>{\n        onScriptComplete(null, new Error(`Remote script \"${info.url}\" time-outed.`));\n    }, timeout);\n    return {\n        script,\n        needAttach\n    };\n}\nfunction createLink(info) {\n    // <link rel=\"preload\" href=\"script.js\" as=\"script\">\n    // Retrieve the existing script element by its src attribute\n    let link = null;\n    let needAttach = true;\n    const links = document.getElementsByTagName(\"link\");\n    for(let i = 0; i < links.length; i++){\n        const l = links[i];\n        const linkHref = l.getAttribute(\"href\");\n        const linkRef = l.getAttribute(\"ref\");\n        if (linkHref && isStaticResourcesEqual(linkHref, info.url) && linkRef === info.attrs[\"ref\"]) {\n            link = l;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!link) {\n        link = document.createElement(\"link\");\n        link.setAttribute(\"href\", info.url);\n        let createLinkRes = undefined;\n        const attrs = info.attrs;\n        if (info.createLinkHook) {\n            createLinkRes = info.createLinkHook(info.url, attrs);\n            if (createLinkRes instanceof HTMLLinkElement) {\n                link = createLinkRes;\n            }\n        }\n        if (attrs && !createLinkRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (link && !link.getAttribute(name)) {\n                    link.setAttribute(name, attrs[name]);\n                }\n            });\n        }\n    }\n    const onLinkComplete = (prev, event)=>{\n        // Prevent memory leaks in IE.\n        if (link) {\n            link.onerror = null;\n            link.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteLink = true } = info;\n                if (needDeleteLink) {\n                    (link == null ? void 0 : link.parentNode) && link.parentNode.removeChild(link);\n                }\n            });\n            if (prev) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const res = prev(event);\n                info.cb();\n                return res;\n            }\n        }\n        info.cb();\n    };\n    link.onerror = onLinkComplete.bind(null, link.onerror);\n    link.onload = onLinkComplete.bind(null, link.onload);\n    return {\n        link,\n        needAttach\n    };\n}\nfunction loadScript(url, info) {\n    const { attrs = {}, createScriptHook } = info;\n    return new Promise((resolve, _reject)=>{\n        const { script, needAttach } = createScript({\n            url,\n            cb: resolve,\n            attrs: (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({\n                fetchpriority: \"high\"\n            }, attrs),\n            createScriptHook,\n            needDeleteScript: true\n        });\n        needAttach && document.head.appendChild(script);\n    });\n}\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error(\"import specifier is required\");\n    }\n    const importModule = new Function(\"name\", `return import(name)`);\n    return importModule(name).then((res)=>res).catch((error)=>{\n        console.error(`Error importing module ${name}:`, error);\n        throw error;\n    });\n}\nconst loadNodeFetch = async ()=>{\n    const fetchModule = await importNodeModule(\"node-fetch\");\n    return fetchModule.default || fetchModule;\n};\nconst lazyLoaderHookFetch = async (input, init)=>{\n    // @ts-ignore\n    const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n    const hook = (url, init)=>{\n        return loaderHooks.lifecycle.fetch.emit(url, init);\n    };\n    const res = await hook(input, init || {});\n    if (!res || !(res instanceof Response)) {\n        const fetchFunction = typeof fetch === \"undefined\" ? await loadNodeFetch() : fetch;\n        return fetchFunction(input, init || {});\n    }\n    return res;\n};\nfunction createScriptNode(url, cb, attrs, createScriptHook) {\n    if (createScriptHook) {\n        const hookResult = createScriptHook(url);\n        if (hookResult && typeof hookResult === \"object\" && \"url\" in hookResult) {\n            url = hookResult.url;\n        }\n    }\n    let urlObj;\n    try {\n        urlObj = new URL(url);\n    } catch (e) {\n        console.error(\"Error constructing URL:\", e);\n        cb(new Error(`Invalid URL: ${e}`));\n        return;\n    }\n    const getFetch = async ()=>{\n        //@ts-ignore\n        if (true) {\n            try {\n                //@ts-ignore\n                const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n                if (loaderHooks.lifecycle.fetch) {\n                    return lazyLoaderHookFetch;\n                }\n            } catch (e) {\n                console.warn(\"federation.instance.loaderHook.lifecycle.fetch failed:\", e);\n            }\n        }\n        return typeof fetch === \"undefined\" ? loadNodeFetch() : fetch;\n    };\n    const handleScriptFetch = async (f, urlObj)=>{\n        try {\n            const res = await f(urlObj.href);\n            const data = await res.text();\n            const [path, vm] = await Promise.all([\n                importNodeModule(\"path\"),\n                importNodeModule(\"vm\")\n            ]);\n            const scriptContext = {\n                exports: {},\n                module: {\n                    exports: {}\n                }\n            };\n            const urlDirname = urlObj.pathname.split(\"/\").slice(0, -1).join(\"/\");\n            const filename = \"dl_\" + path.basename(urlObj.pathname);\n            //@ts-ignore\n            const fs = require(\"fs\");\n            fs.writeFileSync(filename, data);\n            //@ts-ignore\n            const exportedInterface = require(\"./\" + filename);\n            // const script = new vm.Script(\n            //   `(function(exports, module, require, __dirname, __filename) {${data}\\n})`,\n            //   {\n            //     filename,\n            //     importModuleDynamically:\n            //       vm.constants?.USE_MAIN_CONTEXT_DEFAULT_LOADER ?? importNodeModule,\n            //   },\n            // );\n            //\n            // script.runInThisContext()(\n            //   scriptContext.exports,\n            //   scriptContext.module,\n            //   eval('require'),\n            //   urlDirname,\n            //   filename,\n            // );\n            //\n            // const exportedInterface: Record<string, any> =\n            //   scriptContext.module.exports || scriptContext.exports;\n            debugger;\n            if (attrs && exportedInterface && attrs[\"globalName\"]) {\n                const container = exportedInterface[attrs[\"globalName\"]] || exportedInterface;\n                cb(undefined, container);\n                return;\n            }\n            cb(undefined, exportedInterface);\n        } catch (e) {\n            cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n        }\n    };\n    getFetch().then((f)=>handleScriptFetch(f, urlObj)).catch((err)=>{\n        cb(err);\n    });\n}\nfunction loadScriptNode(url, info) {\n    return new Promise((resolve, reject)=>{\n        createScriptNode(url, (error, scriptContext)=>{\n            if (error) {\n                reject(error);\n            } else {\n                var _info_attrs, _info_attrs1;\n                const remoteEntryKey = (info == null ? void 0 : (_info_attrs = info.attrs) == null ? void 0 : _info_attrs[\"globalName\"]) || `__FEDERATION_${info == null ? void 0 : (_info_attrs1 = info.attrs) == null ? void 0 : _info_attrs1[\"name\"]}:custom__`;\n                const entryExports = globalThis[remoteEntryKey] = scriptContext;\n                resolve(entryExports);\n            }\n        }, info.attrs, info.createScriptHook);\n    });\n}\nfunction normalizeOptions(enableDefault, defaultOptions, key) {\n    return function(options) {\n        if (options === false) {\n            return false;\n        }\n        if (typeof options === \"undefined\") {\n            if (enableDefault) {\n                return defaultOptions;\n            } else {\n                return false;\n            }\n        }\n        if (options === true) {\n            return defaultOptions;\n        }\n        if (options && typeof options === \"object\") {\n            return (0,_polyfills_esm_js__WEBPACK_IMPORTED_MODULE_0__._)({}, defaultOptions, options);\n        }\n        throw new Error(`Unexpected type for \\`${key}\\`, expect boolean/undefined/object, got: ${typeof options}`);\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO1FBQ1g7UUFDQSxJQUFJLE9BQU9BLFlBQVksYUFBYTtZQUNoQyxJQUFJb0ssZUFBZTtnQkFDZixPQUFPQztZQUNYLE9BQU87Z0JBQ0gsT0FBTztZQUNYO1FBQ0o7UUFDQSxJQUFJckssWUFBWSxNQUFNO1lBQ2xCLE9BQU9xSztRQUNYO1FBQ0EsSUFBSXJLLFdBQVcsT0FBT0EsWUFBWSxVQUFVO1lBQ3hDLE9BQU9ySCxvREFBUUEsQ0FBQyxDQUFDLEdBQUcwUixnQkFBZ0JySztRQUN4QztRQUNBLE1BQU0sSUFBSWYsTUFBTSxDQUFDLHNCQUFzQixFQUFFK0IsSUFBSSwwQ0FBMEMsRUFBRSxPQUFPaEIsUUFBUSxDQUFDO0lBQzdHO0FBQ0o7QUFFdTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vLi4vcGFja2FnZXMvc2RrL2Rpc3QvaW5kZXguZXNtLmpzPzcwYWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfZXh0ZW5kcyB9IGZyb20gJy4vcG9seWZpbGxzLmVzbS5qcyc7XG5cbmNvbnN0IEZlZGVyYXRpb25Nb2R1bGVNYW5pZmVzdCA9ICdmZWRlcmF0aW9uLW1hbmlmZXN0Lmpzb24nO1xuY29uc3QgTUFOSUZFU1RfRVhUID0gJy5qc29uJztcbmNvbnN0IEJST1dTRVJfTE9HX0tFWSA9ICdGRURFUkFUSU9OX0RFQlVHJztcbmNvbnN0IEJST1dTRVJfTE9HX1ZBTFVFID0gJzEnO1xuY29uc3QgTmFtZVRyYW5zZm9ybVN5bWJvbCA9IHtcbiAgICBBVDogJ0AnLFxuICAgIEhZUEhFTjogJy0nLFxuICAgIFNMQVNIOiAnLydcbn07XG5jb25zdCBOYW1lVHJhbnNmb3JtTWFwID0ge1xuICAgIFtOYW1lVHJhbnNmb3JtU3ltYm9sLkFUXTogJ3Njb3BlXycsXG4gICAgW05hbWVUcmFuc2Zvcm1TeW1ib2wuSFlQSEVOXTogJ18nLFxuICAgIFtOYW1lVHJhbnNmb3JtU3ltYm9sLlNMQVNIXTogJ19fJ1xufTtcbmNvbnN0IEVuY29kZWROYW1lVHJhbnNmb3JtTWFwID0ge1xuICAgIFtOYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1TeW1ib2wuQVRdXTogTmFtZVRyYW5zZm9ybVN5bWJvbC5BVCxcbiAgICBbTmFtZVRyYW5zZm9ybU1hcFtOYW1lVHJhbnNmb3JtU3ltYm9sLkhZUEhFTl1dOiBOYW1lVHJhbnNmb3JtU3ltYm9sLkhZUEhFTixcbiAgICBbTmFtZVRyYW5zZm9ybU1hcFtOYW1lVHJhbnNmb3JtU3ltYm9sLlNMQVNIXV06IE5hbWVUcmFuc2Zvcm1TeW1ib2wuU0xBU0hcbn07XG5jb25zdCBTRVBBUkFUT1IgPSAnOic7XG5jb25zdCBNYW5pZmVzdEZpbGVOYW1lID0gJ21mLW1hbmlmZXN0Lmpzb24nO1xuY29uc3QgU3RhdHNGaWxlTmFtZSA9ICdtZi1zdGF0cy5qc29uJztcbmNvbnN0IE1GTW9kdWxlVHlwZSA9IHtcbiAgICBOUE06ICducG0nLFxuICAgIEFQUDogJ2FwcCdcbn07XG5jb25zdCBNT0RVTEVfREVWVE9PTF9JREVOVElGSUVSID0gJ19fTUZfREVWVE9PTFNfTU9EVUxFX0lORk9fXyc7XG5jb25zdCBFTkNPREVfTkFNRV9QUkVGSVggPSAnRU5DT0RFX05BTUVfUFJFRklYJztcbmNvbnN0IFRFTVBfRElSID0gJy5mZWRlcmF0aW9uJztcblxudmFyIENvbnRhaW5lclBsdWdpbiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsXG59KTtcblxudmFyIENvbnRhaW5lclJlZmVyZW5jZVBsdWdpbiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsXG59KTtcblxudmFyIE1vZHVsZUZlZGVyYXRpb25QbHVnaW4gPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbFxufSk7XG5cbnZhciBTaGFyZVBsdWdpbiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsXG59KTtcblxuZnVuY3Rpb24gaXNCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbn1cbmZ1bmN0aW9uIGlzRGVidWdNb2RlKCkge1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnZbJ0ZFREVSQVRJT05fREVCVUcnXSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihwcm9jZXNzLmVudlsnRkVERVJBVElPTl9ERUJVRyddKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBGRURFUkFUSU9OX0RFQlVHICE9PSAndW5kZWZpbmVkJyAmJiBCb29sZWFuKEZFREVSQVRJT05fREVCVUcpO1xufVxuY29uc3QgZ2V0UHJvY2Vzc0VudiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYgPyBwcm9jZXNzLmVudiA6IHt9O1xufTtcblxuY29uc3QgREVCVUdfTE9HID0gJ1sgRkVERVJBVElPTiBERUJVRyBdJztcbmZ1bmN0aW9uIHNhZmVHZXRMb2NhbFN0b3JhZ2VJdGVtKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQlJPV1NFUl9MT0dfS0VZKSA9PT0gQlJPV1NFUl9MT0dfVkFMVUU7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxubGV0IExvZ2dlciA9IGNsYXNzIExvZ2dlciB7XG4gICAgaW5mbyhtc2csIGluZm8pIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzVG9TdHJpbmcgPSBzYWZlVG9TdHJpbmcoaW5mbykgfHwgJyc7XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyRW52KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oYCVjICR7dGhpcy5pZGVudGlmaWVyfTogJHttc2d9ICR7YXJnc1RvU3RyaW5nfWAsICdjb2xvcjojMzMwMENDJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnXFx4MWJbMzRtJXMnLCBgJHt0aGlzLmlkZW50aWZpZXJ9OiAke21zZ30gJHthcmdzVG9TdHJpbmcgPyBgXFxuJHthcmdzVG9TdHJpbmd9YCA6ICcnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxvZ09yaWdpbmFsSW5mbyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKGlzQnJvd3NlckVudigpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGAlYyAke3RoaXMuaWRlbnRpZmllcn06IE9yaWdpbmFsSW5mb2AsICdjb2xvcjojMzMwMENDJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhgJWMgJHt0aGlzLmlkZW50aWZpZXJ9OiBPcmlnaW5hbEluZm9gLCAnY29sb3I6IzMzMDBDQycpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlkZW50aWZpZXIpe1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyIHx8IERFQlVHX0xPRztcbiAgICAgICAgaWYgKGlzQnJvd3NlckVudigpICYmIHNhZmVHZXRMb2NhbFN0b3JhZ2VJdGVtKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlYnVnTW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBMT0dfQ0FURUdPUlkgPSAnWyBGZWRlcmF0aW9uIFJ1bnRpbWUgXSc7XG4vLyBlbnRyeTogbmFtZTp2ZXJzaW9uICAgdmVyc2lvbiA6IDEuMC4wIHwgXjEuMi4zXG4vLyBlbnRyeTogbmFtZTplbnRyeSAgZW50cnk6ICBodHRwczovL2xvY2FsaG9zdDo5MDAwL2ZlZGVyYXRpb24tbWFuaWZlc3QuanNvblxuY29uc3QgcGFyc2VFbnRyeSA9IChzdHIsIGRldlZlck9yVXJsLCBzZXBhcmF0b3IgPSBTRVBBUkFUT1IpPT57XG4gICAgY29uc3Qgc3RyU3BsaXQgPSBzdHIuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICBjb25zdCBkZXZWZXJzaW9uT3JVcmwgPSBnZXRQcm9jZXNzRW52KClbJ05PREVfRU5WJ10gPT09ICdkZXZlbG9wbWVudCcgJiYgZGV2VmVyT3JVcmw7XG4gICAgY29uc3QgZGVmYXVsdFZlcnNpb24gPSAnKic7XG4gICAgY29uc3QgaXNFbnRyeSA9IChzKT0+cy5zdGFydHNXaXRoKCdodHRwJykgfHwgcy5pbmNsdWRlcyhNQU5JRkVTVF9FWFQpO1xuICAgIC8vIENoZWNrIGlmIHRoZSBzdHJpbmcgc3RhcnRzIHdpdGggYSB0eXBlXG4gICAgaWYgKHN0clNwbGl0Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIGxldCBbbmFtZSwgLi4udmVyc2lvbk9yRW50cnlBcnJdID0gc3RyU3BsaXQ7XG4gICAgICAgIGlmIChzdHIuc3RhcnRzV2l0aChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgICB2ZXJzaW9uT3JFbnRyeUFyciA9IFtcbiAgICAgICAgICAgICAgICBkZXZWZXJzaW9uT3JVcmwgfHwgc3RyU3BsaXQuc2xpY2UoLTEpWzBdXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgbmFtZSA9IHN0clNwbGl0LnNsaWNlKDAsIC0xKS5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZlcnNpb25PckVudHJ5ID0gZGV2VmVyc2lvbk9yVXJsIHx8IHZlcnNpb25PckVudHJ5QXJyLmpvaW4oc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGlzRW50cnkodmVyc2lvbk9yRW50cnkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgZW50cnk6IHZlcnNpb25PckVudHJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQXBwbHkgdmVyc2lvbiBydWxlXG4gICAgICAgICAgICAvLyBkZXZWZXJzaW9uT3JVcmwgPT4gaW5wdXRWZXJzaW9uID0+IGRlZmF1bHRWZXJzaW9uXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbk9yRW50cnkgfHwgZGVmYXVsdFZlcnNpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0clNwbGl0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBbbmFtZV0gPSBzdHJTcGxpdDtcbiAgICAgICAgaWYgKGRldlZlcnNpb25PclVybCAmJiBpc0VudHJ5KGRldlZlcnNpb25PclVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBlbnRyeTogZGV2VmVyc2lvbk9yVXJsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmVyc2lvbjogZGV2VmVyc2lvbk9yVXJsIHx8IGRlZmF1bHRWZXJzaW9uXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgYEludmFsaWQgZW50cnkgdmFsdWU6ICR7c3RyfWA7XG4gICAgfVxufTtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbmNvbnN0IGNvbXBvc2VLZXlXaXRoU2VwYXJhdG9yID0gIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKChzdW0sIGN1cik9PntcbiAgICAgICAgaWYgKCFjdXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdW0pIHtcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke3N1bX0ke1NFUEFSQVRPUn0ke2N1cn1gO1xuICAgIH0sICcnKTtcbn07XG5jb25zdCBlbmNvZGVOYW1lID0gIGZ1bmN0aW9uKG5hbWUsIHByZWZpeCA9ICcnLCB3aXRoRXh0ID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBleHQgPSB3aXRoRXh0ID8gJy5qcycgOiAnJztcbiAgICAgICAgcmV0dXJuIGAke3ByZWZpeH0ke25hbWUucmVwbGFjZShuZXcgUmVnRXhwKGAke05hbWVUcmFuc2Zvcm1TeW1ib2wuQVR9YCwgJ2cnKSwgTmFtZVRyYW5zZm9ybU1hcFtOYW1lVHJhbnNmb3JtU3ltYm9sLkFUXSkucmVwbGFjZShuZXcgUmVnRXhwKGAke05hbWVUcmFuc2Zvcm1TeW1ib2wuSFlQSEVOfWAsICdnJyksIE5hbWVUcmFuc2Zvcm1NYXBbTmFtZVRyYW5zZm9ybVN5bWJvbC5IWVBIRU5dKS5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7TmFtZVRyYW5zZm9ybVN5bWJvbC5TTEFTSH1gLCAnZycpLCBOYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1TeW1ib2wuU0xBU0hdKX0ke2V4dH1gO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxufTtcbmNvbnN0IGRlY29kZU5hbWUgPSAgZnVuY3Rpb24obmFtZSwgcHJlZml4LCB3aXRoRXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRlY29kZWROYW1lID0gbmFtZTtcbiAgICAgICAgaWYgKHByZWZpeCkge1xuICAgICAgICAgICAgaWYgKCFkZWNvZGVkTmFtZS5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlZE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNvZGVkTmFtZSA9IGRlY29kZWROYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChwcmVmaXgsICdnJyksICcnKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVkTmFtZSA9IGRlY29kZWROYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChgJHtOYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1TeW1ib2wuQVRdfWAsICdnJyksIEVuY29kZWROYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1NYXBbTmFtZVRyYW5zZm9ybVN5bWJvbC5BVF1dKS5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7TmFtZVRyYW5zZm9ybU1hcFtOYW1lVHJhbnNmb3JtU3ltYm9sLlNMQVNIXX1gLCAnZycpLCBFbmNvZGVkTmFtZVRyYW5zZm9ybU1hcFtOYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1TeW1ib2wuU0xBU0hdXSkucmVwbGFjZShuZXcgUmVnRXhwKGAke05hbWVUcmFuc2Zvcm1NYXBbTmFtZVRyYW5zZm9ybVN5bWJvbC5IWVBIRU5dfWAsICdnJyksIEVuY29kZWROYW1lVHJhbnNmb3JtTWFwW05hbWVUcmFuc2Zvcm1NYXBbTmFtZVRyYW5zZm9ybVN5bWJvbC5IWVBIRU5dXSk7XG4gICAgICAgIGlmICh3aXRoRXh0KSB7XG4gICAgICAgICAgICBkZWNvZGVkTmFtZSA9IGRlY29kZWROYW1lLnJlcGxhY2UoJy5qcycsICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjb2RlZE5hbWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59O1xuY29uc3QgZ2VuZXJhdGVFeHBvc2VGaWxlbmFtZSA9ICAoZXhwb3NlTmFtZSwgd2l0aEV4dCk9PntcbiAgICBpZiAoIWV4cG9zZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBsZXQgZXhwb3NlID0gZXhwb3NlTmFtZTtcbiAgICBpZiAoZXhwb3NlID09PSAnLicpIHtcbiAgICAgICAgZXhwb3NlID0gJ2RlZmF1bHRfZXhwb3J0JztcbiAgICB9XG4gICAgaWYgKGV4cG9zZS5zdGFydHNXaXRoKCcuLycpKSB7XG4gICAgICAgIGV4cG9zZSA9IGV4cG9zZS5yZXBsYWNlKCcuLycsICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZU5hbWUoZXhwb3NlLCAnX19mZWRlcmF0aW9uX2V4cG9zZV8nLCB3aXRoRXh0KTtcbn07XG5jb25zdCBnZW5lcmF0ZVNoYXJlRmlsZW5hbWUgPSAgKHBrZ05hbWUsIHdpdGhFeHQpPT57XG4gICAgaWYgKCFwa2dOYW1lKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZU5hbWUocGtnTmFtZSwgJ19fZmVkZXJhdGlvbl9zaGFyZWRfJywgd2l0aEV4dCk7XG59O1xuY29uc3QgZ2V0UmVzb3VyY2VVcmwgPSAobW9kdWxlLCBzb3VyY2VVcmwpPT57XG4gICAgaWYgKCdnZXRQdWJsaWNQYXRoJyBpbiBtb2R1bGUpIHtcbiAgICAgICAgbGV0IHB1YmxpY1BhdGg7XG4gICAgICAgIGlmICghbW9kdWxlLmdldFB1YmxpY1BhdGguc3RhcnRzV2l0aCgnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgcHVibGljUGF0aCA9IG5ldyBGdW5jdGlvbihtb2R1bGUuZ2V0UHVibGljUGF0aCkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHB1YmxpY1BhdGggPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnICsgbW9kdWxlLmdldFB1YmxpY1BhdGgpKCkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7cHVibGljUGF0aH0ke3NvdXJjZVVybH1gO1xuICAgIH0gZWxzZSBpZiAoJ3B1YmxpY1BhdGgnIGluIG1vZHVsZSkge1xuICAgICAgICByZXR1cm4gYCR7bW9kdWxlLnB1YmxpY1BhdGh9JHtzb3VyY2VVcmx9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBnZXQgcmVzb3VyY2UgVVJMLiBJZiBpbiBkZWJ1ZyBtb2RlLCBwbGVhc2UgaWdub3JlLicsIG1vZHVsZSwgc291cmNlVXJsKTtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn07XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuY29uc3QgYXNzZXJ0ID0gKGNvbmRpdGlvbiwgbXNnKT0+e1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIGVycm9yKG1zZyk7XG4gICAgfVxufTtcbmNvbnN0IGVycm9yID0gKG1zZyk9PntcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7TE9HX0NBVEVHT1JZfTogJHttc2d9YCk7XG59O1xuY29uc3Qgd2FybiA9IChtc2cpPT57XG4gICAgY29uc29sZS53YXJuKGAke0xPR19DQVRFR09SWX06ICR7bXNnfWApO1xufTtcbmZ1bmN0aW9uIHNhZmVUb1N0cmluZyhpbmZvKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGluZm8sIG51bGwsIDIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cblxuY29uc3Qgc2ltcGxlSm9pblJlbW90ZUVudHJ5ID0gKHJQYXRoLCByTmFtZSk9PntcbiAgICBpZiAoIXJQYXRoKSB7XG4gICAgICAgIHJldHVybiByTmFtZTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtUGF0aCA9IChzdHIpPT57XG4gICAgICAgIGlmIChzdHIgPT09ICcuJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHIuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKCcuLycsICcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyV2l0aG91dFNsYXNoID0gc3RyLnNsaWNlKDEpO1xuICAgICAgICAgICAgaWYgKHN0cldpdGhvdXRTbGFzaC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRTbGFzaC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyV2l0aG91dFNsYXNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFBhdGggPSB0cmFuc2Zvcm1QYXRoKHJQYXRoKTtcbiAgICBpZiAoIXRyYW5zZm9ybWVkUGF0aCkge1xuICAgICAgICByZXR1cm4gck5hbWU7XG4gICAgfVxuICAgIGlmICh0cmFuc2Zvcm1lZFBhdGguZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICByZXR1cm4gYCR7dHJhbnNmb3JtZWRQYXRofSR7ck5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3RyYW5zZm9ybWVkUGF0aH0vJHtyTmFtZX1gO1xufTtcbmZ1bmN0aW9uIGluZmVyQXV0b1B1YmxpY1BhdGgodXJsKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC8jLiokLywgJycpLnJlcGxhY2UoL1xcPy4qJC8sICcnKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sICcvJyk7XG59XG4vLyBQcmlvcml0eTogb3ZlcnJpZGVzID4gcmVtb3Rlc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1saW5lcy1wZXItZnVuY3Rpb25cbmZ1bmN0aW9uIGdlbmVyYXRlU25hcHNob3RGcm9tTWFuaWZlc3QobWFuaWZlc3QsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfbWFuaWZlc3RfbWV0YURhdGEsIF9tYW5pZmVzdF9tZXRhRGF0YTE7XG4gICAgY29uc3QgeyByZW1vdGVzID0ge30sIG92ZXJyaWRlcyA9IHt9LCB2ZXJzaW9uIH0gPSBvcHRpb25zO1xuICAgIGxldCByZW1vdGVTbmFwc2hvdDtcbiAgICBjb25zdCBnZXRQdWJsaWNQYXRoID0gKCk9PntcbiAgICAgICAgaWYgKCdwdWJsaWNQYXRoJyBpbiBtYW5pZmVzdC5tZXRhRGF0YSkge1xuICAgICAgICAgICAgaWYgKG1hbmlmZXN0Lm1ldGFEYXRhLnB1YmxpY1BhdGggPT09ICdhdXRvJyAmJiB2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gdXNlIHNhbWUgaW1wbGVtZW50YXRpb24gYXMgcHVibGljUGF0aCBhdXRvIHJ1bnRpbWUgbW9kdWxlIGltcGxlbWVudHNcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5mZXJBdXRvUHVibGljUGF0aCh2ZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYW5pZmVzdC5tZXRhRGF0YS5wdWJsaWNQYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1hbmlmZXN0Lm1ldGFEYXRhLmdldFB1YmxpY1BhdGg7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG92ZXJyaWRlc0tleXMgPSBPYmplY3Qua2V5cyhvdmVycmlkZXMpO1xuICAgIGxldCByZW1vdGVzSW5mbyA9IHt9O1xuICAgIC8vIElmIHJlbW90ZXMgYXJlIG5vdCBwcm92aWRlZCwgb25seSB0aGUgcmVtb3RlcyBpbiB0aGUgbWFuaWZlc3Qgd2lsbCBiZSByZWFkXG4gICAgaWYgKCFPYmplY3Qua2V5cyhyZW1vdGVzKS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIF9tYW5pZmVzdF9yZW1vdGVzO1xuICAgICAgICByZW1vdGVzSW5mbyA9ICgoX21hbmlmZXN0X3JlbW90ZXMgPSBtYW5pZmVzdC5yZW1vdGVzKSA9PSBudWxsID8gdm9pZCAwIDogX21hbmlmZXN0X3JlbW90ZXMucmVkdWNlKChyZXMsIG5leHQpPT57XG4gICAgICAgICAgICBsZXQgbWF0Y2hlZFZlcnNpb247XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbmV4dC5mZWRlcmF0aW9uQ29udGFpbmVyTmFtZTtcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlcyBoYXZlIGhpZ2hlciBwcmlvcml0eVxuICAgICAgICAgICAgaWYgKG92ZXJyaWRlc0tleXMuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkVmVyc2lvbiA9IG92ZXJyaWRlc1tuYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCd2ZXJzaW9uJyBpbiBuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRWZXJzaW9uID0gbmV4dC52ZXJzaW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRWZXJzaW9uID0gbmV4dC5lbnRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZFZlcnNpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LCB7fSkpIHx8IHt9O1xuICAgIH1cbiAgICAvLyBJZiByZW1vdGVzIChkZXBsb3kgc2NlbmFyaW8pIGFyZSBzcGVjaWZpZWQsIHRoZXkgbmVlZCB0byBiZSB0cmF2ZXJzZWQgYWdhaW5cbiAgICBPYmplY3Qua2V5cyhyZW1vdGVzKS5mb3JFYWNoKChrZXkpPT5yZW1vdGVzSW5mb1trZXldID0ge1xuICAgICAgICAgICAgLy8gb3ZlcnJpZGVzIHdpbGwgb3ZlcnJpZGUgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICBtYXRjaGVkVmVyc2lvbjogb3ZlcnJpZGVzS2V5cy5pbmNsdWRlcyhrZXkpID8gb3ZlcnJpZGVzW2tleV0gOiByZW1vdGVzW2tleV1cbiAgICAgICAgfSk7XG4gICAgY29uc3QgeyByZW1vdGVFbnRyeTogeyBwYXRoOiByZW1vdGVFbnRyeVBhdGgsIG5hbWU6IHJlbW90ZUVudHJ5TmFtZSwgdHlwZTogcmVtb3RlRW50cnlUeXBlIH0sIHR5cGVzOiByZW1vdGVUeXBlcywgYnVpbGRJbmZvOiB7IGJ1aWxkVmVyc2lvbiB9LCBnbG9iYWxOYW1lLCBzc3JSZW1vdGVFbnRyeSB9ID0gbWFuaWZlc3QubWV0YURhdGE7XG4gICAgY29uc3QgeyBleHBvc2VzIH0gPSBtYW5pZmVzdDtcbiAgICBsZXQgYmFzaWNSZW1vdGVTbmFwc2hvdCA9IHtcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvbiA/IHZlcnNpb24gOiAnJyxcbiAgICAgICAgYnVpbGRWZXJzaW9uLFxuICAgICAgICBnbG9iYWxOYW1lLFxuICAgICAgICByZW1vdGVFbnRyeTogc2ltcGxlSm9pblJlbW90ZUVudHJ5KHJlbW90ZUVudHJ5UGF0aCwgcmVtb3RlRW50cnlOYW1lKSxcbiAgICAgICAgcmVtb3RlRW50cnlUeXBlLFxuICAgICAgICByZW1vdGVUeXBlczogc2ltcGxlSm9pblJlbW90ZUVudHJ5KHJlbW90ZVR5cGVzLnBhdGgsIHJlbW90ZVR5cGVzLm5hbWUpLFxuICAgICAgICByZW1vdGVUeXBlc1ppcDogcmVtb3RlVHlwZXMuemlwIHx8ICcnLFxuICAgICAgICByZW1vdGVUeXBlc0FQSTogcmVtb3RlVHlwZXMuYXBpIHx8ICcnLFxuICAgICAgICByZW1vdGVzSW5mbyxcbiAgICAgICAgc2hhcmVkOiBtYW5pZmVzdCA9PSBudWxsID8gdm9pZCAwIDogbWFuaWZlc3Quc2hhcmVkLm1hcCgoaXRlbSk9Pih7XG4gICAgICAgICAgICAgICAgYXNzZXRzOiBpdGVtLmFzc2V0cyxcbiAgICAgICAgICAgICAgICBzaGFyZWROYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogaXRlbS52ZXJzaW9uXG4gICAgICAgICAgICB9KSksXG4gICAgICAgIG1vZHVsZXM6IGV4cG9zZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4cG9zZXMubWFwKChleHBvc2UpPT4oe1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IGV4cG9zZS5uYW1lLFxuICAgICAgICAgICAgICAgIG1vZHVsZVBhdGg6IGV4cG9zZS5wYXRoLFxuICAgICAgICAgICAgICAgIGFzc2V0czogZXhwb3NlLmFzc2V0c1xuICAgICAgICAgICAgfSkpXG4gICAgfTtcbiAgICBpZiAoKF9tYW5pZmVzdF9tZXRhRGF0YSA9IG1hbmlmZXN0Lm1ldGFEYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX21hbmlmZXN0X21ldGFEYXRhLnByZWZldGNoSW50ZXJmYWNlKSB7XG4gICAgICAgIGNvbnN0IHByZWZldGNoSW50ZXJmYWNlID0gbWFuaWZlc3QubWV0YURhdGEucHJlZmV0Y2hJbnRlcmZhY2U7XG4gICAgICAgIGJhc2ljUmVtb3RlU25hcHNob3QgPSBfZXh0ZW5kcyh7fSwgYmFzaWNSZW1vdGVTbmFwc2hvdCwge1xuICAgICAgICAgICAgcHJlZmV0Y2hJbnRlcmZhY2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgoX21hbmlmZXN0X21ldGFEYXRhMSA9IG1hbmlmZXN0Lm1ldGFEYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX21hbmlmZXN0X21ldGFEYXRhMS5wcmVmZXRjaEVudHJ5KSB7XG4gICAgICAgIGNvbnN0IHsgcGF0aCwgbmFtZSwgdHlwZSB9ID0gbWFuaWZlc3QubWV0YURhdGEucHJlZmV0Y2hFbnRyeTtcbiAgICAgICAgYmFzaWNSZW1vdGVTbmFwc2hvdCA9IF9leHRlbmRzKHt9LCBiYXNpY1JlbW90ZVNuYXBzaG90LCB7XG4gICAgICAgICAgICBwcmVmZXRjaEVudHJ5OiBzaW1wbGVKb2luUmVtb3RlRW50cnkocGF0aCwgbmFtZSksXG4gICAgICAgICAgICBwcmVmZXRjaEVudHJ5VHlwZTogdHlwZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCdwdWJsaWNQYXRoJyBpbiBtYW5pZmVzdC5tZXRhRGF0YSkge1xuICAgICAgICByZW1vdGVTbmFwc2hvdCA9IF9leHRlbmRzKHt9LCBiYXNpY1JlbW90ZVNuYXBzaG90LCB7XG4gICAgICAgICAgICBwdWJsaWNQYXRoOiBnZXRQdWJsaWNQYXRoKClcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3RlU25hcHNob3QgPSBfZXh0ZW5kcyh7fSwgYmFzaWNSZW1vdGVTbmFwc2hvdCwge1xuICAgICAgICAgICAgZ2V0UHVibGljUGF0aDogZ2V0UHVibGljUGF0aCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3NyUmVtb3RlRW50cnkpIHtcbiAgICAgICAgY29uc3QgZnVsbFNTUlJlbW90ZUVudHJ5ID0gc2ltcGxlSm9pblJlbW90ZUVudHJ5KHNzclJlbW90ZUVudHJ5LnBhdGgsIHNzclJlbW90ZUVudHJ5Lm5hbWUpO1xuICAgICAgICByZW1vdGVTbmFwc2hvdC5zc3JSZW1vdGVFbnRyeSA9IGZ1bGxTU1JSZW1vdGVFbnRyeTtcbiAgICAgICAgcmVtb3RlU25hcHNob3Quc3NyUmVtb3RlRW50cnlUeXBlID0gJ2NvbW1vbmpzLW1vZHVsZSc7XG4gICAgfVxuICAgIHJldHVybiByZW1vdGVTbmFwc2hvdDtcbn1cbmZ1bmN0aW9uIGlzTWFuaWZlc3RQcm92aWRlcihtb2R1bGVJbmZvKSB7XG4gICAgaWYgKCdyZW1vdGVFbnRyeScgaW4gbW9kdWxlSW5mbyAmJiBtb2R1bGVJbmZvLnJlbW90ZUVudHJ5LmluY2x1ZGVzKE1BTklGRVNUX0VYVCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmFzeW5jIGZ1bmN0aW9uIHNhZmVXcmFwcGVyKGNhbGxiYWNrLCBkaXNhYmxlV2Fybikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAhZGlzYWJsZVdhcm4gJiYgd2FybihlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGljUmVzb3VyY2VzRXF1YWwodXJsMSwgdXJsMikge1xuICAgIGNvbnN0IFJFR19FWFAgPSAvXihodHRwcz86KT9cXC9cXC8vaTtcbiAgICAvLyBUcmFuc2Zvcm0gdXJsMSBhbmQgdXJsMiBpbnRvIHJlbGF0aXZlIHBhdGhzXG4gICAgY29uc3QgcmVsYXRpdmVVcmwxID0gdXJsMS5yZXBsYWNlKFJFR19FWFAsICcnKS5yZXBsYWNlKC9cXC8kLywgJycpO1xuICAgIGNvbnN0IHJlbGF0aXZlVXJsMiA9IHVybDIucmVwbGFjZShSRUdfRVhQLCAnJykucmVwbGFjZSgvXFwvJC8sICcnKTtcbiAgICAvLyBDaGVjayBpZiB0aGUgcmVsYXRpdmUgcGF0aHMgYXJlIGlkZW50aWNhbFxuICAgIHJldHVybiByZWxhdGl2ZVVybDEgPT09IHJlbGF0aXZlVXJsMjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNjcmlwdChpbmZvKSB7XG4gICAgLy8gUmV0cmlldmUgdGhlIGV4aXN0aW5nIHNjcmlwdCBlbGVtZW50IGJ5IGl0cyBzcmMgYXR0cmlidXRlXG4gICAgbGV0IHNjcmlwdCA9IG51bGw7XG4gICAgbGV0IG5lZWRBdHRhY2ggPSB0cnVlO1xuICAgIGxldCB0aW1lb3V0ID0gMjAwMDA7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICBjb25zdCBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgcyA9IHNjcmlwdHNbaV07XG4gICAgICAgIGNvbnN0IHNjcmlwdFNyYyA9IHMuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgaWYgKHNjcmlwdFNyYyAmJiBpc1N0YXRpY1Jlc291cmNlc0VxdWFsKHNjcmlwdFNyYywgaW5mby51cmwpKSB7XG4gICAgICAgICAgICBzY3JpcHQgPSBzO1xuICAgICAgICAgICAgbmVlZEF0dGFjaCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzY3JpcHQpIHtcbiAgICAgICAgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBpbmZvLnVybDtcbiAgICAgICAgbGV0IGNyZWF0ZVNjcmlwdFJlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGluZm8uY3JlYXRlU2NyaXB0SG9vaykge1xuICAgICAgICAgICAgY3JlYXRlU2NyaXB0UmVzID0gaW5mby5jcmVhdGVTY3JpcHRIb29rKGluZm8udXJsLCBpbmZvLmF0dHJzKTtcbiAgICAgICAgICAgIGlmIChjcmVhdGVTY3JpcHRSZXMgaW5zdGFuY2VvZiBIVE1MU2NyaXB0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IGNyZWF0ZVNjcmlwdFJlcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNyZWF0ZVNjcmlwdFJlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3NjcmlwdCcgaW4gY3JlYXRlU2NyaXB0UmVzICYmIGNyZWF0ZVNjcmlwdFJlcy5zY3JpcHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0ID0gY3JlYXRlU2NyaXB0UmVzLnNjcmlwdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBjcmVhdGVTY3JpcHRSZXMgJiYgY3JlYXRlU2NyaXB0UmVzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IGNyZWF0ZVNjcmlwdFJlcy50aW1lb3V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRycyA9IGluZm8uYXR0cnM7XG4gICAgICAgIGlmIChhdHRycyAmJiAhY3JlYXRlU2NyaXB0UmVzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaCgobmFtZSk9PntcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnYXN5bmMnIHx8IG5hbWUgPT09ICdkZWZlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFtuYW1lXSA9IGF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGVzIHRoYXQgZG8gbm90IGV4aXN0IGFyZSBjb25zaWRlcmVkIG92ZXJyaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc2NyaXB0LmdldEF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0LnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBvblNjcmlwdENvbXBsZXRlID0gYXN5bmMgKHByZXYsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZXZlbnQpPT57XG4gICAgICAgIHZhciBfaW5mb19jYjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzIGluIElFLlxuICAgICAgICBpZiAoc2NyaXB0KSB7XG4gICAgICAgICAgICBzY3JpcHQub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBzY3JpcHQub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHNhZmVXcmFwcGVyKCgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuZWVkRGVsZXRlU2NyaXB0ID0gdHJ1ZSB9ID0gaW5mbztcbiAgICAgICAgICAgICAgICBpZiAobmVlZERlbGV0ZVNjcmlwdCkge1xuICAgICAgICAgICAgICAgICAgICAoc2NyaXB0ID09IG51bGwgPyB2b2lkIDAgOiBzY3JpcHQucGFyZW50Tm9kZSkgJiYgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwcmV2ICYmIHR5cGVvZiBwcmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pbmZvX2NiMTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBwcmV2KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2luZm9fY2IyO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IChfaW5mb19jYjIgPSBpbmZvLmNiKSA9PSBudWxsID8gdm9pZCAwIDogX2luZm9fY2IyLmNhbGwoaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZm8gPT0gbnVsbCA/IHZvaWQgMCA6IChfaW5mb19jYjEgPSBpbmZvLmNiKSA9PSBudWxsID8gdm9pZCAwIDogX2luZm9fY2IxLmNhbGwoaW5mbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmZvID09IG51bGwgPyB2b2lkIDAgOiAoX2luZm9fY2IgPSBpbmZvLmNiKSA9PSBudWxsID8gdm9pZCAwIDogX2luZm9fY2IuY2FsbChpbmZvKTtcbiAgICB9O1xuICAgIHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcbiAgICBzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgb25TY3JpcHRDb21wbGV0ZShudWxsLCBuZXcgRXJyb3IoYFJlbW90ZSBzY3JpcHQgXCIke2luZm8udXJsfVwiIHRpbWUtb3V0ZWQuYCkpO1xuICAgIH0sIHRpbWVvdXQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjcmlwdCxcbiAgICAgICAgbmVlZEF0dGFjaFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVMaW5rKGluZm8pIHtcbiAgICAvLyA8bGluayByZWw9XCJwcmVsb2FkXCIgaHJlZj1cInNjcmlwdC5qc1wiIGFzPVwic2NyaXB0XCI+XG4gICAgLy8gUmV0cmlldmUgdGhlIGV4aXN0aW5nIHNjcmlwdCBlbGVtZW50IGJ5IGl0cyBzcmMgYXR0cmlidXRlXG4gICAgbGV0IGxpbmsgPSBudWxsO1xuICAgIGxldCBuZWVkQXR0YWNoID0gdHJ1ZTtcbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJyk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgbCA9IGxpbmtzW2ldO1xuICAgICAgICBjb25zdCBsaW5rSHJlZiA9IGwuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIGNvbnN0IGxpbmtSZWYgPSBsLmdldEF0dHJpYnV0ZSgncmVmJyk7XG4gICAgICAgIGlmIChsaW5rSHJlZiAmJiBpc1N0YXRpY1Jlc291cmNlc0VxdWFsKGxpbmtIcmVmLCBpbmZvLnVybCkgJiYgbGlua1JlZiA9PT0gaW5mby5hdHRyc1sncmVmJ10pIHtcbiAgICAgICAgICAgIGxpbmsgPSBsO1xuICAgICAgICAgICAgbmVlZEF0dGFjaCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFsaW5rKSB7XG4gICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgaW5mby51cmwpO1xuICAgICAgICBsZXQgY3JlYXRlTGlua1JlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBpbmZvLmF0dHJzO1xuICAgICAgICBpZiAoaW5mby5jcmVhdGVMaW5rSG9vaykge1xuICAgICAgICAgICAgY3JlYXRlTGlua1JlcyA9IGluZm8uY3JlYXRlTGlua0hvb2soaW5mby51cmwsIGF0dHJzKTtcbiAgICAgICAgICAgIGlmIChjcmVhdGVMaW5rUmVzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGluayA9IGNyZWF0ZUxpbmtSZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJzICYmICFjcmVhdGVMaW5rUmVzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaCgobmFtZSk9PntcbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiAhbGluay5nZXRBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cnNbbmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG9uTGlua0NvbXBsZXRlID0gKHByZXYsIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZXZlbnQpPT57XG4gICAgICAgIC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzIGluIElFLlxuICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgbGluay5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGxpbmsub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHNhZmVXcmFwcGVyKCgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuZWVkRGVsZXRlTGluayA9IHRydWUgfSA9IGluZm87XG4gICAgICAgICAgICAgICAgaWYgKG5lZWREZWxldGVMaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIChsaW5rID09IG51bGwgPyB2b2lkIDAgOiBsaW5rLnBhcmVudE5vZGUpICYmIGxpbmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBwcmV2KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpbmZvLmNiKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmZvLmNiKCk7XG4gICAgfTtcbiAgICBsaW5rLm9uZXJyb3IgPSBvbkxpbmtDb21wbGV0ZS5iaW5kKG51bGwsIGxpbmsub25lcnJvcik7XG4gICAgbGluay5vbmxvYWQgPSBvbkxpbmtDb21wbGV0ZS5iaW5kKG51bGwsIGxpbmsub25sb2FkKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsaW5rLFxuICAgICAgICBuZWVkQXR0YWNoXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGxvYWRTY3JpcHQodXJsLCBpbmZvKSB7XG4gICAgY29uc3QgeyBhdHRycyA9IHt9LCBjcmVhdGVTY3JpcHRIb29rIH0gPSBpbmZvO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCk9PntcbiAgICAgICAgY29uc3QgeyBzY3JpcHQsIG5lZWRBdHRhY2ggfSA9IGNyZWF0ZVNjcmlwdCh7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBjYjogcmVzb2x2ZSxcbiAgICAgICAgICAgIGF0dHJzOiBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAgZmV0Y2hwcmlvcml0eTogJ2hpZ2gnXG4gICAgICAgICAgICB9LCBhdHRycyksXG4gICAgICAgICAgICBjcmVhdGVTY3JpcHRIb29rLFxuICAgICAgICAgICAgbmVlZERlbGV0ZVNjcmlwdDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgbmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGltcG9ydE5vZGVNb2R1bGUobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ltcG9ydCBzcGVjaWZpZXIgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgY29uc3QgaW1wb3J0TW9kdWxlID0gbmV3IEZ1bmN0aW9uKCduYW1lJywgYHJldHVybiBpbXBvcnQobmFtZSlgKTtcbiAgICByZXR1cm4gaW1wb3J0TW9kdWxlKG5hbWUpLnRoZW4oKHJlcyk9PnJlcykuY2F0Y2goKGVycm9yKT0+e1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbXBvcnRpbmcgbW9kdWxlICR7bmFtZX06YCwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbn1cbmNvbnN0IGxvYWROb2RlRmV0Y2ggPSBhc3luYyAoKT0+e1xuICAgIGNvbnN0IGZldGNoTW9kdWxlID0gYXdhaXQgaW1wb3J0Tm9kZU1vZHVsZSgnbm9kZS1mZXRjaCcpO1xuICAgIHJldHVybiBmZXRjaE1vZHVsZS5kZWZhdWx0IHx8IGZldGNoTW9kdWxlO1xufTtcbmNvbnN0IGxhenlMb2FkZXJIb29rRmV0Y2ggPSBhc3luYyAoaW5wdXQsIGluaXQpPT57XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGxvYWRlckhvb2tzID0gX193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uLmluc3RhbmNlLmxvYWRlckhvb2s7XG4gICAgY29uc3QgaG9vayA9ICh1cmwsIGluaXQpPT57XG4gICAgICAgIHJldHVybiBsb2FkZXJIb29rcy5saWZlY3ljbGUuZmV0Y2guZW1pdCh1cmwsIGluaXQpO1xuICAgIH07XG4gICAgY29uc3QgcmVzID0gYXdhaXQgaG9vayhpbnB1dCwgaW5pdCB8fCB7fSk7XG4gICAgaWYgKCFyZXMgfHwgIShyZXMgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hGdW5jdGlvbiA9IHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCcgPyBhd2FpdCBsb2FkTm9kZUZldGNoKCkgOiBmZXRjaDtcbiAgICAgICAgcmV0dXJuIGZldGNoRnVuY3Rpb24oaW5wdXQsIGluaXQgfHwge30pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVNjcmlwdE5vZGUodXJsLCBjYiwgYXR0cnMsIGNyZWF0ZVNjcmlwdEhvb2spIHtcbiAgICBpZiAoY3JlYXRlU2NyaXB0SG9vaykge1xuICAgICAgICBjb25zdCBob29rUmVzdWx0ID0gY3JlYXRlU2NyaXB0SG9vayh1cmwpO1xuICAgICAgICBpZiAoaG9va1Jlc3VsdCAmJiB0eXBlb2YgaG9va1Jlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3VybCcgaW4gaG9va1Jlc3VsdCkge1xuICAgICAgICAgICAgdXJsID0gaG9va1Jlc3VsdC51cmw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVybE9iajtcbiAgICB0cnkge1xuICAgICAgICB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25zdHJ1Y3RpbmcgVVJMOicsIGUpO1xuICAgICAgICBjYihuZXcgRXJyb3IoYEludmFsaWQgVVJMOiAke2V9YCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGdldEZldGNoID0gYXN5bmMgKCk9PntcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGlmICh0eXBlb2YgX193ZWJwYWNrX3JlcXVpcmVfXyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZGVySG9va3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5zdGFuY2UubG9hZGVySG9vaztcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVySG9va3MubGlmZWN5Y2xlLmZldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXp5TG9hZGVySG9va0ZldGNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2ZlZGVyYXRpb24uaW5zdGFuY2UubG9hZGVySG9vay5saWZlY3ljbGUuZmV0Y2ggZmFpbGVkOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnID8gbG9hZE5vZGVGZXRjaCgpIDogZmV0Y2g7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTY3JpcHRGZXRjaCA9IGFzeW5jIChmLCB1cmxPYmopPT57XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmKHVybE9iai5ocmVmKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgW3BhdGgsIHZtXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBpbXBvcnROb2RlTW9kdWxlKCdwYXRoJyksXG4gICAgICAgICAgICAgICAgaW1wb3J0Tm9kZU1vZHVsZSgndm0nKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBjb25zdCBzY3JpcHRDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIGV4cG9ydHM6IHt9LFxuICAgICAgICAgICAgICAgIG1vZHVsZToge1xuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB1cmxEaXJuYW1lID0gdXJsT2JqLnBhdGhuYW1lLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gJ2RsXycgKyBwYXRoLmJhc2VuYW1lKHVybE9iai5wYXRobmFtZSk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGZzID0gX19ub25fd2VicGFja19yZXF1aXJlX18oJ2ZzJyk7XG4gICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBkYXRhKTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgZXhwb3J0ZWRJbnRlcmZhY2UgPSBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXygnLi8nICsgZmlsZW5hbWUpO1xuICAgICAgICAgICAgLy8gY29uc3Qgc2NyaXB0ID0gbmV3IHZtLlNjcmlwdChcbiAgICAgICAgICAgIC8vICAgYChmdW5jdGlvbihleHBvcnRzLCBtb2R1bGUsIHJlcXVpcmUsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgeyR7ZGF0YX1cXG59KWAsXG4gICAgICAgICAgICAvLyAgIHtcbiAgICAgICAgICAgIC8vICAgICBmaWxlbmFtZSxcbiAgICAgICAgICAgIC8vICAgICBpbXBvcnRNb2R1bGVEeW5hbWljYWxseTpcbiAgICAgICAgICAgIC8vICAgICAgIHZtLmNvbnN0YW50cz8uVVNFX01BSU5fQ09OVEVYVF9ERUZBVUxUX0xPQURFUiA/PyBpbXBvcnROb2RlTW9kdWxlLFxuICAgICAgICAgICAgLy8gICB9LFxuICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBzY3JpcHQucnVuSW5UaGlzQ29udGV4dCgpKFxuICAgICAgICAgICAgLy8gICBzY3JpcHRDb250ZXh0LmV4cG9ydHMsXG4gICAgICAgICAgICAvLyAgIHNjcmlwdENvbnRleHQubW9kdWxlLFxuICAgICAgICAgICAgLy8gICBldmFsKCdyZXF1aXJlJyksXG4gICAgICAgICAgICAvLyAgIHVybERpcm5hbWUsXG4gICAgICAgICAgICAvLyAgIGZpbGVuYW1lLFxuICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBjb25zdCBleHBvcnRlZEludGVyZmFjZTogUmVjb3JkPHN0cmluZywgYW55PiA9XG4gICAgICAgICAgICAvLyAgIHNjcmlwdENvbnRleHQubW9kdWxlLmV4cG9ydHMgfHwgc2NyaXB0Q29udGV4dC5leHBvcnRzO1xuICAgICAgICAgICAgZGVidWdnZXI7XG4gICAgICAgICAgICBpZiAoYXR0cnMgJiYgZXhwb3J0ZWRJbnRlcmZhY2UgJiYgYXR0cnNbJ2dsb2JhbE5hbWUnXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGV4cG9ydGVkSW50ZXJmYWNlW2F0dHJzWydnbG9iYWxOYW1lJ11dIHx8IGV4cG9ydGVkSW50ZXJmYWNlO1xuICAgICAgICAgICAgICAgIGNiKHVuZGVmaW5lZCwgY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYih1bmRlZmluZWQsIGV4cG9ydGVkSW50ZXJmYWNlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY2IoZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcihgU2NyaXB0IGV4ZWN1dGlvbiBlcnJvcjogJHtlfWApKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZ2V0RmV0Y2goKS50aGVuKChmKT0+aGFuZGxlU2NyaXB0RmV0Y2goZiwgdXJsT2JqKSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgY2IoZXJyKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGxvYWRTY3JpcHROb2RlKHVybCwgaW5mbykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBjcmVhdGVTY3JpcHROb2RlKHVybCwgKGVycm9yLCBzY3JpcHRDb250ZXh0KT0+e1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pbmZvX2F0dHJzLCBfaW5mb19hdHRyczE7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlRW50cnlLZXkgPSAoaW5mbyA9PSBudWxsID8gdm9pZCAwIDogKF9pbmZvX2F0dHJzID0gaW5mby5hdHRycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbmZvX2F0dHJzWydnbG9iYWxOYW1lJ10pIHx8IGBfX0ZFREVSQVRJT05fJHtpbmZvID09IG51bGwgPyB2b2lkIDAgOiAoX2luZm9fYXR0cnMxID0gaW5mby5hdHRycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbmZvX2F0dHJzMVsnbmFtZSddfTpjdXN0b21fX2A7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnlFeHBvcnRzID0gZ2xvYmFsVGhpc1tyZW1vdGVFbnRyeUtleV0gPSBzY3JpcHRDb250ZXh0O1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZW50cnlFeHBvcnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaW5mby5hdHRycywgaW5mby5jcmVhdGVTY3JpcHRIb29rKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhlbmFibGVEZWZhdWx0LCBkZWZhdWx0T3B0aW9ucywga2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGVuYWJsZURlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgZm9yIFxcYCR7a2V5fVxcYCwgZXhwZWN0IGJvb2xlYW4vdW5kZWZpbmVkL29iamVjdCwgZ290OiAke3R5cGVvZiBvcHRpb25zfWApO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IEJST1dTRVJfTE9HX0tFWSwgQlJPV1NFUl9MT0dfVkFMVUUsIEVOQ09ERV9OQU1FX1BSRUZJWCwgRW5jb2RlZE5hbWVUcmFuc2Zvcm1NYXAsIEZlZGVyYXRpb25Nb2R1bGVNYW5pZmVzdCwgTG9nZ2VyLCBNQU5JRkVTVF9FWFQsIE1GTW9kdWxlVHlwZSwgTU9EVUxFX0RFVlRPT0xfSURFTlRJRklFUiwgTWFuaWZlc3RGaWxlTmFtZSwgTmFtZVRyYW5zZm9ybU1hcCwgTmFtZVRyYW5zZm9ybVN5bWJvbCwgU0VQQVJBVE9SLCBTdGF0c0ZpbGVOYW1lLCBURU1QX0RJUiwgYXNzZXJ0LCBjb21wb3NlS2V5V2l0aFNlcGFyYXRvciwgQ29udGFpbmVyUGx1Z2luIGFzIGNvbnRhaW5lclBsdWdpbiwgQ29udGFpbmVyUmVmZXJlbmNlUGx1Z2luIGFzIGNvbnRhaW5lclJlZmVyZW5jZVBsdWdpbiwgY3JlYXRlTGluaywgY3JlYXRlU2NyaXB0LCBjcmVhdGVTY3JpcHROb2RlLCBkZWNvZGVOYW1lLCBlbmNvZGVOYW1lLCBlcnJvciwgZ2VuZXJhdGVFeHBvc2VGaWxlbmFtZSwgZ2VuZXJhdGVTaGFyZUZpbGVuYW1lLCBnZW5lcmF0ZVNuYXBzaG90RnJvbU1hbmlmZXN0LCBnZXRQcm9jZXNzRW52LCBnZXRSZXNvdXJjZVVybCwgaW5mZXJBdXRvUHVibGljUGF0aCwgaXNCcm93c2VyRW52LCBpc0RlYnVnTW9kZSwgaXNNYW5pZmVzdFByb3ZpZGVyLCBpc1N0YXRpY1Jlc291cmNlc0VxdWFsLCBsb2FkU2NyaXB0LCBsb2FkU2NyaXB0Tm9kZSwgbG9nZ2VyLCBNb2R1bGVGZWRlcmF0aW9uUGx1Z2luIGFzIG1vZHVsZUZlZGVyYXRpb25QbHVnaW4sIG5vcm1hbGl6ZU9wdGlvbnMsIHBhcnNlRW50cnksIHNhZmVUb1N0cmluZywgc2FmZVdyYXBwZXIsIFNoYXJlUGx1Z2luIGFzIHNoYXJlUGx1Z2luLCBzaW1wbGVKb2luUmVtb3RlRW50cnksIHdhcm4gfTtcbiJdLCJuYW1lcyI6WyJfIiwiX2V4dGVuZHMiLCJGZWRlcmF0aW9uTW9kdWxlTWFuaWZlc3QiLCJNQU5JRkVTVF9FWFQiLCJCUk9XU0VSX0xPR19LRVkiLCJCUk9XU0VSX0xPR19WQUxVRSIsIk5hbWVUcmFuc2Zvcm1TeW1ib2wiLCJBVCIsIkhZUEhFTiIsIlNMQVNIIiwiTmFtZVRyYW5zZm9ybU1hcCIsIkVuY29kZWROYW1lVHJhbnNmb3JtTWFwIiwiU0VQQVJBVE9SIiwiTWFuaWZlc3RGaWxlTmFtZSIsIlN0YXRzRmlsZU5hbWUiLCJNRk1vZHVsZVR5cGUiLCJOUE0iLCJBUFAiLCJNT0RVTEVfREVWVE9PTF9JREVOVElGSUVSIiwiRU5DT0RFX05BTUVfUFJFRklYIiwiVEVNUF9ESVIiLCJDb250YWluZXJQbHVnaW4iLCJPYmplY3QiLCJmcmVlemUiLCJfX3Byb3RvX18iLCJDb250YWluZXJSZWZlcmVuY2VQbHVnaW4iLCJNb2R1bGVGZWRlcmF0aW9uUGx1Z2luIiwiU2hhcmVQbHVnaW4iLCJpc0Jyb3dzZXJFbnYiLCJpc0RlYnVnTW9kZSIsInByb2Nlc3MiLCJlbnYiLCJCb29sZWFuIiwiRkVERVJBVElPTl9ERUJVRyIsImdldFByb2Nlc3NFbnYiLCJERUJVR19MT0ciLCJzYWZlR2V0TG9jYWxTdG9yYWdlSXRlbSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcnJvciIsImRvY3VtZW50IiwiTG9nZ2VyIiwiaW5mbyIsIm1zZyIsImVuYWJsZSIsImFyZ3NUb1N0cmluZyIsInNhZmVUb1N0cmluZyIsImNvbnNvbGUiLCJpZGVudGlmaWVyIiwibG9nT3JpZ2luYWxJbmZvIiwiYXJncyIsImxvZyIsImNvbnN0cnVjdG9yIiwiTE9HX0NBVEVHT1JZIiwicGFyc2VFbnRyeSIsInN0ciIsImRldlZlck9yVXJsIiwic2VwYXJhdG9yIiwic3RyU3BsaXQiLCJzcGxpdCIsImRldlZlcnNpb25PclVybCIsImRlZmF1bHRWZXJzaW9uIiwiaXNFbnRyeSIsInMiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJsZW5ndGgiLCJuYW1lIiwidmVyc2lvbk9yRW50cnlBcnIiLCJzbGljZSIsImpvaW4iLCJ2ZXJzaW9uT3JFbnRyeSIsImVudHJ5IiwidmVyc2lvbiIsImxvZ2dlciIsImNvbXBvc2VLZXlXaXRoU2VwYXJhdG9yIiwicmVkdWNlIiwic3VtIiwiY3VyIiwiZW5jb2RlTmFtZSIsInByZWZpeCIsIndpdGhFeHQiLCJleHQiLCJyZXBsYWNlIiwiUmVnRXhwIiwiZXJyIiwiZGVjb2RlTmFtZSIsImRlY29kZWROYW1lIiwiZ2VuZXJhdGVFeHBvc2VGaWxlbmFtZSIsImV4cG9zZU5hbWUiLCJleHBvc2UiLCJnZW5lcmF0ZVNoYXJlRmlsZW5hbWUiLCJwa2dOYW1lIiwiZ2V0UmVzb3VyY2VVcmwiLCJtb2R1bGUiLCJzb3VyY2VVcmwiLCJwdWJsaWNQYXRoIiwiZ2V0UHVibGljUGF0aCIsIkZ1bmN0aW9uIiwid2FybiIsImFzc2VydCIsImNvbmRpdGlvbiIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJzaW1wbGVKb2luUmVtb3RlRW50cnkiLCJyUGF0aCIsInJOYW1lIiwidHJhbnNmb3JtUGF0aCIsInN0cldpdGhvdXRTbGFzaCIsImVuZHNXaXRoIiwidHJhbnNmb3JtZWRQYXRoIiwiaW5mZXJBdXRvUHVibGljUGF0aCIsInVybCIsImdlbmVyYXRlU25hcHNob3RGcm9tTWFuaWZlc3QiLCJtYW5pZmVzdCIsIm9wdGlvbnMiLCJfbWFuaWZlc3RfbWV0YURhdGEiLCJfbWFuaWZlc3RfbWV0YURhdGExIiwicmVtb3RlcyIsIm92ZXJyaWRlcyIsInJlbW90ZVNuYXBzaG90IiwibWV0YURhdGEiLCJvdmVycmlkZXNLZXlzIiwia2V5cyIsInJlbW90ZXNJbmZvIiwiX21hbmlmZXN0X3JlbW90ZXMiLCJyZXMiLCJuZXh0IiwibWF0Y2hlZFZlcnNpb24iLCJmZWRlcmF0aW9uQ29udGFpbmVyTmFtZSIsImZvckVhY2giLCJrZXkiLCJyZW1vdGVFbnRyeSIsInBhdGgiLCJyZW1vdGVFbnRyeVBhdGgiLCJyZW1vdGVFbnRyeU5hbWUiLCJ0eXBlIiwicmVtb3RlRW50cnlUeXBlIiwidHlwZXMiLCJyZW1vdGVUeXBlcyIsImJ1aWxkSW5mbyIsImJ1aWxkVmVyc2lvbiIsImdsb2JhbE5hbWUiLCJzc3JSZW1vdGVFbnRyeSIsImV4cG9zZXMiLCJiYXNpY1JlbW90ZVNuYXBzaG90IiwicmVtb3RlVHlwZXNaaXAiLCJ6aXAiLCJyZW1vdGVUeXBlc0FQSSIsImFwaSIsInNoYXJlZCIsIm1hcCIsIml0ZW0iLCJhc3NldHMiLCJzaGFyZWROYW1lIiwibW9kdWxlcyIsIm1vZHVsZU5hbWUiLCJtb2R1bGVQYXRoIiwicHJlZmV0Y2hJbnRlcmZhY2UiLCJwcmVmZXRjaEVudHJ5IiwicHJlZmV0Y2hFbnRyeVR5cGUiLCJmdWxsU1NSUmVtb3RlRW50cnkiLCJzc3JSZW1vdGVFbnRyeVR5cGUiLCJpc01hbmlmZXN0UHJvdmlkZXIiLCJtb2R1bGVJbmZvIiwic2FmZVdyYXBwZXIiLCJjYWxsYmFjayIsImRpc2FibGVXYXJuIiwiaXNTdGF0aWNSZXNvdXJjZXNFcXVhbCIsInVybDEiLCJ1cmwyIiwiUkVHX0VYUCIsInJlbGF0aXZlVXJsMSIsInJlbGF0aXZlVXJsMiIsImNyZWF0ZVNjcmlwdCIsInNjcmlwdCIsIm5lZWRBdHRhY2giLCJ0aW1lb3V0IiwidGltZW91dElkIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsInNjcmlwdFNyYyIsImdldEF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJjcmVhdGVTY3JpcHRSZXMiLCJ1bmRlZmluZWQiLCJjcmVhdGVTY3JpcHRIb29rIiwiYXR0cnMiLCJIVE1MU2NyaXB0RWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIm9uU2NyaXB0Q29tcGxldGUiLCJwcmV2IiwiZXZlbnQiLCJfaW5mb19jYiIsImNsZWFyVGltZW91dCIsIm9uZXJyb3IiLCJvbmxvYWQiLCJuZWVkRGVsZXRlU2NyaXB0IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiX2luZm9fY2IxIiwicmVzdWx0IiwiUHJvbWlzZSIsIl9pbmZvX2NiMiIsImNiIiwiY2FsbCIsImJpbmQiLCJzZXRUaW1lb3V0IiwiY3JlYXRlTGluayIsImxpbmsiLCJsaW5rcyIsImwiLCJsaW5rSHJlZiIsImxpbmtSZWYiLCJjcmVhdGVMaW5rUmVzIiwiY3JlYXRlTGlua0hvb2siLCJIVE1MTGlua0VsZW1lbnQiLCJvbkxpbmtDb21wbGV0ZSIsIm5lZWREZWxldGVMaW5rIiwibG9hZFNjcmlwdCIsInJlc29sdmUiLCJfcmVqZWN0IiwiZmV0Y2hwcmlvcml0eSIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImltcG9ydE5vZGVNb2R1bGUiLCJpbXBvcnRNb2R1bGUiLCJ0aGVuIiwiY2F0Y2giLCJsb2FkTm9kZUZldGNoIiwiZmV0Y2hNb2R1bGUiLCJkZWZhdWx0IiwibGF6eUxvYWRlckhvb2tGZXRjaCIsImlucHV0IiwiaW5pdCIsImxvYWRlckhvb2tzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZlZGVyYXRpb24iLCJpbnN0YW5jZSIsImxvYWRlckhvb2siLCJob29rIiwibGlmZWN5Y2xlIiwiZmV0Y2giLCJlbWl0IiwiUmVzcG9uc2UiLCJmZXRjaEZ1bmN0aW9uIiwiY3JlYXRlU2NyaXB0Tm9kZSIsImhvb2tSZXN1bHQiLCJ1cmxPYmoiLCJVUkwiLCJnZXRGZXRjaCIsImhhbmRsZVNjcmlwdEZldGNoIiwiZiIsImhyZWYiLCJkYXRhIiwidGV4dCIsInZtIiwiYWxsIiwic2NyaXB0Q29udGV4dCIsImV4cG9ydHMiLCJ1cmxEaXJuYW1lIiwicGF0aG5hbWUiLCJmaWxlbmFtZSIsImJhc2VuYW1lIiwiZnMiLCJfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyIsIndyaXRlRmlsZVN5bmMiLCJleHBvcnRlZEludGVyZmFjZSIsImNvbnRhaW5lciIsImxvYWRTY3JpcHROb2RlIiwicmVqZWN0IiwiX2luZm9fYXR0cnMiLCJfaW5mb19hdHRyczEiLCJyZW1vdGVFbnRyeUtleSIsImVudHJ5RXhwb3J0cyIsImdsb2JhbFRoaXMiLCJub3JtYWxpemVPcHRpb25zIiwiZW5hYmxlRGVmYXVsdCIsImRlZmF1bHRPcHRpb25zIiwiY29udGFpbmVyUGx1Z2luIiwiY29udGFpbmVyUmVmZXJlbmNlUGx1Z2luIiwibW9kdWxlRmVkZXJhdGlvblBsdWdpbiIsInNoYXJlUGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../packages/sdk/dist/index.esm.js\n");

/***/ }),

/***/ "../../packages/sdk/dist/polyfills.esm.js":
/*!************************************************!*\
  !*** ../../packages/sdk/dist/polyfills.esm.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ _extends)\n/* harmony export */ });\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvc2RrL2Rpc3QvcG9seWZpbGxzLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsU0FBU0E7SUFDTEEsV0FBV0MsT0FBT0MsTUFBTSxJQUFJLFNBQVNBLE9BQU9DLE1BQU07UUFDOUMsSUFBSSxJQUFJQyxJQUFJLEdBQUdBLElBQUlDLFVBQVVDLE1BQU0sRUFBRUYsSUFBSTtZQUNyQyxJQUFJRyxTQUFTRixTQUFTLENBQUNELEVBQUU7WUFDekIsSUFBSSxJQUFJSSxPQUFPRCxPQUFPLElBQUlOLE9BQU9RLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNKLFFBQVFDLE1BQU1MLE1BQU0sQ0FBQ0ssSUFBSSxHQUFHRCxNQUFNLENBQUNDLElBQUk7UUFDMUc7UUFDQSxPQUFPTDtJQUNYO0lBQ0EsT0FBT0gsU0FBU1ksS0FBSyxDQUFDLElBQUksRUFBRVA7QUFDaEM7QUFFeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi8uLi9wYWNrYWdlcy9zZGsvZGlzdC9wb2x5ZmlsbHMuZXNtLmpzPzZmZDEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgZm9yKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gc291cmNlKWlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IHsgX2V4dGVuZHMgYXMgXyB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiXyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/sdk/dist/polyfills.esm.js\n");

/***/ }),

/***/ "../../packages/webpack-bundler-runtime/dist/constant.esm.js":
/*!*******************************************************************!*\
  !*** ../../packages/webpack-bundler-runtime/dist/constant.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENCODE_NAME_PREFIX: () => (/* reexport safe */ _module_federation_sdk__WEBPACK_IMPORTED_MODULE_0__.ENCODE_NAME_PREFIX),\n/* harmony export */   FEDERATION_SUPPORTED_TYPES: () => (/* binding */ FEDERATION_SUPPORTED_TYPES)\n/* harmony export */ });\n/* harmony import */ var _module_federation_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @module-federation/sdk */ \"../../packages/sdk/dist/index.esm.js\");\n\nvar FEDERATION_SUPPORTED_TYPES = [\n    \"script\"\n];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvd2VicGFjay1idW5kbGVyLXJ1bnRpbWUvZGlzdC9jb25zdGFudC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTREO0FBRTVELElBQUlDLDZCQUE2QjtJQUM3QjtDQUNIO0FBRXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vLi4vcGFja2FnZXMvd2VicGFjay1idW5kbGVyLXJ1bnRpbWUvZGlzdC9jb25zdGFudC5lc20uanM/MjZjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBFTkNPREVfTkFNRV9QUkVGSVggfSBmcm9tICdAbW9kdWxlLWZlZGVyYXRpb24vc2RrJztcblxudmFyIEZFREVSQVRJT05fU1VQUE9SVEVEX1RZUEVTID0gW1xuICAgICdzY3JpcHQnXG5dO1xuXG5leHBvcnQgeyBGRURFUkFUSU9OX1NVUFBPUlRFRF9UWVBFUyB9O1xuIl0sIm5hbWVzIjpbIkVOQ09ERV9OQU1FX1BSRUZJWCIsIkZFREVSQVRJT05fU1VQUE9SVEVEX1RZUEVTIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../packages/webpack-bundler-runtime/dist/constant.esm.js\n");

/***/ }),

/***/ "../../packages/webpack-bundler-runtime/dist/index.esm.js":
/*!****************************************************************!*\
  !*** ../../packages/webpack-bundler-runtime/dist/index.esm.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ federation)\n/* harmony export */ });\n/* harmony import */ var _module_federation_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @module-federation/runtime */ \"../../packages/runtime/dist/index.esm.js\");\n/* harmony import */ var _constant_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constant.esm.js */ \"../../packages/webpack-bundler-runtime/dist/constant.esm.js\");\n/* harmony import */ var _module_federation_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @module-federation/sdk */ \"../../packages/sdk/dist/index.esm.js\");\n\n\n\nfunction attachShareScopeMap(webpackRequire) {\n    if (!webpackRequire.S || webpackRequire.federation.hasAttachShareScopeMap || !webpackRequire.federation.instance || !webpackRequire.federation.instance.shareScopeMap) {\n        return;\n    }\n    webpackRequire.S = webpackRequire.federation.instance.shareScopeMap;\n    webpackRequire.federation.hasAttachShareScopeMap = true;\n}\nfunction remotes(options) {\n    var chunkId = options.chunkId, promises = options.promises, chunkMapping = options.chunkMapping, idToExternalAndNameMapping = options.idToExternalAndNameMapping, webpackRequire = options.webpackRequire, idToRemoteMap = options.idToRemoteMap;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach(function(id) {\n            var getScope = webpackRequire.R;\n            if (!getScope) {\n                getScope = [];\n            }\n            var data = idToExternalAndNameMapping[id];\n            var remoteInfos = idToRemoteMap[id];\n            // @ts-ignore seems not work\n            if (getScope.indexOf(data) >= 0) {\n                return;\n            }\n            // @ts-ignore seems not work\n            getScope.push(data);\n            if (data.p) {\n                return promises.push(data.p);\n            }\n            var onError = function(error) {\n                if (!error) {\n                    error = new Error(\"Container missing\");\n                }\n                if (typeof error.message === \"string\") {\n                    error.message += '\\nwhile loading \"'.concat(data[1], '\" from ').concat(data[2]);\n                }\n                webpackRequire.m[id] = function() {\n                    throw error;\n                };\n                data.p = 0;\n            };\n            var handleFunction = function(fn, arg1, arg2, d, next, first) {\n                try {\n                    var promise = fn(arg1, arg2);\n                    if (promise && promise.then) {\n                        var p = promise.then(function(result) {\n                            return next(result, d);\n                        }, onError);\n                        if (first) {\n                            promises.push(data.p = p);\n                        } else {\n                            return p;\n                        }\n                    } else {\n                        return next(promise, d, first);\n                    }\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            var onExternal = function(external, _, first) {\n                return external ? handleFunction(webpackRequire.I, data[0], 0, external, onInitialized, first) : onError();\n            };\n            // eslint-disable-next-line no-var\n            var onInitialized = function(_, external, first) {\n                return handleFunction(external.get, data[1], getScope, 0, onFactory, first);\n            };\n            // eslint-disable-next-line no-var\n            var onFactory = function(factory) {\n                data.p = 1;\n                webpackRequire.m[id] = function(module) {\n                    module.exports = factory();\n                };\n            };\n            var onRemoteLoaded = function() {\n                try {\n                    var remoteName = (0,_module_federation_sdk__WEBPACK_IMPORTED_MODULE_2__.decodeName)(remoteInfos[0].name, _module_federation_sdk__WEBPACK_IMPORTED_MODULE_2__.ENCODE_NAME_PREFIX);\n                    var remoteModuleName = remoteName + data[1].slice(1);\n                    return webpackRequire.federation.instance.loadRemote(remoteModuleName, {\n                        loadFactory: false,\n                        from: \"build\"\n                    });\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            var useRuntimeLoad = remoteInfos.length === 1 && _constant_esm_js__WEBPACK_IMPORTED_MODULE_1__.FEDERATION_SUPPORTED_TYPES.includes(remoteInfos[0].externalType) && remoteInfos[0].name;\n            if (useRuntimeLoad) {\n                handleFunction(onRemoteLoaded, data[2], 0, 0, onFactory, 1);\n            } else {\n                handleFunction(webpackRequire, data[2], 0, 0, onExternal, 1);\n            }\n        });\n    }\n}\nfunction consumes(options) {\n    var chunkId = options.chunkId, promises = options.promises, chunkMapping = options.chunkMapping, installedModules = options.installedModules, moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach(function(id) {\n            if (webpackRequire.o(installedModules, id)) {\n                return promises.push(installedModules[id]);\n            }\n            var onFactory = function(factory) {\n                installedModules[id] = 0;\n                webpackRequire.m[id] = function(module) {\n                    delete webpackRequire.c[id];\n                    module.exports = factory();\n                };\n            };\n            var onError = function(error) {\n                delete installedModules[id];\n                webpackRequire.m[id] = function(module) {\n                    delete webpackRequire.c[id];\n                    throw error;\n                };\n            };\n            try {\n                var federationInstance = webpackRequire.federation.instance;\n                if (!federationInstance) {\n                    throw new Error(\"Federation instance not found!\");\n                }\n                var _moduleToHandlerMapping_id = moduleToHandlerMapping[id], shareKey = _moduleToHandlerMapping_id.shareKey, getter = _moduleToHandlerMapping_id.getter, shareInfo = _moduleToHandlerMapping_id.shareInfo;\n                var promise = federationInstance.loadShare(shareKey, {\n                    customShareInfo: shareInfo\n                }).then(function(factory) {\n                    if (factory === false) {\n                        return getter();\n                    }\n                    return factory;\n                });\n                if (promise.then) {\n                    promises.push(installedModules[id] = promise.then(onFactory).catch(onError));\n                } else {\n                    // @ts-ignore maintain previous logic\n                    onFactory(promise);\n                }\n            } catch (e) {\n                onError(e);\n            }\n        });\n    }\n}\nfunction initializeSharing(param) {\n    var shareScopeName = param.shareScopeName, webpackRequire = param.webpackRequire, initPromises = param.initPromises, initTokens = param.initTokens, initScope = param.initScope;\n    if (!initScope) initScope = [];\n    var mfInstance = webpackRequire.federation.instance;\n    // handling circular init calls\n    var initToken = initTokens[shareScopeName];\n    if (!initToken) initToken = initTokens[shareScopeName] = {\n        from: mfInstance.name\n    };\n    if (initScope.indexOf(initToken) >= 0) return;\n    initScope.push(initToken);\n    var promise = initPromises[shareScopeName];\n    if (promise) return promise;\n    var warn = function(msg) {\n        return typeof console !== \"undefined\" && console.warn && console.warn(msg);\n    };\n    var initExternal = function(id) {\n        var handleError = function(err) {\n            return warn(\"Initialization of sharing external failed: \" + err);\n        };\n        try {\n            var module = webpackRequire(id);\n            if (!module) return;\n            var initFn = function(module) {\n                return module && module.init && // @ts-ignore compat legacy mf shared behavior\n                module.init(webpackRequire.S[shareScopeName], initScope);\n            };\n            if (module.then) return promises.push(module.then(initFn, handleError));\n            var initResult = initFn(module);\n            // @ts-ignore\n            if (initResult && typeof initResult !== \"boolean\" && initResult.then) return promises.push(initResult[\"catch\"](handleError));\n        } catch (err) {\n            handleError(err);\n        }\n    };\n    var promises = mfInstance.initializeSharing(shareScopeName, {\n        strategy: mfInstance.options.shareStrategy,\n        initScope: initScope,\n        from: \"build\"\n    });\n    attachShareScopeMap(webpackRequire);\n    var bundlerRuntimeRemotesOptions = webpackRequire.federation.bundlerRuntimeOptions.remotes;\n    if (bundlerRuntimeRemotesOptions) {\n        Object.keys(bundlerRuntimeRemotesOptions.idToRemoteMap).forEach(function(moduleId) {\n            var info = bundlerRuntimeRemotesOptions.idToRemoteMap[moduleId];\n            var externalModuleId = bundlerRuntimeRemotesOptions.idToExternalAndNameMapping[moduleId][2];\n            if (info.length > 1) {\n                initExternal(externalModuleId);\n            } else if (info.length === 1) {\n                var remoteInfo = info[0];\n                if (!_constant_esm_js__WEBPACK_IMPORTED_MODULE_1__.FEDERATION_SUPPORTED_TYPES.includes(remoteInfo.externalType)) {\n                    initExternal(externalModuleId);\n                }\n            }\n        });\n    }\n    if (!promises.length) {\n        return initPromises[shareScopeName] = true;\n    }\n    return initPromises[shareScopeName] = Promise.all(promises).then(function() {\n        return initPromises[shareScopeName] = true;\n    });\n}\nfunction handleInitialConsumes(options) {\n    var moduleId = options.moduleId, moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire;\n    var federationInstance = webpackRequire.federation.instance;\n    if (!federationInstance) {\n        throw new Error(\"Federation instance not found!\");\n    }\n    var _moduleToHandlerMapping_moduleId = moduleToHandlerMapping[moduleId], shareKey = _moduleToHandlerMapping_moduleId.shareKey, shareInfo = _moduleToHandlerMapping_moduleId.shareInfo;\n    try {\n        return federationInstance.loadShareSync(shareKey, {\n            customShareInfo: shareInfo\n        });\n    } catch (err) {\n        console.error('loadShareSync failed! The function should not be called unless you set \"eager:true\". If you do not set it, and encounter this issue, you can check whether an async boundary is implemented.');\n        console.error(\"The original error message is as follows: \");\n        throw err;\n    }\n}\nfunction installInitialConsumes(options) {\n    var moduleToHandlerMapping = options.moduleToHandlerMapping, webpackRequire = options.webpackRequire, installedModules = options.installedModules, initialConsumes = options.initialConsumes;\n    initialConsumes.forEach(function(id) {\n        webpackRequire.m[id] = function(module) {\n            // Handle scenario when module is used synchronously\n            installedModules[id] = 0;\n            delete webpackRequire.c[id];\n            var factory = handleInitialConsumes({\n                moduleId: id,\n                moduleToHandlerMapping: moduleToHandlerMapping,\n                webpackRequire: webpackRequire\n            });\n            if (typeof factory !== \"function\") {\n                throw new Error(\"Shared module is not available for eager consumption: \".concat(id));\n            }\n            module.exports = factory();\n        };\n    });\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction initContainerEntry(options) {\n    var webpackRequire = options.webpackRequire, shareScope = options.shareScope, initScope = options.initScope, shareScopeKey = options.shareScopeKey, remoteEntryInitOptions = options.remoteEntryInitOptions;\n    if (!webpackRequire.S) return;\n    if (!webpackRequire.federation || !webpackRequire.federation.instance || !webpackRequire.federation.initOptions) return;\n    var federationInstance = webpackRequire.federation.instance;\n    var name = shareScopeKey || \"default\";\n    federationInstance.initOptions(_object_spread({\n        name: webpackRequire.federation.initOptions.name,\n        remotes: []\n    }, remoteEntryInitOptions));\n    federationInstance.initShareScopeMap(name, shareScope, {\n        hostShareScopeMap: (remoteEntryInitOptions === null || remoteEntryInitOptions === void 0 ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n    });\n    if (webpackRequire.federation.attachShareScopeMap) {\n        webpackRequire.federation.attachShareScopeMap(webpackRequire);\n    }\n    // @ts-ignore\n    return webpackRequire.I(name, initScope);\n}\nvar federation = {\n    runtime: _module_federation_runtime__WEBPACK_IMPORTED_MODULE_0__,\n    instance: undefined,\n    initOptions: undefined,\n    bundlerRuntime: {\n        remotes: remotes,\n        consumes: consumes,\n        I: initializeSharing,\n        S: {},\n        installInitialConsumes: installInitialConsumes,\n        initContainerEntry: initContainerEntry\n    },\n    attachShareScopeMap: attachShareScopeMap,\n    bundlerRuntimeOptions: {}\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvd2VicGFjay1idW5kbGVyLXJ1bnRpbWUvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzRDtBQUNTO0FBQ1M7QUFFeEUsU0FBU0ksb0JBQW9CQyxjQUFjO0lBQ3ZDLElBQUksQ0FBQ0EsZUFBZUMsQ0FBQyxJQUFJRCxlQUFlRSxVQUFVLENBQUNDLHNCQUFzQixJQUFJLENBQUNILGVBQWVFLFVBQVUsQ0FBQ0UsUUFBUSxJQUFJLENBQUNKLGVBQWVFLFVBQVUsQ0FBQ0UsUUFBUSxDQUFDQyxhQUFhLEVBQUU7UUFDbks7SUFDSjtJQUNBTCxlQUFlQyxDQUFDLEdBQUdELGVBQWVFLFVBQVUsQ0FBQ0UsUUFBUSxDQUFDQyxhQUFhO0lBQ25FTCxlQUFlRSxVQUFVLENBQUNDLHNCQUFzQixHQUFHO0FBQ3ZEO0FBRUEsU0FBU0csUUFBUUMsT0FBTztJQUNwQixJQUFJQyxVQUFVRCxRQUFRQyxPQUFPLEVBQUVDLFdBQVdGLFFBQVFFLFFBQVEsRUFBRUMsZUFBZUgsUUFBUUcsWUFBWSxFQUFFQyw2QkFBNkJKLFFBQVFJLDBCQUEwQixFQUFFWCxpQkFBaUJPLFFBQVFQLGNBQWMsRUFBRVksZ0JBQWdCTCxRQUFRSyxhQUFhO0lBQ2hQYixvQkFBb0JDO0lBQ3BCLElBQUlBLGVBQWVhLENBQUMsQ0FBQ0gsY0FBY0YsVUFBVTtRQUN6Q0UsWUFBWSxDQUFDRixRQUFRLENBQUNNLE9BQU8sQ0FBQyxTQUFTQyxFQUFFO1lBQ3JDLElBQUlDLFdBQVdoQixlQUFlaUIsQ0FBQztZQUMvQixJQUFJLENBQUNELFVBQVU7Z0JBQ1hBLFdBQVcsRUFBRTtZQUNqQjtZQUNBLElBQUlFLE9BQU9QLDBCQUEwQixDQUFDSSxHQUFHO1lBQ3pDLElBQUlJLGNBQWNQLGFBQWEsQ0FBQ0csR0FBRztZQUNuQyw0QkFBNEI7WUFDNUIsSUFBSUMsU0FBU0ksT0FBTyxDQUFDRixTQUFTLEdBQUc7Z0JBQzdCO1lBQ0o7WUFDQSw0QkFBNEI7WUFDNUJGLFNBQVNL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QU1uRCxlQUFlRSxVQUFVLENBQUNnSSxXQUFXLENBQUMvRSxJQUFJO1FBQ2hEN0MsU0FBUyxFQUFFO0lBQ2YsR0FBRzJIO0lBQ0hoRSxtQkFBbUJrRSxpQkFBaUIsQ0FBQ2hGLE1BQU00RSxZQUFZO1FBQ25ESyxtQkFBbUIsQ0FBQ0gsMkJBQTJCLFFBQVFBLDJCQUEyQixLQUFLLElBQUksS0FBSyxJQUFJQSx1QkFBdUI1SCxhQUFhLEtBQUssQ0FBQztJQUNsSjtJQUNBLElBQUlMLGVBQWVFLFVBQVUsQ0FBQ0gsbUJBQW1CLEVBQUU7UUFDL0NDLGVBQWVFLFVBQVUsQ0FBQ0gsbUJBQW1CLENBQUNDO0lBQ2xEO0lBQ0EsYUFBYTtJQUNiLE9BQU9BLGVBQWUwQyxDQUFDLENBQUNTLE1BQU00QjtBQUNsQztBQUVBLElBQUk3RSxhQUFhO0lBQ2JQLFNBQVNBLHVEQUFPQTtJQUNoQlMsVUFBVWlJO0lBQ1ZILGFBQWFHO0lBQ2JDLGdCQUFnQjtRQUNaaEksU0FBU0E7UUFDVHVELFVBQVVBO1FBQ1ZuQixHQUFHZ0M7UUFDSHpFLEdBQUcsQ0FBQztRQUNKeUcsd0JBQXdCQTtRQUN4Qm9CLG9CQUFvQkE7SUFDeEI7SUFDQS9ILHFCQUFxQkE7SUFDckIrRix1QkFBdUIsQ0FBQztBQUM1QjtBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoZWNrb3V0Ly4uLy4uL3BhY2thZ2VzL3dlYnBhY2stYnVuZGxlci1ydW50aW1lL2Rpc3QvaW5kZXguZXNtLmpzPzljMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcnVudGltZSBmcm9tICdAbW9kdWxlLWZlZGVyYXRpb24vcnVudGltZSc7XG5pbXBvcnQgeyBGRURFUkFUSU9OX1NVUFBPUlRFRF9UWVBFUyB9IGZyb20gJy4vY29uc3RhbnQuZXNtLmpzJztcbmltcG9ydCB7IGRlY29kZU5hbWUsIEVOQ09ERV9OQU1FX1BSRUZJWCB9IGZyb20gJ0Btb2R1bGUtZmVkZXJhdGlvbi9zZGsnO1xuXG5mdW5jdGlvbiBhdHRhY2hTaGFyZVNjb3BlTWFwKHdlYnBhY2tSZXF1aXJlKSB7XG4gICAgaWYgKCF3ZWJwYWNrUmVxdWlyZS5TIHx8IHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uaGFzQXR0YWNoU2hhcmVTY29wZU1hcCB8fCAhd2VicGFja1JlcXVpcmUuZmVkZXJhdGlvbi5pbnN0YW5jZSB8fCAhd2VicGFja1JlcXVpcmUuZmVkZXJhdGlvbi5pbnN0YW5jZS5zaGFyZVNjb3BlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2VicGFja1JlcXVpcmUuUyA9IHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uaW5zdGFuY2Uuc2hhcmVTY29wZU1hcDtcbiAgICB3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmhhc0F0dGFjaFNoYXJlU2NvcGVNYXAgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiByZW1vdGVzKG9wdGlvbnMpIHtcbiAgICB2YXIgY2h1bmtJZCA9IG9wdGlvbnMuY2h1bmtJZCwgcHJvbWlzZXMgPSBvcHRpb25zLnByb21pc2VzLCBjaHVua01hcHBpbmcgPSBvcHRpb25zLmNodW5rTWFwcGluZywgaWRUb0V4dGVybmFsQW5kTmFtZU1hcHBpbmcgPSBvcHRpb25zLmlkVG9FeHRlcm5hbEFuZE5hbWVNYXBwaW5nLCB3ZWJwYWNrUmVxdWlyZSA9IG9wdGlvbnMud2VicGFja1JlcXVpcmUsIGlkVG9SZW1vdGVNYXAgPSBvcHRpb25zLmlkVG9SZW1vdGVNYXA7XG4gICAgYXR0YWNoU2hhcmVTY29wZU1hcCh3ZWJwYWNrUmVxdWlyZSk7XG4gICAgaWYgKHdlYnBhY2tSZXF1aXJlLm8oY2h1bmtNYXBwaW5nLCBjaHVua0lkKSkge1xuICAgICAgICBjaHVua01hcHBpbmdbY2h1bmtJZF0uZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgdmFyIGdldFNjb3BlID0gd2VicGFja1JlcXVpcmUuUjtcbiAgICAgICAgICAgIGlmICghZ2V0U2NvcGUpIHtcbiAgICAgICAgICAgICAgICBnZXRTY29wZSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRhdGEgPSBpZFRvRXh0ZXJuYWxBbmROYW1lTWFwcGluZ1tpZF07XG4gICAgICAgICAgICB2YXIgcmVtb3RlSW5mb3MgPSBpZFRvUmVtb3RlTWFwW2lkXTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgc2VlbXMgbm90IHdvcmtcbiAgICAgICAgICAgIGlmIChnZXRTY29wZS5pbmRleE9mKGRhdGEpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHNlZW1zIG5vdCB3b3JrXG4gICAgICAgICAgICBnZXRTY29wZS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEucCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlcy5wdXNoKGRhdGEucCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignQ29udGFpbmVyIG1pc3NpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlICs9ICdcXG53aGlsZSBsb2FkaW5nIFwiJy5jb25jYXQoZGF0YVsxXSwgJ1wiIGZyb20gJykuY29uY2F0KGRhdGFbMl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3ZWJwYWNrUmVxdWlyZS5tW2lkXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRhdGEucCA9IDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGhhbmRsZUZ1bmN0aW9uID0gZnVuY3Rpb24oZm4sIGFyZzEsIGFyZzIsIGQsIG5leHQsIGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBmbihhcmcxLCBhcmcyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHByb21pc2UudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChyZXN1bHQsIGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRhdGEucCA9IHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KHByb21pc2UsIGQsIGZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25FeHRlcm5hbCA9IGZ1bmN0aW9uKGV4dGVybmFsLCBfLCBmaXJzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHRlcm5hbCA/IGhhbmRsZUZ1bmN0aW9uKHdlYnBhY2tSZXF1aXJlLkksIGRhdGFbMF0sIDAsIGV4dGVybmFsLCBvbkluaXRpYWxpemVkLCBmaXJzdCkgOiBvbkVycm9yKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICAgICAgICAgICAgdmFyIG9uSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbihfLCBleHRlcm5hbCwgZmlyc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlRnVuY3Rpb24oZXh0ZXJuYWwuZ2V0LCBkYXRhWzFdLCBnZXRTY29wZSwgMCwgb25GYWN0b3J5LCBmaXJzdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICAgICAgICAgICAgdmFyIG9uRmFjdG9yeSA9IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnAgPSAxO1xuICAgICAgICAgICAgICAgIHdlYnBhY2tSZXF1aXJlLm1baWRdID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9uUmVtb3RlTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW90ZU5hbWUgPSBkZWNvZGVOYW1lKHJlbW90ZUluZm9zWzBdLm5hbWUsIEVOQ09ERV9OQU1FX1BSRUZJWCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdGVNb2R1bGVOYW1lID0gcmVtb3RlTmFtZSArIGRhdGFbMV0uc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmluc3RhbmNlLmxvYWRSZW1vdGUocmVtb3RlTW9kdWxlTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEZhY3Rvcnk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogJ2J1aWxkJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHVzZVJ1bnRpbWVMb2FkID0gcmVtb3RlSW5mb3MubGVuZ3RoID09PSAxICYmIEZFREVSQVRJT05fU1VQUE9SVEVEX1RZUEVTLmluY2x1ZGVzKHJlbW90ZUluZm9zWzBdLmV4dGVybmFsVHlwZSkgJiYgcmVtb3RlSW5mb3NbMF0ubmFtZTtcbiAgICAgICAgICAgIGlmICh1c2VSdW50aW1lTG9hZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUZ1bmN0aW9uKG9uUmVtb3RlTG9hZGVkLCBkYXRhWzJdLCAwLCAwLCBvbkZhY3RvcnksIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGdW5jdGlvbih3ZWJwYWNrUmVxdWlyZSwgZGF0YVsyXSwgMCwgMCwgb25FeHRlcm5hbCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29uc3VtZXMob3B0aW9ucykge1xuICAgIHZhciBjaHVua0lkID0gb3B0aW9ucy5jaHVua0lkLCBwcm9taXNlcyA9IG9wdGlvbnMucHJvbWlzZXMsIGNodW5rTWFwcGluZyA9IG9wdGlvbnMuY2h1bmtNYXBwaW5nLCBpbnN0YWxsZWRNb2R1bGVzID0gb3B0aW9ucy5pbnN0YWxsZWRNb2R1bGVzLCBtb2R1bGVUb0hhbmRsZXJNYXBwaW5nID0gb3B0aW9ucy5tb2R1bGVUb0hhbmRsZXJNYXBwaW5nLCB3ZWJwYWNrUmVxdWlyZSA9IG9wdGlvbnMud2VicGFja1JlcXVpcmU7XG4gICAgYXR0YWNoU2hhcmVTY29wZU1hcCh3ZWJwYWNrUmVxdWlyZSk7XG4gICAgaWYgKHdlYnBhY2tSZXF1aXJlLm8oY2h1bmtNYXBwaW5nLCBjaHVua0lkKSkge1xuICAgICAgICBjaHVua01hcHBpbmdbY2h1bmtJZF0uZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgaWYgKHdlYnBhY2tSZXF1aXJlLm8oaW5zdGFsbGVkTW9kdWxlcywgaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzLnB1c2goaW5zdGFsbGVkTW9kdWxlc1tpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uRmFjdG9yeSA9IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICBpbnN0YWxsZWRNb2R1bGVzW2lkXSA9IDA7XG4gICAgICAgICAgICAgICAgd2VicGFja1JlcXVpcmUubVtpZF0gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdlYnBhY2tSZXF1aXJlLmNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1tpZF07XG4gICAgICAgICAgICAgICAgd2VicGFja1JlcXVpcmUubVtpZF0gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdlYnBhY2tSZXF1aXJlLmNbaWRdO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlZGVyYXRpb25JbnN0YW5jZSA9IHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKCFmZWRlcmF0aW9uSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGZWRlcmF0aW9uIGluc3RhbmNlIG5vdCBmb3VuZCEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIF9tb2R1bGVUb0hhbmRsZXJNYXBwaW5nX2lkID0gbW9kdWxlVG9IYW5kbGVyTWFwcGluZ1tpZF0sIHNoYXJlS2V5ID0gX21vZHVsZVRvSGFuZGxlck1hcHBpbmdfaWQuc2hhcmVLZXksIGdldHRlciA9IF9tb2R1bGVUb0hhbmRsZXJNYXBwaW5nX2lkLmdldHRlciwgc2hhcmVJbmZvID0gX21vZHVsZVRvSGFuZGxlck1hcHBpbmdfaWQuc2hhcmVJbmZvO1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gZmVkZXJhdGlvbkluc3RhbmNlLmxvYWRTaGFyZShzaGFyZUtleSwge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21TaGFyZUluZm86IHNoYXJlSW5mb1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZmFjdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFjdG9yeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZS50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goaW5zdGFsbGVkTW9kdWxlc1tpZF0gPSBwcm9taXNlLnRoZW4ob25GYWN0b3J5KS5jYXRjaChvbkVycm9yKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBtYWludGFpbiBwcmV2aW91cyBsb2dpY1xuICAgICAgICAgICAgICAgICAgICBvbkZhY3RvcnkocHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVNoYXJpbmcocGFyYW0pIHtcbiAgICB2YXIgc2hhcmVTY29wZU5hbWUgPSBwYXJhbS5zaGFyZVNjb3BlTmFtZSwgd2VicGFja1JlcXVpcmUgPSBwYXJhbS53ZWJwYWNrUmVxdWlyZSwgaW5pdFByb21pc2VzID0gcGFyYW0uaW5pdFByb21pc2VzLCBpbml0VG9rZW5zID0gcGFyYW0uaW5pdFRva2VucywgaW5pdFNjb3BlID0gcGFyYW0uaW5pdFNjb3BlO1xuICAgIGlmICghaW5pdFNjb3BlKSBpbml0U2NvcGUgPSBbXTtcbiAgICB2YXIgbWZJbnN0YW5jZSA9IHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uaW5zdGFuY2U7XG4gICAgLy8gaGFuZGxpbmcgY2lyY3VsYXIgaW5pdCBjYWxsc1xuICAgIHZhciBpbml0VG9rZW4gPSBpbml0VG9rZW5zW3NoYXJlU2NvcGVOYW1lXTtcbiAgICBpZiAoIWluaXRUb2tlbikgaW5pdFRva2VuID0gaW5pdFRva2Vuc1tzaGFyZVNjb3BlTmFtZV0gPSB7XG4gICAgICAgIGZyb206IG1mSW5zdGFuY2UubmFtZVxuICAgIH07XG4gICAgaWYgKGluaXRTY29wZS5pbmRleE9mKGluaXRUb2tlbikgPj0gMCkgcmV0dXJuO1xuICAgIGluaXRTY29wZS5wdXNoKGluaXRUb2tlbik7XG4gICAgdmFyIHByb21pc2UgPSBpbml0UHJvbWlzZXNbc2hhcmVTY29wZU5hbWVdO1xuICAgIGlmIChwcm9taXNlKSByZXR1cm4gcHJvbWlzZTtcbiAgICB2YXIgd2FybiA9IGZ1bmN0aW9uKG1zZykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4obXNnKTtcbiAgICB9O1xuICAgIHZhciBpbml0RXh0ZXJuYWwgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICB2YXIgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiB3YXJuKCdJbml0aWFsaXphdGlvbiBvZiBzaGFyaW5nIGV4dGVybmFsIGZhaWxlZDogJyArIGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbW9kdWxlID0gd2VicGFja1JlcXVpcmUoaWQpO1xuICAgICAgICAgICAgaWYgKCFtb2R1bGUpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpbml0Rm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlICYmIG1vZHVsZS5pbml0ICYmIC8vIEB0cy1pZ25vcmUgY29tcGF0IGxlZ2FjeSBtZiBzaGFyZWQgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICBtb2R1bGUuaW5pdCh3ZWJwYWNrUmVxdWlyZS5TW3NoYXJlU2NvcGVOYW1lXSwgaW5pdFNjb3BlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobW9kdWxlLnRoZW4pIHJldHVybiBwcm9taXNlcy5wdXNoKG1vZHVsZS50aGVuKGluaXRGbiwgaGFuZGxlRXJyb3IpKTtcbiAgICAgICAgICAgIHZhciBpbml0UmVzdWx0ID0gaW5pdEZuKG1vZHVsZSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoaW5pdFJlc3VsdCAmJiB0eXBlb2YgaW5pdFJlc3VsdCAhPT0gJ2Jvb2xlYW4nICYmIGluaXRSZXN1bHQudGhlbikgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzLnB1c2goaW5pdFJlc3VsdFsnY2F0Y2gnXShoYW5kbGVFcnJvcikpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwcm9taXNlcyA9IG1mSW5zdGFuY2UuaW5pdGlhbGl6ZVNoYXJpbmcoc2hhcmVTY29wZU5hbWUsIHtcbiAgICAgICAgc3RyYXRlZ3k6IG1mSW5zdGFuY2Uub3B0aW9ucy5zaGFyZVN0cmF0ZWd5LFxuICAgICAgICBpbml0U2NvcGU6IGluaXRTY29wZSxcbiAgICAgICAgZnJvbTogJ2J1aWxkJ1xuICAgIH0pO1xuICAgIGF0dGFjaFNoYXJlU2NvcGVNYXAod2VicGFja1JlcXVpcmUpO1xuICAgIHZhciBidW5kbGVyUnVudGltZVJlbW90ZXNPcHRpb25zID0gd2VicGFja1JlcXVpcmUuZmVkZXJhdGlvbi5idW5kbGVyUnVudGltZU9wdGlvbnMucmVtb3RlcztcbiAgICBpZiAoYnVuZGxlclJ1bnRpbWVSZW1vdGVzT3B0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyhidW5kbGVyUnVudGltZVJlbW90ZXNPcHRpb25zLmlkVG9SZW1vdGVNYXApLmZvckVhY2goZnVuY3Rpb24obW9kdWxlSWQpIHtcbiAgICAgICAgICAgIHZhciBpbmZvID0gYnVuZGxlclJ1bnRpbWVSZW1vdGVzT3B0aW9ucy5pZFRvUmVtb3RlTWFwW21vZHVsZUlkXTtcbiAgICAgICAgICAgIHZhciBleHRlcm5hbE1vZHVsZUlkID0gYnVuZGxlclJ1bnRpbWVSZW1vdGVzT3B0aW9ucy5pZFRvRXh0ZXJuYWxBbmROYW1lTWFwcGluZ1ttb2R1bGVJZF1bMl07XG4gICAgICAgICAgICBpZiAoaW5mby5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgaW5pdEV4dGVybmFsKGV4dGVybmFsTW9kdWxlSWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmZvLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdGVJbmZvID0gaW5mb1swXTtcbiAgICAgICAgICAgICAgICBpZiAoIUZFREVSQVRJT05fU1VQUE9SVEVEX1RZUEVTLmluY2x1ZGVzKHJlbW90ZUluZm8uZXh0ZXJuYWxUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbml0RXh0ZXJuYWwoZXh0ZXJuYWxNb2R1bGVJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGluaXRQcm9taXNlc1tzaGFyZVNjb3BlTmFtZV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaW5pdFByb21pc2VzW3NoYXJlU2NvcGVOYW1lXSA9IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5pdFByb21pc2VzW3NoYXJlU2NvcGVOYW1lXSA9IHRydWU7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUluaXRpYWxDb25zdW1lcyhvcHRpb25zKSB7XG4gICAgdmFyIG1vZHVsZUlkID0gb3B0aW9ucy5tb2R1bGVJZCwgbW9kdWxlVG9IYW5kbGVyTWFwcGluZyA9IG9wdGlvbnMubW9kdWxlVG9IYW5kbGVyTWFwcGluZywgd2VicGFja1JlcXVpcmUgPSBvcHRpb25zLndlYnBhY2tSZXF1aXJlO1xuICAgIHZhciBmZWRlcmF0aW9uSW5zdGFuY2UgPSB3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmluc3RhbmNlO1xuICAgIGlmICghZmVkZXJhdGlvbkluc3RhbmNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmVkZXJhdGlvbiBpbnN0YW5jZSBub3QgZm91bmQhJyk7XG4gICAgfVxuICAgIHZhciBfbW9kdWxlVG9IYW5kbGVyTWFwcGluZ19tb2R1bGVJZCA9IG1vZHVsZVRvSGFuZGxlck1hcHBpbmdbbW9kdWxlSWRdLCBzaGFyZUtleSA9IF9tb2R1bGVUb0hhbmRsZXJNYXBwaW5nX21vZHVsZUlkLnNoYXJlS2V5LCBzaGFyZUluZm8gPSBfbW9kdWxlVG9IYW5kbGVyTWFwcGluZ19tb2R1bGVJZC5zaGFyZUluZm87XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZlZGVyYXRpb25JbnN0YW5jZS5sb2FkU2hhcmVTeW5jKHNoYXJlS2V5LCB7XG4gICAgICAgICAgICBjdXN0b21TaGFyZUluZm86IHNoYXJlSW5mb1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignbG9hZFNoYXJlU3luYyBmYWlsZWQhIFRoZSBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGNhbGxlZCB1bmxlc3MgeW91IHNldCBcImVhZ2VyOnRydWVcIi4gSWYgeW91IGRvIG5vdCBzZXQgaXQsIGFuZCBlbmNvdW50ZXIgdGhpcyBpc3N1ZSwgeW91IGNhbiBjaGVjayB3aGV0aGVyIGFuIGFzeW5jIGJvdW5kYXJ5IGlzIGltcGxlbWVudGVkLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUaGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBpcyBhcyBmb2xsb3dzOiAnKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc3RhbGxJbml0aWFsQ29uc3VtZXMob3B0aW9ucykge1xuICAgIHZhciBtb2R1bGVUb0hhbmRsZXJNYXBwaW5nID0gb3B0aW9ucy5tb2R1bGVUb0hhbmRsZXJNYXBwaW5nLCB3ZWJwYWNrUmVxdWlyZSA9IG9wdGlvbnMud2VicGFja1JlcXVpcmUsIGluc3RhbGxlZE1vZHVsZXMgPSBvcHRpb25zLmluc3RhbGxlZE1vZHVsZXMsIGluaXRpYWxDb25zdW1lcyA9IG9wdGlvbnMuaW5pdGlhbENvbnN1bWVzO1xuICAgIGluaXRpYWxDb25zdW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHdlYnBhY2tSZXF1aXJlLm1baWRdID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2NlbmFyaW8gd2hlbiBtb2R1bGUgaXMgdXNlZCBzeW5jaHJvbm91c2x5XG4gICAgICAgICAgICBpbnN0YWxsZWRNb2R1bGVzW2lkXSA9IDA7XG4gICAgICAgICAgICBkZWxldGUgd2VicGFja1JlcXVpcmUuY1tpZF07XG4gICAgICAgICAgICB2YXIgZmFjdG9yeSA9IGhhbmRsZUluaXRpYWxDb25zdW1lcyh7XG4gICAgICAgICAgICAgICAgbW9kdWxlSWQ6IGlkLFxuICAgICAgICAgICAgICAgIG1vZHVsZVRvSGFuZGxlck1hcHBpbmc6IG1vZHVsZVRvSGFuZGxlck1hcHBpbmcsXG4gICAgICAgICAgICAgICAgd2VicGFja1JlcXVpcmU6IHdlYnBhY2tSZXF1aXJlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNoYXJlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZSBmb3IgZWFnZXIgY29uc3VtcHRpb246IFwiLmNvbmNhdChpZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVfcHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIF9vYmplY3Rfc3ByZWFkKHRhcmdldCkge1xuICAgIGZvcih2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24oc3ltKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgX2RlZmluZV9wcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGluaXRDb250YWluZXJFbnRyeShvcHRpb25zKSB7XG4gICAgdmFyIHdlYnBhY2tSZXF1aXJlID0gb3B0aW9ucy53ZWJwYWNrUmVxdWlyZSwgc2hhcmVTY29wZSA9IG9wdGlvbnMuc2hhcmVTY29wZSwgaW5pdFNjb3BlID0gb3B0aW9ucy5pbml0U2NvcGUsIHNoYXJlU2NvcGVLZXkgPSBvcHRpb25zLnNoYXJlU2NvcGVLZXksIHJlbW90ZUVudHJ5SW5pdE9wdGlvbnMgPSBvcHRpb25zLnJlbW90ZUVudHJ5SW5pdE9wdGlvbnM7XG4gICAgaWYgKCF3ZWJwYWNrUmVxdWlyZS5TKSByZXR1cm47XG4gICAgaWYgKCF3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uIHx8ICF3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmluc3RhbmNlIHx8ICF3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmluaXRPcHRpb25zKSByZXR1cm47XG4gICAgdmFyIGZlZGVyYXRpb25JbnN0YW5jZSA9IHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uaW5zdGFuY2U7XG4gICAgdmFyIG5hbWUgPSBzaGFyZVNjb3BlS2V5IHx8ICdkZWZhdWx0JztcbiAgICBmZWRlcmF0aW9uSW5zdGFuY2UuaW5pdE9wdGlvbnMoX29iamVjdF9zcHJlYWQoe1xuICAgICAgICBuYW1lOiB3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmluaXRPcHRpb25zLm5hbWUsXG4gICAgICAgIHJlbW90ZXM6IFtdXG4gICAgfSwgcmVtb3RlRW50cnlJbml0T3B0aW9ucykpO1xuICAgIGZlZGVyYXRpb25JbnN0YW5jZS5pbml0U2hhcmVTY29wZU1hcChuYW1lLCBzaGFyZVNjb3BlLCB7XG4gICAgICAgIGhvc3RTaGFyZVNjb3BlTWFwOiAocmVtb3RlRW50cnlJbml0T3B0aW9ucyA9PT0gbnVsbCB8fCByZW1vdGVFbnRyeUluaXRPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW1vdGVFbnRyeUluaXRPcHRpb25zLnNoYXJlU2NvcGVNYXApIHx8IHt9XG4gICAgfSk7XG4gICAgaWYgKHdlYnBhY2tSZXF1aXJlLmZlZGVyYXRpb24uYXR0YWNoU2hhcmVTY29wZU1hcCkge1xuICAgICAgICB3ZWJwYWNrUmVxdWlyZS5mZWRlcmF0aW9uLmF0dGFjaFNoYXJlU2NvcGVNYXAod2VicGFja1JlcXVpcmUpO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHdlYnBhY2tSZXF1aXJlLkkobmFtZSwgaW5pdFNjb3BlKTtcbn1cblxudmFyIGZlZGVyYXRpb24gPSB7XG4gICAgcnVudGltZTogcnVudGltZSxcbiAgICBpbnN0YW5jZTogdW5kZWZpbmVkLFxuICAgIGluaXRPcHRpb25zOiB1bmRlZmluZWQsXG4gICAgYnVuZGxlclJ1bnRpbWU6IHtcbiAgICAgICAgcmVtb3RlczogcmVtb3RlcyxcbiAgICAgICAgY29uc3VtZXM6IGNvbnN1bWVzLFxuICAgICAgICBJOiBpbml0aWFsaXplU2hhcmluZyxcbiAgICAgICAgUzoge30sXG4gICAgICAgIGluc3RhbGxJbml0aWFsQ29uc3VtZXM6IGluc3RhbGxJbml0aWFsQ29uc3VtZXMsXG4gICAgICAgIGluaXRDb250YWluZXJFbnRyeTogaW5pdENvbnRhaW5lckVudHJ5XG4gICAgfSxcbiAgICBhdHRhY2hTaGFyZVNjb3BlTWFwOiBhdHRhY2hTaGFyZVNjb3BlTWFwLFxuICAgIGJ1bmRsZXJSdW50aW1lT3B0aW9uczoge31cbn07XG5cbmV4cG9ydCB7IGZlZGVyYXRpb24gYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbInJ1bnRpbWUiLCJGRURFUkFUSU9OX1NVUFBPUlRFRF9UWVBFUyIsImRlY29kZU5hbWUiLCJFTkNPREVfTkFNRV9QUkVGSVgiLCJhdHRhY2hTaGFyZVNjb3BlTWFwIiwid2VicGFja1JlcXVpcmUiLCJTIiwiZmVkZXJhdGlvbiIsImhhc0F0dGFjaFNoYXJlU2NvcGVNYXAiLCJpbnN0YW5jZSIsInNoYXJlU2NvcGVNYXAiLCJyZW1vdGVzIiwib3B0aW9ucyIsImNodW5rSWQiLCJwcm9taXNlcyIsImNodW5rTWFwcGluZyIsImlkVG9FeHRlcm5hbEFuZE5hbWVNYXBwaW5nIiwiaWRUb1JlbW90ZU1hcCIsIm8iLCJmb3JFYWNoIiwiaWQiLCJnZXRTY29wZSIsIlIiLCJkYXRhIiwicmVtb3RlSW5mb3MiLCJpbmRleE9mIiwicHVzaCIsInAiLCJvbkVycm9yIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJjb25jYXQiLCJtIiwiaGFuZGxlRnVuY3Rpb24iLCJmbiIsImFyZzEiLCJhcmcyIiwiZCIsIm5leHQiLCJmaXJzdCIsInByb21pc2UiLCJ0aGVuIiwicmVzdWx0Iiwib25FeHRlcm5hbCIsImV4dGVybmFsIiwiXyIsIkkiLCJvbkluaXRpYWxpemVkIiwiZ2V0Iiwib25GYWN0b3J5IiwiZmFjdG9yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJvblJlbW90ZUxvYWRlZCIsInJlbW90ZU5hbWUiLCJuYW1lIiwicmVtb3RlTW9kdWxlTmFtZSIsInNsaWNlIiwibG9hZFJlbW90ZSIsImxvYWRGYWN0b3J5IiwiZnJvbSIsInVzZVJ1bnRpbWVMb2FkIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJleHRlcm5hbFR5cGUiLCJjb25zdW1lcyIsImluc3RhbGxlZE1vZHVsZXMiLCJtb2R1bGVUb0hhbmRsZXJNYXBwaW5nIiwiYyIsImZlZGVyYXRpb25JbnN0YW5jZSIsIl9tb2R1bGVUb0hhbmRsZXJNYXBwaW5nX2lkIiwic2hhcmVLZXkiLCJnZXR0ZXIiLCJzaGFyZUluZm8iLCJsb2FkU2hhcmUiLCJjdXN0b21TaGFyZUluZm8iLCJjYXRjaCIsImUiLCJpbml0aWFsaXplU2hhcmluZyIsInBhcmFtIiwic2hhcmVTY29wZU5hbWUiLCJpbml0UHJvbWlzZXMiLCJpbml0VG9rZW5zIiwiaW5pdFNjb3BlIiwibWZJbnN0YW5jZSIsImluaXRUb2tlbiIsIndhcm4iLCJtc2ciLCJjb25zb2xlIiwiaW5pdEV4dGVybmFsIiwiaGFuZGxlRXJyb3IiLCJlcnIiLCJpbml0Rm4iLCJpbml0IiwiaW5pdFJlc3VsdCIsInN0cmF0ZWd5Iiwic2hhcmVTdHJhdGVneSIsImJ1bmRsZXJSdW50aW1lUmVtb3Rlc09wdGlvbnMiLCJidW5kbGVyUnVudGltZU9wdGlvbnMiLCJPYmplY3QiLCJrZXlzIiwibW9kdWxlSWQiLCJpbmZvIiwiZXh0ZXJuYWxNb2R1bGVJZCIsInJlbW90ZUluZm8iLCJQcm9taXNlIiwiYWxsIiwiaGFuZGxlSW5pdGlhbENvbnN1bWVzIiwiX21vZHVsZVRvSGFuZGxlck1hcHBpbmdfbW9kdWxlSWQiLCJsb2FkU2hhcmVTeW5jIiwiaW5zdGFsbEluaXRpYWxDb25zdW1lcyIsImluaXRpYWxDb25zdW1lcyIsIl9kZWZpbmVfcHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX29iamVjdF9zcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwic291cmNlIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImluaXRDb250YWluZXJFbnRyeSIsInNoYXJlU2NvcGUiLCJzaGFyZVNjb3BlS2V5IiwicmVtb3RlRW50cnlJbml0T3B0aW9ucyIsImluaXRPcHRpb25zIiwiaW5pdFNoYXJlU2NvcGVNYXAiLCJob3N0U2hhcmVTY29wZU1hcCIsInVuZGVmaW5lZCIsImJ1bmRsZXJSdW50aW1lIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/webpack-bundler-runtime/dist/index.esm.js\n");

/***/ }),

/***/ "webpack/container/entry/checkout":
/*!***********************!*\
  !*** container entry ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var moduleMap = {
	"./noop": () => {
		return __webpack_require__.e(/*! __federation_expose_noop */ "__federation_expose_noop").then(() => (() => ((__webpack_require__(/*! ../../packages/nextjs-mf/dist/src/federation-noop.js */ "../../packages/nextjs-mf/dist/src/federation-noop.js")))));
	},
	"./react": () => {
		return __webpack_require__.e(/*! __federation_expose_react */ "vendor-chunks/react@18.3.1").then(() => (() => ((__webpack_require__(/*! ../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js */ "../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js")))));
	},
	"./react-dom": () => {
		return Promise.all(/*! __federation_expose_react_dom */[__webpack_require__.e("vendor-chunks/scheduler@0.23.2"), __webpack_require__.e("vendor-chunks/react-dom@18.3.1_react@18.3.1")]).then(() => (() => ((__webpack_require__(/*! ../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js */ "../../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js")))));
	},
	"./next/router": () => {
		return Promise.all(/*! __federation_expose_next__router */[__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1"), __webpack_require__.e("__federation_expose_next__router")]).then(() => (() => ((__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1/node_modules/next/router.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1/node_modules/next/router.js")))));
	},
	"./CheckoutTitle": () => {
		return __webpack_require__.e(/*! __federation_expose_CheckoutTitle */ "__federation_expose_CheckoutTitle").then(() => (() => ((__webpack_require__(/*! ./components/CheckoutTitle */ "./components/CheckoutTitle.tsx")))));
	},
	"./ButtonOldAnt": () => {
		return Promise.all(/*! __federation_expose_ButtonOldAnt */[__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/antd@5.19.1_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-motion@2.9.2_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/react-is@18.3.1"), __webpack_require__.e("vendor-chunks/rc-picker@4.6.9_dayjs@1.11.12_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-pagination@4.2.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("__federation_expose_ButtonOldAnt")]).then(() => (() => ((__webpack_require__(/*! ./components/ButtonOldAnt */ "./components/ButtonOldAnt.tsx")))));
	},
	"./menu": () => {
		return Promise.all(/*! __federation_expose_menu */[__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/antd@5.19.1_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-motion@2.9.2_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/react-is@18.3.1"), __webpack_require__.e("vendor-chunks/rc-picker@4.6.9_dayjs@1.11.12_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-pagination@4.2.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@rc-component+async-validator@5.0.4"), __webpack_require__.e("vendor-chunks/rc-menu@9.14.1_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-field-form@2.2.1_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@rc-component+trigger@2.2.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-overflow@1.3.2_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@rc-component+portal@1.1.2_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-resize-observer@1.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-tooltip@6.2.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/resize-observer-polyfill@1.5.1"), __webpack_require__.e("__federation_expose_menu")]).then(() => (() => ((__webpack_require__(/*! ./components/menu */ "./components/menu.tsx")))));
	},
	"./pages-map": () => {
		return __webpack_require__.e(/*! __federation_expose_pages_map */ "__federation_expose_pages_map").then(() => (() => ((__webpack_require__(/*! ../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js!../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js */ "../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js!../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js")))));
	},
	"./pages-map-v2": () => {
		return __webpack_require__.e(/*! __federation_expose_pages_map_v2 */ "__federation_expose_pages_map_v2").then(() => (() => ((__webpack_require__(/*! ../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js?v2!../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js */ "../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js?v2!../../packages/nextjs-mf/dist/src/loaders/nextPageMapLoader.js")))));
	},
	"./pages/index": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__index */ "__federation_expose_pages__index").then(() => (() => ((__webpack_require__(/*! ./pages/index.js */ "./pages/index.js")))));
	},
	"./pages/checkout/[...slug]": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__checkout__[...slug] */ "__federation_expose_pages__checkout__[...slug]").then(() => (() => ((__webpack_require__(/*! ./pages/checkout/[...slug].tsx */ "./pages/checkout/[...slug].tsx")))));
	},
	"./pages/checkout/[pid]": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__checkout__[pid] */ "__federation_expose_pages__checkout__[pid]").then(() => (() => ((__webpack_require__(/*! ./pages/checkout/[pid].tsx */ "./pages/checkout/[pid].tsx")))));
	},
	"./pages/checkout/exposed-pages": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__checkout__exposed_pages */ "__federation_expose_pages__checkout__exposed_pages").then(() => (() => ((__webpack_require__(/*! ./pages/checkout/exposed-pages.tsx */ "./pages/checkout/exposed-pages.tsx")))));
	},
	"./pages/checkout/index": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__checkout__index */ "__federation_expose_pages__checkout__index").then(() => (() => ((__webpack_require__(/*! ./pages/checkout/index.tsx */ "./pages/checkout/index.tsx")))));
	},
	"./pages/checkout/test-check-button": () => {
		return Promise.all(/*! __federation_expose_pages__checkout__test_check_button */[__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/antd@5.19.1_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-motion@2.9.2_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/react-is@18.3.1"), __webpack_require__.e("vendor-chunks/rc-picker@4.6.9_dayjs@1.11.12_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/rc-pagination@4.2.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("__federation_expose_pages__checkout__test_check_button")]).then(() => (() => ((__webpack_require__(/*! ./pages/checkout/test-check-button.tsx */ "./pages/checkout/test-check-button.tsx")))));
	},
	"./pages/checkout/test-title": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__checkout__test_title */ "__federation_expose_pages__checkout__test_title").then(() => (() => ((__webpack_require__(/*! ./pages/checkout/test-title.tsx */ "./pages/checkout/test-title.tsx")))));
	},
	"./pages/home/exposed-pages": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__home__exposed_pages */ "__federation_expose_pages__home__exposed_pages").then(() => (() => ((__webpack_require__(/*! ./pages/home/exposed-pages.tsx */ "./pages/home/exposed-pages.tsx")))));
	},
	"./pages/home/test-broken-remotes": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__home__test_broken_remotes */ "__federation_expose_pages__home__test_broken_remotes").then(() => (() => ((__webpack_require__(/*! ./pages/home/test-broken-remotes.tsx */ "./pages/home/test-broken-remotes.tsx")))));
	},
	"./pages/home/test-remote-hook": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__home__test_remote_hook */ "__federation_expose_pages__home__test_remote_hook").then(() => (() => ((__webpack_require__(/*! ./pages/home/test-remote-hook.tsx */ "./pages/home/test-remote-hook.tsx")))));
	},
	"./pages/home/test-shared-nav": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__home__test_shared_nav */ "__federation_expose_pages__home__test_shared_nav").then(() => (() => ((__webpack_require__(/*! ./pages/home/test-shared-nav.tsx */ "./pages/home/test-shared-nav.tsx")))));
	},
	"./pages/shop/exposed-pages": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__shop__exposed_pages */ "__federation_expose_pages__shop__exposed_pages").then(() => (() => ((__webpack_require__(/*! ./pages/shop/exposed-pages.js */ "./pages/shop/exposed-pages.js")))));
	},
	"./pages/shop/index": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__shop__index */ "__federation_expose_pages__shop__index").then(() => (() => ((__webpack_require__(/*! ./pages/shop/index.js */ "./pages/shop/index.js")))));
	},
	"./pages/shop/test-webpack-png": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__shop__test_webpack_png */ "__federation_expose_pages__shop__test_webpack_png").then(() => (() => ((__webpack_require__(/*! ./pages/shop/test-webpack-png.js */ "./pages/shop/test-webpack-png.js")))));
	},
	"./pages/shop/test-webpack-svg": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__shop__test_webpack_svg */ "__federation_expose_pages__shop__test_webpack_svg").then(() => (() => ((__webpack_require__(/*! ./pages/shop/test-webpack-svg.js */ "./pages/shop/test-webpack-svg.js")))));
	},
	"./pages/shop/products/[...slug]": () => {
		return __webpack_require__.e(/*! __federation_expose_pages__shop__products__[...slug] */ "__federation_expose_pages__shop__products__[...slug]").then(() => (() => ((__webpack_require__(/*! ./pages/shop/products/[...slug].js */ "./pages/shop/products/[...slug].js")))));
	}
};
var get = (module, getScope) => {
	__webpack_require__.R = getScope;
	getScope = (
		__webpack_require__.o(moduleMap, module)
			? moduleMap[module]()
			: Promise.resolve().then(() => {
				throw new Error('Module "' + module + '" does not exist in container.');
			})
	);
	__webpack_require__.R = undefined;
	return getScope;
};
var init = (shareScope, initScope, remoteEntryInitOptions) => {
	return __webpack_require__.federation.bundlerRuntime.initContainerEntry({	webpackRequire: __webpack_require__,
		shareScope: shareScope,
		initScope: initScope,
		remoteEntryInitOptions: remoteEntryInitOptions,
		shareScopeKey: "default"
	})
};
__webpack_require__(/*! ./node_modules/.federation/entry.cb4847f4895a7e35e3f1005036da398f.js */ "./node_modules/.federation/entry.cb4847f4895a7e35e3f1005036da398f.js")

// This exports getters to disallow modifications
__webpack_require__.d(exports, {
	get: () => (get),
	init: () => (init)
});

/***/ }),

/***/ "next/amp":
/*!***************************!*\
  !*** external "next/amp" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("next/amp");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/error":
/*!*****************************!*\
  !*** external "next/error" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("next/error");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("react-dom");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("styled-jsx/style");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "webpack/container/reference/home":
/*!*********************************************************************************!*\
  !*** external "home_app@http://localhost:3000/_next/static/ssr/remoteEntry.js" ***!
  \*********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var __webpack_error__ = new Error();
module.exports = new Promise((resolve, reject) => {
	if(typeof home_app !== "undefined") return resolve();
	__webpack_require__.l("http://localhost:3000/_next/static/ssr/remoteEntry.js", (event) => {
		if(typeof home_app !== "undefined") return resolve();
		var errorType = event && (event.type === 'load' ? 'missing' : event.type);
		var realSrc = event && event.target && event.target.src;
		__webpack_error__.message = 'Loading script failed.\n(' + errorType + ': ' + realSrc + ')';
		__webpack_error__.name = 'ScriptExternalLoadError';
		__webpack_error__.type = errorType;
		__webpack_error__.request = realSrc;
		reject(__webpack_error__);
	}, "home_app");
}).then(() => (home_app));

/***/ }),

/***/ "webpack/container/reference/shop":
/*!*****************************************************************************!*\
  !*** external "shop@http://localhost:3001/_next/static/ssr/remoteEntry.js" ***!
  \*****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var __webpack_error__ = new Error();
module.exports = new Promise((resolve, reject) => {
	if(typeof shop !== "undefined") return resolve();
	__webpack_require__.l("http://localhost:3001/_next/static/ssr/remoteEntry.js", (event) => {
		if(typeof shop !== "undefined") return resolve();
		var errorType = event && (event.type === 'load' ? 'missing' : event.type);
		var realSrc = event && event.target && event.target.src;
		__webpack_error__.message = 'Loading script failed.\n(' + errorType + ': ' + realSrc + ')';
		__webpack_error__.name = 'ScriptExternalLoadError';
		__webpack_error__.type = errorType;
		__webpack_error__.request = realSrc;
		reject(__webpack_error__);
	}, "shop");
}).then(() => (shop));

/***/ }),

/***/ "../../packages/nextjs-mf/dist/src/plugins/container/runtimePlugin.js?runtimePlugin":
/*!******************************************************************************************!*\
  !*** ../../packages/nextjs-mf/dist/src/plugins/container/runtimePlugin.js?runtimePlugin ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports[\"default\"] = default_1;\nfunction default_1() {\n    return {\n        name: \"next-internal-plugin\",\n        createScript: function(args) {\n            // Updated type\n            var url = args.url;\n            var attrs = args.attrs;\n            if (false) { var script; }\n            return undefined;\n        },\n        errorLoadRemote: function(args) {\n            var id = args.id;\n            var error = args.error;\n            var from = args.from;\n            console.error(id, \"offline\");\n            var pg = function() {\n                console.error(id, \"offline\", error);\n                return null;\n            };\n            pg.getInitialProps = function(ctx) {\n                // Type assertion to add getInitialProps\n                return {};\n            };\n            var mod;\n            if (from === \"build\") {\n                mod = function() {\n                    return {\n                        __esModule: true,\n                        default: pg,\n                        getServerSideProps: function() {\n                            return {\n                                props: {}\n                            };\n                        }\n                    };\n                };\n            } else {\n                mod = {\n                    default: pg,\n                    getServerSideProps: function() {\n                        return {\n                            props: {}\n                        };\n                    }\n                };\n            }\n            return mod;\n        },\n        beforeInit: function(args) {\n            if (!globalThis.usedChunks) globalThis.usedChunks = new Set();\n            if (typeof __webpack_require__.j === \"string\" && !__webpack_require__.j.startsWith(\"webpack\")) {\n                return args;\n            }\n            var moduleCache = args.origin.moduleCache;\n            var name = args.origin.name;\n            var gs = new Function(\"return globalThis\")();\n            var attachedRemote = gs[name];\n            if (attachedRemote) {\n                moduleCache.set(name, attachedRemote);\n            }\n            return args;\n        },\n        init: function(args) {\n            return args;\n        },\n        beforeRequest: function(args) {\n            var options = args.options;\n            var id = args.id;\n            var remoteName = id.split(\"/\").shift();\n            var remote = options.remotes.find(function(remote) {\n                return remote.name === remoteName;\n            });\n            if (!remote) return args;\n            if (remote && remote.entry && remote.entry.includes(\"?t=\")) {\n                return args;\n            }\n            remote.entry = remote.entry + \"?t=\" + Date.now();\n            return args;\n        },\n        afterResolve: function(args) {\n            return args;\n        },\n        onLoad: function(args) {\n            var exposeModuleFactory = args.exposeModuleFactory;\n            var exposeModule = args.exposeModule;\n            var id = args.id;\n            var moduleOrFactory = exposeModuleFactory || exposeModule;\n            if (!moduleOrFactory) return args; // Ensure moduleOrFactory is defined\n            if (true) {\n                var exposedModuleExports;\n                try {\n                    exposedModuleExports = moduleOrFactory();\n                } catch (e) {\n                    exposedModuleExports = moduleOrFactory;\n                }\n                var handler = {\n                    get: function(target, prop, receiver) {\n                        // Check if accessing a static property of the function itself\n                        if (target === exposedModuleExports && typeof exposedModuleExports[prop] === \"function\") {\n                            return function() {\n                                globalThis.usedChunks.add(id);\n                                return exposedModuleExports[prop].apply(this, arguments);\n                            };\n                        }\n                        var originalMethod = target[prop];\n                        if (typeof originalMethod === \"function\") {\n                            var proxiedFunction = function() {\n                                globalThis.usedChunks.add(id);\n                                return originalMethod.apply(this, arguments);\n                            };\n                            // Copy all enumerable properties from the original method to the proxied function\n                            Object.keys(originalMethod).forEach(function(prop) {\n                                Object.defineProperty(proxiedFunction, prop, {\n                                    value: originalMethod[prop],\n                                    writable: true,\n                                    enumerable: true,\n                                    configurable: true\n                                });\n                            });\n                            return proxiedFunction;\n                        }\n                        return Reflect.get(target, prop, receiver);\n                    }\n                };\n                if (typeof exposedModuleExports === \"function\") {\n                    // If the module export is a function, we create a proxy that can handle both its\n                    // call (as a function) and access to its properties (including static methods).\n                    exposedModuleExports = new Proxy(exposedModuleExports, handler);\n                    // Proxy static properties specifically\n                    var staticProps = Object.getOwnPropertyNames(exposedModuleExports);\n                    staticProps.forEach(function(prop) {\n                        if (typeof exposedModuleExports[prop] === \"function\") {\n                            exposedModuleExports[prop] = new Proxy(exposedModuleExports[prop], handler);\n                        }\n                    });\n                    return function() {\n                        return exposedModuleExports;\n                    };\n                } else {\n                    // For objects, just wrap the exported object itself\n                    exposedModuleExports = new Proxy(exposedModuleExports, handler);\n                }\n                return exposedModuleExports;\n            }\n            return args;\n        },\n        resolveShare: function(args) {\n            if (args.pkgName !== \"react\" && args.pkgName !== \"react-dom\" && !args.pkgName.startsWith(\"next/\")) {\n                return args;\n            }\n            var shareScopeMap = args.shareScopeMap;\n            var scope = args.scope;\n            var pkgName = args.pkgName;\n            var version = args.version;\n            var GlobalFederation = args.GlobalFederation;\n            var host = GlobalFederation[\"__INSTANCES__\"][0];\n            if (!host) {\n                return args;\n            }\n            if (!host.options.shared[pkgName]) {\n                return args;\n            }\n            //handle react host next remote, disable resolving when not next host\n            args.resolver = function() {\n                shareScopeMap[scope][pkgName][version] = host.options.shared[pkgName][0]; // replace local share scope manually with desired module\n                return shareScopeMap[scope][pkgName][version];\n            };\n            return args;\n        },\n        beforeLoadShare: async function(args) {\n            return args;\n        }\n    };\n} //# sourceMappingURL=runtimePlugin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvbmV4dGpzLW1mL2Rpc3Qvc3JjL3BsdWdpbnMvY29udGFpbmVyL3J1bnRpbWVQbHVnaW4uanM/cnVudGltZVBsdWdpbiIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsa0JBQWUsR0FBR0c7QUFDbEIsU0FBU0E7SUFDTCxPQUFPO1FBQ0hDLE1BQU07UUFDTkMsY0FBYyxTQUFVQyxJQUFJO1lBQ3hCLGVBQWU7WUFDZixJQUFJQyxNQUFNRCxLQUFLQyxHQUFHO1lBQ2xCLElBQUlDLFFBQVFGLEtBQUtFLEtBQUs7WUFDdEIsSUFBSSxLQUFrQixFQUFhLGVBTWxDO1lBQ0QsT0FBT087UUFDWDtRQUNBQyxpQkFBaUIsU0FBVVYsSUFBSTtZQUMzQixJQUFJVyxLQUFLWCxLQUFLVyxFQUFFO1lBQ2hCLElBQUlDLFFBQVFaLEtBQUtZLEtBQUs7WUFDdEIsSUFBSUMsT0FBT2IsS0FBS2EsSUFBSTtZQUNwQkMsUUFBUUYsS0FBSyxDQUFDRCxJQUFJO1lBQ2xCLElBQUlJLEtBQUs7Z0JBQ0xELFFBQVFGLEtBQUssQ0FBQ0QsSUFBSSxXQUFXQztnQkFDN0IsT0FBTztZQUNYO1lBQ0FHLEdBQUdDLGVBQWUsR0FBRyxTQUFVQyxHQUFHO2dCQUM5Qix3Q0FBd0M7Z0JBQ3hDLE9BQU8sQ0FBQztZQUNaO1lBQ0EsSUFBSUM7WUFDSixJQUFJTCxTQUFTLFNBQVM7Z0JBQ2xCSyxNQUFNO29CQUNGLE9BQU87d0JBQ0hDLFlBQVk7d0JBQ1p2QixTQUFTbUI7d0JBQ1RLLG9CQUFvQjs0QkFDaEIsT0FBTztnQ0FBRUMsT0FBTyxDQUFDOzRCQUFFO3dCQUN2QjtvQkFDSjtnQkFDSjtZQUNKLE9BQ0s7Z0JBQ0RILE1BQU07b0JBQ0Z0QixTQUFTbUI7b0JBQ1RLLG9CQUFvQjt3QkFDaEIsT0FBTzs0QkFBRUMsT0FBTyxDQUFDO3dCQUFFO29CQUN2QjtnQkFDSjtZQUNKO1lBQ0EsT0FBT0g7UUFDWDtRQUNB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QU07Z0JBQ1AsT0FBTy9FO1lBQ1g7WUFDQSxJQUFJLENBQUMrRSxLQUFLM0MsT0FBTyxDQUFDNEMsTUFBTSxDQUFDTixRQUFRLEVBQUU7Z0JBQy9CLE9BQU8xRTtZQUNYO1lBQ0EscUVBQXFFO1lBQ3JFQSxLQUFLaUYsUUFBUSxHQUFHO2dCQUNaTixhQUFhLENBQUNDLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxRQUFRLEdBQ2xDRSxLQUFLM0MsT0FBTyxDQUFDNEMsTUFBTSxDQUFDTixRQUFRLENBQUMsRUFBRSxFQUFFLHlEQUF5RDtnQkFDOUYsT0FBT0MsYUFBYSxDQUFDQyxNQUFNLENBQUNGLFFBQVEsQ0FBQ0csUUFBUTtZQUNqRDtZQUNBLE9BQU83RTtRQUNYO1FBQ0FrRixpQkFBaUIsZUFBZ0JsRixJQUFJO1lBQ2pDLE9BQU9BO1FBQ1g7SUFDSjtBQUNKLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hlY2tvdXQvLi4vLi4vcGFja2FnZXMvbmV4dGpzLW1mL2Rpc3Qvc3JjL3BsdWdpbnMvY29udGFpbmVyL3J1bnRpbWVQbHVnaW4uanM/MmNmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZmF1bHRfMTtcbmZ1bmN0aW9uIGRlZmF1bHRfMSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiAnbmV4dC1pbnRlcm5hbC1wbHVnaW4nLFxuICAgICAgICBjcmVhdGVTY3JpcHQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGVkIHR5cGVcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzLnVybDtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IGFyZ3MuYXR0cnM7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICAgICAgICAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRycz8uWydjcm9zc29yaWdpbiddO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNjcmlwdDogc2NyaXB0LCB0aW1lb3V0OiA4MDAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvckxvYWRSZW1vdGU6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBhcmdzLmlkO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gYXJncy5lcnJvcjtcbiAgICAgICAgICAgIHZhciBmcm9tID0gYXJncy5mcm9tO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihpZCwgJ29mZmxpbmUnKTtcbiAgICAgICAgICAgIHZhciBwZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGlkLCAnb2ZmbGluZScsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwZy5nZXRJbml0aWFsUHJvcHMgPSBmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgICAgICAgICAgLy8gVHlwZSBhc3NlcnRpb24gdG8gYWRkIGdldEluaXRpYWxQcm9wc1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbW9kO1xuICAgICAgICAgICAgaWYgKGZyb20gPT09ICdidWlsZCcpIHtcbiAgICAgICAgICAgICAgICBtb2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2VzTW9kdWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcGcsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRTZXJ2ZXJTaWRlUHJvcHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBwcm9wczoge30gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcGcsXG4gICAgICAgICAgICAgICAgICAgIGdldFNlcnZlclNpZGVQcm9wczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcHJvcHM6IHt9IH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2Q7XG4gICAgICAgIH0sXG4gICAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBpZiAoIWdsb2JhbFRoaXMudXNlZENodW5rcylcbiAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLnVzZWRDaHVua3MgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIF9fd2VicGFja19ydW50aW1lX2lkX18gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgIV9fd2VicGFja19ydW50aW1lX2lkX18uc3RhcnRzV2l0aCgnd2VicGFjaycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbW9kdWxlQ2FjaGUgPSBhcmdzLm9yaWdpbi5tb2R1bGVDYWNoZTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gYXJncy5vcmlnaW4ubmFtZTtcbiAgICAgICAgICAgIHZhciBncyA9IG5ldyBGdW5jdGlvbigncmV0dXJuIGdsb2JhbFRoaXMnKSgpO1xuICAgICAgICAgICAgdmFyIGF0dGFjaGVkUmVtb3RlID0gZ3NbbmFtZV07XG4gICAgICAgICAgICBpZiAoYXR0YWNoZWRSZW1vdGUpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGVDYWNoZS5zZXQobmFtZSwgYXR0YWNoZWRSZW1vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfSxcbiAgICAgICAgYmVmb3JlUmVxdWVzdDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIGlkID0gYXJncy5pZDtcbiAgICAgICAgICAgIHZhciByZW1vdGVOYW1lID0gaWQuc3BsaXQoJy8nKS5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIHJlbW90ZSA9IG9wdGlvbnMucmVtb3Rlcy5maW5kKGZ1bmN0aW9uIChyZW1vdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlLm5hbWUgPT09IHJlbW90ZU5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVtb3RlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICAgICAgaWYgKHJlbW90ZSAmJiByZW1vdGUuZW50cnkgJiYgcmVtb3RlLmVudHJ5LmluY2x1ZGVzKCc/dD0nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3RlLmVudHJ5ID0gcmVtb3RlLmVudHJ5ICsgJz90PScgKyBEYXRlLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyUmVzb2x2ZTogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICB9LFxuICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgZXhwb3NlTW9kdWxlRmFjdG9yeSA9IGFyZ3MuZXhwb3NlTW9kdWxlRmFjdG9yeTtcbiAgICAgICAgICAgIHZhciBleHBvc2VNb2R1bGUgPSBhcmdzLmV4cG9zZU1vZHVsZTtcbiAgICAgICAgICAgIHZhciBpZCA9IGFyZ3MuaWQ7XG4gICAgICAgICAgICB2YXIgbW9kdWxlT3JGYWN0b3J5ID0gZXhwb3NlTW9kdWxlRmFjdG9yeSB8fCBleHBvc2VNb2R1bGU7XG4gICAgICAgICAgICBpZiAoIW1vZHVsZU9yRmFjdG9yeSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnczsgLy8gRW5zdXJlIG1vZHVsZU9yRmFjdG9yeSBpcyBkZWZpbmVkXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhwb3NlZE1vZHVsZUV4cG9ydHM7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlZE1vZHVsZUV4cG9ydHMgPSBtb2R1bGVPckZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlZE1vZHVsZUV4cG9ydHMgPSBtb2R1bGVPckZhY3Rvcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhY2Nlc3NpbmcgYSBzdGF0aWMgcHJvcGVydHkgb2YgdGhlIGZ1bmN0aW9uIGl0c2VsZlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gZXhwb3NlZE1vZHVsZUV4cG9ydHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZXhwb3NlZE1vZHVsZUV4cG9ydHNbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLnVzZWRDaHVua3MuYWRkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9zZWRNb2R1bGVFeHBvcnRzW3Byb3BdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbE1ldGhvZCA9IHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxNZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJveGllZEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLnVzZWRDaHVua3MuYWRkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgb3JpZ2luYWwgbWV0aG9kIHRvIHRoZSBwcm94aWVkIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob3JpZ2luYWxNZXRob2QpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3hpZWRGdW5jdGlvbiwgcHJvcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsTWV0aG9kW3Byb3BdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJveGllZEZ1bmN0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleHBvc2VkTW9kdWxlRXhwb3J0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9kdWxlIGV4cG9ydCBpcyBhIGZ1bmN0aW9uLCB3ZSBjcmVhdGUgYSBwcm94eSB0aGF0IGNhbiBoYW5kbGUgYm90aCBpdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCAoYXMgYSBmdW5jdGlvbikgYW5kIGFjY2VzcyB0byBpdHMgcHJvcGVydGllcyAoaW5jbHVkaW5nIHN0YXRpYyBtZXRob2RzKS5cbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlZE1vZHVsZUV4cG9ydHMgPSBuZXcgUHJveHkoZXhwb3NlZE1vZHVsZUV4cG9ydHMsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm94eSBzdGF0aWMgcHJvcGVydGllcyBzcGVjaWZpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRpY1Byb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXhwb3NlZE1vZHVsZUV4cG9ydHMpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0aWNQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4cG9zZWRNb2R1bGVFeHBvcnRzW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3NlZE1vZHVsZUV4cG9ydHNbcHJvcF0gPSBuZXcgUHJveHkoZXhwb3NlZE1vZHVsZUV4cG9ydHNbcHJvcF0sIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHBvc2VkTW9kdWxlRXhwb3J0cztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBvYmplY3RzLCBqdXN0IHdyYXAgdGhlIGV4cG9ydGVkIG9iamVjdCBpdHNlbGZcbiAgICAgICAgICAgICAgICAgICAgZXhwb3NlZE1vZHVsZUV4cG9ydHMgPSBuZXcgUHJveHkoZXhwb3NlZE1vZHVsZUV4cG9ydHMsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3NlZE1vZHVsZUV4cG9ydHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZVNoYXJlOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgaWYgKGFyZ3MucGtnTmFtZSAhPT0gJ3JlYWN0JyAmJlxuICAgICAgICAgICAgICAgIGFyZ3MucGtnTmFtZSAhPT0gJ3JlYWN0LWRvbScgJiZcbiAgICAgICAgICAgICAgICAhYXJncy5wa2dOYW1lLnN0YXJ0c1dpdGgoJ25leHQvJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaGFyZVNjb3BlTWFwID0gYXJncy5zaGFyZVNjb3BlTWFwO1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gYXJncy5zY29wZTtcbiAgICAgICAgICAgIHZhciBwa2dOYW1lID0gYXJncy5wa2dOYW1lO1xuICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBhcmdzLnZlcnNpb247XG4gICAgICAgICAgICB2YXIgR2xvYmFsRmVkZXJhdGlvbiA9IGFyZ3MuR2xvYmFsRmVkZXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBob3N0ID0gR2xvYmFsRmVkZXJhdGlvblsnX19JTlNUQU5DRVNfXyddWzBdO1xuICAgICAgICAgICAgaWYgKCFob3N0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhvc3Qub3B0aW9ucy5zaGFyZWRbcGtnTmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vaGFuZGxlIHJlYWN0IGhvc3QgbmV4dCByZW1vdGUsIGRpc2FibGUgcmVzb2x2aW5nIHdoZW4gbm90IG5leHQgaG9zdFxuICAgICAgICAgICAgYXJncy5yZXNvbHZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaGFyZVNjb3BlTWFwW3Njb3BlXVtwa2dOYW1lXVt2ZXJzaW9uXSA9XG4gICAgICAgICAgICAgICAgICAgIGhvc3Qub3B0aW9ucy5zaGFyZWRbcGtnTmFtZV1bMF07IC8vIHJlcGxhY2UgbG9jYWwgc2hhcmUgc2NvcGUgbWFudWFsbHkgd2l0aCBkZXNpcmVkIG1vZHVsZVxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFyZVNjb3BlTWFwW3Njb3BlXVtwa2dOYW1lXVt2ZXJzaW9uXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfSxcbiAgICAgICAgYmVmb3JlTG9hZFNoYXJlOiBhc3luYyBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bnRpbWVQbHVnaW4uanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImRlZmF1bHRfMSIsIm5hbWUiLCJjcmVhdGVTY3JpcHQiLCJhcmdzIiwidXJsIiwiYXR0cnMiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhc3luYyIsInRpbWVvdXQiLCJ1bmRlZmluZWQiLCJlcnJvckxvYWRSZW1vdGUiLCJpZCIsImVycm9yIiwiZnJvbSIsImNvbnNvbGUiLCJwZyIsImdldEluaXRpYWxQcm9wcyIsImN0eCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJnZXRTZXJ2ZXJTaWRlUHJvcHMiLCJwcm9wcyIsImJlZm9yZUluaXQiLCJnbG9iYWxUaGlzIiwidXNlZENodW5rcyIsIlNldCIsIl9fd2VicGFja19ydW50aW1lX2lkX18iLCJzdGFydHNXaXRoIiwibW9kdWxlQ2FjaGUiLCJvcmlnaW4iLCJncyIsIkZ1bmN0aW9uIiwiYXR0YWNoZWRSZW1vdGUiLCJzZXQiLCJpbml0IiwiYmVmb3JlUmVxdWVzdCIsIm9wdGlvbnMiLCJyZW1vdGVOYW1lIiwic3BsaXQiLCJzaGlmdCIsInJlbW90ZSIsInJlbW90ZXMiLCJmaW5kIiwiZW50cnkiLCJpbmNsdWRlcyIsIkRhdGUiLCJub3ciLCJhZnRlclJlc29sdmUiLCJvbkxvYWQiLCJleHBvc2VNb2R1bGVGYWN0b3J5IiwiZXhwb3NlTW9kdWxlIiwibW9kdWxlT3JGYWN0b3J5IiwiZXhwb3NlZE1vZHVsZUV4cG9ydHMiLCJlIiwiaGFuZGxlciIsImdldCIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImFkZCIsImFwcGx5IiwiYXJndW1lbnRzIiwib3JpZ2luYWxNZXRob2QiLCJwcm94aWVkRnVuY3Rpb24iLCJrZXlzIiwiZm9yRWFjaCIsIndyaXRhYmxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIlJlZmxlY3QiLCJQcm94eSIsInN0YXRpY1Byb3BzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInJlc29sdmVTaGFyZSIsInBrZ05hbWUiLCJzaGFyZVNjb3BlTWFwIiwic2NvcGUiLCJ2ZXJzaW9uIiwiR2xvYmFsRmVkZXJhdGlvbiIsImhvc3QiLCJzaGFyZWQiLCJyZXNvbHZlciIsImJlZm9yZUxvYWRTaGFyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/nextjs-mf/dist/src/plugins/container/runtimePlugin.js?runtimePlugin\n");

/***/ }),

/***/ "../../packages/node/dist/src/runtimePlugin.js?runtimePlugin":
/*!*******************************************************************!*\
  !*** ../../packages/node/dist/src/runtimePlugin.js?runtimePlugin ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports[\"default\"] = default_1;\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error(\"import specifier is required\");\n    }\n    const importModule = new Function(\"name\", `return import(name)`);\n    return importModule(name).then((res)=>res.default).catch((error)=>{\n        console.error(`Error importing module ${name}:`, error);\n        throw error;\n    });\n}\nfunction default_1() {\n    return {\n        name: \"node-federation-plugin\",\n        beforeInit (args) {\n            // Patch webpack chunk loading handlers\n            (()=>{\n                const resolveFile = (rootOutputDir, chunkId)=>{\n                    const path = require(\"path\");\n                    return path.join(__dirname, rootOutputDir + __webpack_require__.u(chunkId));\n                };\n                const resolveUrl = (remoteName, chunkName)=>{\n                    try {\n                        return new URL(chunkName, __webpack_require__.p);\n                    } catch  {\n                        const entryUrl = returnFromCache(remoteName) || returnFromGlobalInstances(remoteName);\n                        if (!entryUrl) return null;\n                        const url = new URL(entryUrl);\n                        const path = require(\"path\");\n                        url.pathname = url.pathname.replace(path.basename(url.pathname), chunkName);\n                        return url;\n                    }\n                };\n                const returnFromCache = (remoteName)=>{\n                    const globalThisVal = new Function(\"return globalThis\")();\n                    const federationInstances = globalThisVal[\"__FEDERATION__\"][\"__INSTANCES__\"];\n                    for (const instance of federationInstances){\n                        const moduleContainer = instance.moduleCache.get(remoteName);\n                        if (moduleContainer?.remoteInfo) return moduleContainer.remoteInfo.entry;\n                    }\n                    return null;\n                };\n                const returnFromGlobalInstances = (remoteName)=>{\n                    const globalThisVal = new Function(\"return globalThis\")();\n                    const federationInstances = globalThisVal[\"__FEDERATION__\"][\"__INSTANCES__\"];\n                    for (const instance of federationInstances){\n                        for (const remote of instance.options.remotes){\n                            if (remote.name === remoteName || remote.alias === remoteName) {\n                                console.log(\"Backup remote entry found:\", remote.entry);\n                                return remote.entry;\n                            }\n                        }\n                    }\n                    return null;\n                };\n                const loadFromFs = (filename, callback)=>{\n                    const fs = require(\"fs\");\n                    const path = require(\"path\");\n                    const vm = require(\"vm\");\n                    if (fs.existsSync(filename)) {\n                        fs.readFile(filename, \"utf-8\", (err, content)=>{\n                            if (err) return callback(err, null);\n                            const chunk = {};\n                            try {\n                                const script = new vm.Script(`(function(exports, require, __dirname, __filename) {${content}\\n})`, {\n                                    filename,\n                                    importModuleDynamically: vm.constants?.USE_MAIN_CONTEXT_DEFAULT_LOADER ?? importNodeModule\n                                });\n                                script.runInThisContext()(chunk, require, path.dirname(filename), filename);\n                                callback(null, chunk);\n                            } catch (e) {\n                                console.log(\"'runInThisContext threw'\", e);\n                                callback(e, null);\n                            }\n                        });\n                    } else {\n                        callback(new Error(`File ${filename} does not exist`), null);\n                    }\n                };\n                const fetchAndRun = (url, chunkName, callback)=>{\n                    (typeof fetch === \"undefined\" ? importNodeModule(\"node-fetch\").then((mod)=>mod.default) : Promise.resolve(fetch)).then((fetchFunction)=>{\n                        return args.origin.loaderHook.lifecycle.fetch.emit(url.href, {}).then((res)=>{\n                            if (!res || !(res instanceof Response)) {\n                                return fetchFunction(url.href).then((response)=>response.text());\n                            }\n                            return res.text();\n                        });\n                    }).then((data)=>{\n                        const chunk = {};\n                        try {\n                            eval(`(function(exports, require, __dirname, __filename) {${data}\\n})`)(chunk, require, url.pathname.split(\"/\").slice(0, -1).join(\"/\"), chunkName);\n                            callback(null, chunk);\n                        } catch (e) {\n                            callback(e, null);\n                        }\n                    }).catch((err)=>callback(err, null));\n                };\n                const loadChunk = (strategy, chunkId, rootOutputDir, callback)=>{\n                    if (strategy === \"filesystem\") {\n                        return loadFromFs(resolveFile(rootOutputDir, chunkId), callback);\n                    }\n                    const url = resolveUrl(rootOutputDir, chunkId);\n                    if (!url) return callback(null, {\n                        modules: {},\n                        ids: [],\n                        runtime: null\n                    });\n                    fetchAndRun(url, chunkId, callback);\n                };\n                const installedChunks = {};\n                const installChunk = (chunk)=>{\n                    for(const moduleId in chunk.modules){\n                        __webpack_require__.m[moduleId] = chunk.modules[moduleId];\n                    }\n                    if (chunk.runtime) chunk.runtime(__webpack_require__);\n                    for (const chunkId of chunk.ids){\n                        if (installedChunks[chunkId]) installedChunks[chunkId][0]();\n                        installedChunks[chunkId] = 0;\n                    }\n                };\n                __webpack_require__.l = (url, done, key, chunkId)=>{\n                    if (!key || chunkId) throw new Error(`__webpack_require__.l name is required for ${url}`);\n                    __webpack_require__.federation.runtime.loadScriptNode(url, {\n                        attrs: {\n                            globalName: key\n                        }\n                    }).then((res)=>{\n                        const enhancedRemote = __webpack_require__.federation.instance.initRawContainer(key, url, res);\n                        new Function(\"return globalThis\")()[key] = enhancedRemote;\n                        done(enhancedRemote);\n                    }).catch(done);\n                };\n                if (__webpack_require__.f) {\n                    const handle = (chunkId, promises)=>{\n                        let installedChunkData = installedChunks[chunkId];\n                        if (installedChunkData !== 0) {\n                            if (installedChunkData) {\n                                promises.push(installedChunkData[2]);\n                            } else {\n                                const matcher = __webpack_require__.federation.chunkMatcher ? __webpack_require__.federation.chunkMatcher(chunkId) : true;\n                                if (matcher) {\n                                    const promise = new Promise((resolve, reject)=>{\n                                        installedChunkData = installedChunks[chunkId] = [\n                                            resolve,\n                                            reject\n                                        ];\n                                        const fs = typeof process !== \"undefined\" ? require(\"fs\") : false;\n                                        const filename = typeof process !== \"undefined\" ? resolveFile(__webpack_require__.federation.rootOutputDir || \"\", chunkId) : false;\n                                        if (fs && fs.existsSync(filename)) {\n                                            loadChunk(\"filesystem\", chunkId, __webpack_require__.federation.rootOutputDir || \"\", (err, chunk)=>{\n                                                if (err) return reject(err);\n                                                if (chunk) installChunk(chunk);\n                                                resolve(chunk);\n                                            });\n                                        } else {\n                                            const chunkName = __webpack_require__.u(chunkId);\n                                            const loadingStrategy = typeof process === \"undefined\" ? \"http-eval\" : \"http-vm\";\n                                            loadChunk(loadingStrategy, chunkName, __webpack_require__.federation.initOptions.name, (err, chunk)=>{\n                                                if (err) return reject(err);\n                                                if (chunk) installChunk(chunk);\n                                                resolve(chunk);\n                                            });\n                                        }\n                                    });\n                                    promises.push(installedChunkData[2] = promise);\n                                } else {\n                                    installedChunks[chunkId] = 0;\n                                }\n                            }\n                        }\n                    };\n                    if (__webpack_require__.f.require) {\n                        console.warn(\"\\x1b[33m%s\\x1b[0m\", 'CAUTION: build target is not set to \"async-node\", attempting to patch additional chunk handlers. This may not work');\n                        __webpack_require__.f.require = handle;\n                    }\n                    if (__webpack_require__.f.readFileVm) {\n                        __webpack_require__.f.readFileVm = handle;\n                    }\n                }\n            })();\n            return args;\n        }\n    };\n} //# sourceMappingURL=runtimePlugin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvbm9kZS9kaXN0L3NyYy9ydW50aW1lUGx1Z2luLmpzP3J1bnRpbWVQbHVnaW4iLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELGtCQUFlLEdBQUdHO0FBQ2xCLFNBQVNDLGlCQUFpQkMsSUFBSTtJQUMxQixJQUFJLENBQUNBLE1BQU07UUFDUCxNQUFNLElBQUlDLE1BQU07SUFDcEI7SUFDQSxNQUFNQyxlQUFlLElBQUlDLFNBQVMsUUFBUSxDQUFDLG1CQUFtQixDQUFDO0lBQy9ELE9BQU9ELGFBQWFGLE1BQ2ZJLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxJQUFJUixPQUFPLEVBQ3pCUyxLQUFLLENBQUMsQ0FBQ0M7UUFDUkMsUUFBUUQsS0FBSyxDQUFDLENBQUMsdUJBQXVCLEVBQUVQLEtBQUssQ0FBQyxDQUFDLEVBQUVPO1FBQ2pELE1BQU1BO0lBQ1Y7QUFDSjtBQUNBLFNBQVNUO0lBQ0wsT0FBTztRQUNIRSxNQUFNO1FBQ05TLFlBQVdDLElBQUk7WUFDWCx1Q0FBdUM7WUFDdEM7Z0JBQ0csTUFBTUMsY0FBYyxDQUFDQyxlQUFlQztvQkFDaEMsTUFBTUMsT0FBT0MsT0FBdUJBLENBQUM7b0JBQ3JDLE9BQU9ELEtBQUtFLElBQUksQ0FBQ0MsV0FBV0wsZ0JBQWdCTSxtQkFBbUJBLENBQUNDLENBQUMsQ0FBQ047Z0JBQ3RFO2dCQUNBLE1BQU1PLGFBQWEsQ0FBQ0MsWUFBWUM7b0JBQzVCLElBQUk7d0JBQ0EsT0FBTyxJQUFJQyxJQUFJRCxXQUFXSixtQkFBbUJBLENBQUNNLENBQUM7b0JBQ25ELEVBQ0EsT0FBTTt3QkFDRixNQUFNQyxXQUFXQyxnQkFBZ0JMLGVBQzdCTSwwQkFBMEJOO3dCQUM5QixJQUFJLENBQUNJLFVBQ0QsT0FBTzt3QkFDWCxNQUFNRyxNQUFNLElBQUlMLElBQUlFO3dCQUNwQixNQUFNWCxPQUFPQyxPQUF1QkEsQ0FBQzt3QkFDckNhLElBQUlDLFFBQVEs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RTt3QkFDL0J2RyxRQUFRd0csSUFBSSxDQUFDLHFCQUFxQjt3QkFDbEM5RixtQkFBbUJBLENBQUNpRixDQUFDLENBQUNZLE9BQU8sR0FBR1g7b0JBQ3BDO29CQUNBLElBQUlsRixtQkFBbUJBLENBQUNpRixDQUFDLENBQUNjLFVBQVUsRUFBRTt3QkFDbEMvRixtQkFBbUJBLENBQUNpRixDQUFDLENBQUNjLFVBQVUsR0FBR2I7b0JBQ3ZDO2dCQUNKO1lBQ0o7WUFDQSxPQUFPMUY7UUFDWDtJQUNKO0FBQ0osRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja291dC8uLi8uLi9wYWNrYWdlcy9ub2RlL2Rpc3Qvc3JjL3J1bnRpbWVQbHVnaW4uanM/MDE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZmF1bHRfMTtcbmZ1bmN0aW9uIGltcG9ydE5vZGVNb2R1bGUobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ltcG9ydCBzcGVjaWZpZXIgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgY29uc3QgaW1wb3J0TW9kdWxlID0gbmV3IEZ1bmN0aW9uKCduYW1lJywgYHJldHVybiBpbXBvcnQobmFtZSlgKTtcbiAgICByZXR1cm4gaW1wb3J0TW9kdWxlKG5hbWUpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5kZWZhdWx0KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGltcG9ydGluZyBtb2R1bGUgJHtuYW1lfTpgLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGVmYXVsdF8xKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6ICdub2RlLWZlZGVyYXRpb24tcGx1Z2luJyxcbiAgICAgICAgYmVmb3JlSW5pdChhcmdzKSB7XG4gICAgICAgICAgICAvLyBQYXRjaCB3ZWJwYWNrIGNodW5rIGxvYWRpbmcgaGFuZGxlcnNcbiAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZUZpbGUgPSAocm9vdE91dHB1dERpciwgY2h1bmtJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gX19ub25fd2VicGFja19yZXF1aXJlX18oJ3BhdGgnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguam9pbihfX2Rpcm5hbWUsIHJvb3RPdXRwdXREaXIgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZVVybCA9IChyZW1vdGVOYW1lLCBjaHVua05hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKGNodW5rTmFtZSwgX193ZWJwYWNrX3JlcXVpcmVfXy5wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeVVybCA9IHJldHVybkZyb21DYWNoZShyZW1vdGVOYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZyb21HbG9iYWxJbnN0YW5jZXMocmVtb3RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVudHJ5VXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChlbnRyeVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gX19ub25fd2VicGFja19yZXF1aXJlX18oJ3BhdGgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybC5wYXRobmFtZSA9IHVybC5wYXRobmFtZS5yZXBsYWNlKHBhdGguYmFzZW5hbWUodXJsLnBhdGhuYW1lKSwgY2h1bmtOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHVybkZyb21DYWNoZSA9IChyZW1vdGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFRoaXNWYWwgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiBnbG9iYWxUaGlzJykoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVkZXJhdGlvbkluc3RhbmNlcyA9IGdsb2JhbFRoaXNWYWxbJ19fRkVERVJBVElPTl9fJ11bJ19fSU5TVEFOQ0VTX18nXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBmZWRlcmF0aW9uSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVDb250YWluZXIgPSBpbnN0YW5jZS5tb2R1bGVDYWNoZS5nZXQocmVtb3RlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlQ29udGFpbmVyPy5yZW1vdGVJbmZvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVDb250YWluZXIucmVtb3RlSW5mby5lbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHVybkZyb21HbG9iYWxJbnN0YW5jZXMgPSAocmVtb3RlTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxUaGlzVmFsID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gZ2xvYmFsVGhpcycpKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlZGVyYXRpb25JbnN0YW5jZXMgPSBnbG9iYWxUaGlzVmFsWydfX0ZFREVSQVRJT05fXyddWydfX0lOU1RBTkNFU19fJ107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgZmVkZXJhdGlvbkluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZW1vdGUgb2YgaW5zdGFuY2Uub3B0aW9ucy5yZW1vdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW90ZS5uYW1lID09PSByZW1vdGVOYW1lIHx8IHJlbW90ZS5hbGlhcyA9PT0gcmVtb3RlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQmFja3VwIHJlbW90ZSBlbnRyeSBmb3VuZDonLCByZW1vdGUuZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlLmVudHJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRGcm9tRnMgPSAoZmlsZW5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZzID0gX19ub25fd2VicGFja19yZXF1aXJlX18oJ2ZzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXygncGF0aCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2bSA9IF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fKCd2bScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZzLnJlYWRGaWxlKGZpbGVuYW1lLCAndXRmLTgnLCAoZXJyLCBjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHQgPSBuZXcgdm0uU2NyaXB0KGAoZnVuY3Rpb24oZXhwb3J0cywgcmVxdWlyZSwgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7JHtjb250ZW50fVxcbn0pYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRNb2R1bGVEeW5hbWljYWxseTogdm0uY29uc3RhbnRzPy5VU0VfTUFJTl9DT05URVhUX0RFRkFVTFRfTE9BREVSID8/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0Tm9kZU1vZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdC5ydW5JblRoaXNDb250ZXh0KCkoY2h1bmssIF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fLCBwYXRoLmRpcm5hbWUoZmlsZW5hbWUpLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIncnVuSW5UaGlzQ29udGV4dCB0aHJldydcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKGBGaWxlICR7ZmlsZW5hbWV9IGRvZXMgbm90IGV4aXN0YCksIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaEFuZFJ1biA9ICh1cmwsIGNodW5rTmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW1wb3J0Tm9kZU1vZHVsZSgnbm9kZS1mZXRjaCcpLnRoZW4oKG1vZCkgPT4gbW9kLmRlZmF1bHQpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShmZXRjaCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoZmV0Y2hGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3Mub3JpZ2luLmxvYWRlckhvb2subGlmZWN5Y2xlLmZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVtaXQodXJsLmhyZWYsIHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcyB8fCAhKHJlcyBpbnN0YW5jZW9mIFJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGdW5jdGlvbih1cmwuaHJlZikudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmsgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChgKGZ1bmN0aW9uKGV4cG9ydHMsIHJlcXVpcmUsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgeyR7ZGF0YX1cXG59KWApKGNodW5rLCBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXywgdXJsLnBhdGhuYW1lLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSwgY2h1bmtOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNhbGxiYWNrKGVyciwgbnVsbCkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZENodW5rID0gKHN0cmF0ZWd5LCBjaHVua0lkLCByb290T3V0cHV0RGlyLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyYXRlZ3kgPT09ICdmaWxlc3lzdGVtJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRGcm9tRnMocmVzb2x2ZUZpbGUocm9vdE91dHB1dERpciwgY2h1bmtJZCksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSByZXNvbHZlVXJsKHJvb3RPdXRwdXREaXIsIGNodW5rSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXVybClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7IG1vZHVsZXM6IHt9LCBpZHM6IFtdLCBydW50aW1lOiBudWxsIH0pO1xuICAgICAgICAgICAgICAgICAgICBmZXRjaEFuZFJ1bih1cmwsIGNodW5rSWQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbGxlZENodW5rcyA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbGxDaHVuayA9IChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1vZHVsZUlkIGluIGNodW5rLm1vZHVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBjaHVuay5tb2R1bGVzW21vZHVsZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsucnVudGltZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2h1bmtJZCBvZiBjaHVuay5pZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXkgfHwgY2h1bmtJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgX193ZWJwYWNrX3JlcXVpcmVfXy5sIG5hbWUgaXMgcmVxdWlyZWQgZm9yICR7dXJsfWApO1xuICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24ucnVudGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmxvYWRTY3JpcHROb2RlKHVybCwgeyBhdHRyczogeyBnbG9iYWxOYW1lOiBrZXkgfSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5oYW5jZWRSZW1vdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5zdGFuY2UuaW5pdFJhd0NvbnRhaW5lcihrZXksIHVybCwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGdW5jdGlvbigncmV0dXJuIGdsb2JhbFRoaXMnKSgpW2tleV0gPSBlbmhhbmNlZFJlbW90ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZW5oYW5jZWRSZW1vdGUpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGRvbmUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKF9fd2VicGFja19yZXF1aXJlX18uZikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGUgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZENodW5rRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uLmNodW5rTWF0Y2hlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uY2h1bmtNYXRjaGVyKGNodW5rSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnMgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXygnZnMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZUZpbGUoX193ZWJwYWNrX3JlcXVpcmVfXy5mZWRlcmF0aW9uLnJvb3RPdXRwdXREaXIgfHwgJycsIGNodW5rSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZzICYmIGZzLmV4aXN0c1N5bmMoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDaHVuaygnZmlsZXN5c3RlbScsIGNodW5rSWQsIF9fd2VicGFja19yZXF1aXJlX18uZmVkZXJhdGlvbi5yb290T3V0cHV0RGlyIHx8ICcnLCAoZXJyLCBjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbENodW5rKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rTmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1N0cmF0ZWd5ID0gdHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdodHRwLWV2YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdodHRwLXZtJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZENodW5rKGxvYWRpbmdTdHJhdGVneSwgY2h1bmtOYW1lLCBfX3dlYnBhY2tfcmVxdWlyZV9fLmZlZGVyYXRpb24uaW5pdE9wdGlvbnMubmFtZSwgKGVyciwgY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNodW5rKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxDaHVuayhjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5mLnJlcXVpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignXFx4MWJbMzNtJXNcXHgxYlswbScsICdDQVVUSU9OOiBidWlsZCB0YXJnZXQgaXMgbm90IHNldCB0byBcImFzeW5jLW5vZGVcIiwgYXR0ZW1wdGluZyB0byBwYXRjaCBhZGRpdGlvbmFsIGNodW5rIGhhbmRsZXJzLiBUaGlzIG1heSBub3Qgd29yaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5mLnJlcXVpcmUgPSBoYW5kbGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9fd2VicGFja19yZXF1aXJlX18uZi5yZWFkRmlsZVZtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmYucmVhZEZpbGVWbSA9IGhhbmRsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVudGltZVBsdWdpbi5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJkZWZhdWx0IiwiZGVmYXVsdF8xIiwiaW1wb3J0Tm9kZU1vZHVsZSIsIm5hbWUiLCJFcnJvciIsImltcG9ydE1vZHVsZSIsIkZ1bmN0aW9uIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwiYmVmb3JlSW5pdCIsImFyZ3MiLCJyZXNvbHZlRmlsZSIsInJvb3RPdXRwdXREaXIiLCJjaHVua0lkIiwicGF0aCIsIl9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fIiwiam9pbiIsIl9fZGlybmFtZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJ1IiwicmVzb2x2ZVVybCIsInJlbW90ZU5hbWUiLCJjaHVua05hbWUiLCJVUkwiLCJwIiwiZW50cnlVcmwiLCJyZXR1cm5Gcm9tQ2FjaGUiLCJyZXR1cm5Gcm9tR2xvYmFsSW5zdGFuY2VzIiwidXJsIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiYmFzZW5hbWUiLCJnbG9iYWxUaGlzVmFsIiwiZmVkZXJhdGlvbkluc3RhbmNlcyIsImluc3RhbmNlIiwibW9kdWxlQ29udGFpbmVyIiwibW9kdWxlQ2FjaGUiLCJnZXQiLCJyZW1vdGVJbmZvIiwiZW50cnkiLCJyZW1vdGUiLCJvcHRpb25zIiwicmVtb3RlcyIsImFsaWFzIiwibG9nIiwibG9hZEZyb21GcyIsImZpbGVuYW1lIiwiY2FsbGJhY2siLCJmcyIsInZtIiwiZXhpc3RzU3luYyIsInJlYWRGaWxlIiwiZXJyIiwiY29udGVudCIsImNodW5rIiwic2NyaXB0IiwiU2NyaXB0IiwiaW1wb3J0TW9kdWxlRHluYW1pY2FsbHkiLCJjb25zdGFudHMiLCJVU0VfTUFJTl9DT05URVhUX0RFRkFVTFRfTE9BREVSIiwicnVuSW5UaGlzQ29udGV4dCIsImRpcm5hbWUiLCJlIiwiZmV0Y2hBbmRSdW4iLCJmZXRjaCIsIm1vZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZmV0Y2hGdW5jdGlvbiIsIm9yaWdpbiIsImxvYWRlckhvb2siLCJsaWZlY3ljbGUiLCJlbWl0IiwiaHJlZiIsIlJlc3BvbnNlIiwicmVzcG9uc2UiLCJ0ZXh0IiwiZGF0YSIsImV2YWwiLCJzcGxpdCIsInNsaWNlIiwibG9hZENodW5rIiwic3RyYXRlZ3kiLCJtb2R1bGVzIiwiaWRzIiwicnVudGltZSIsImluc3RhbGxlZENodW5rcyIsImluc3RhbGxDaHVuayIsIm1vZHVsZUlkIiwibSIsImwiLCJkb25lIiwia2V5IiwiZmVkZXJhdGlvbiIsImxvYWRTY3JpcHROb2RlIiwiYXR0cnMiLCJnbG9iYWxOYW1lIiwiZW5oYW5jZWRSZW1vdGUiLCJpbml0UmF3Q29udGFpbmVyIiwiZiIsImhhbmRsZSIsInByb21pc2VzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHVzaCIsIm1hdGNoZXIiLCJjaHVua01hdGNoZXIiLCJwcm9taXNlIiwicmVqZWN0IiwicHJvY2VzcyIsImxvYWRpbmdTdHJhdGVneSIsImluaXRPcHRpb25zIiwicmVxdWlyZSIsIndhcm4iLCJyZWFkRmlsZVZtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../packages/node/dist/src/runtimePlugin.js?runtimePlugin\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			var execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: __webpack_require__ };
/******/ 			__webpack_require__.i.forEach(function(handler) { handler(execOptions); });
/******/ 			module = execOptions.module;
/******/ 			execOptions.factory.call(module.exports, module, module.exports, execOptions.require);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete __webpack_module_cache__[moduleId];
/******/ 		}
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = __webpack_module_cache__;
/******/ 	
/******/ 	// expose the module execution interceptor
/******/ 	__webpack_require__.i = [];
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/federation runtime */
/******/ 	(() => {
/******/ 		if(!__webpack_require__.federation){
/******/ 			__webpack_require__.federation = {
/******/ 				initOptions: {"name":"checkout","remotes":[{"alias":"home","name":"home_app","entry":"http://localhost:3000/_next/static/ssr/remoteEntry.js","shareScope":"default"},{"alias":"shop","name":"shop","entry":"http://localhost:3001/_next/static/ssr/remoteEntry.js","shareScope":"default"}],"shareStrategy":"loaded-first"},
/******/ 				chunkMatcher: function(chunkId) {return !/^(webpack_sharing_consume_default_(ant\-design_colors_ant\-design_colors\-webpack_sharing_consume_d\-(1dea55[01]|249655[01]|83d466[01]|b8eb24[01]|f7a168[01])|react_jsx\-runtime_react_jsx\-runtime\-_1fa9[012345])|__federation_expose_next__router)$/.test(chunkId)},
/******/ 				rootOutputDir: "",
/******/ 				initialConsumes: undefined,
/******/ 				bundlerRuntimeOptions: {}
/******/ 			};
/******/ 		}
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + "-" + {"__federation_expose_noop":"68e9e56ae1f11526","vendor-chunks/react@18.3.1":"e37561e3b518e95f","vendor-chunks/scheduler@0.23.2":"5bd161c41ec63f77","vendor-chunks/react-dom@18.3.1_react@18.3.1":"2499c58791fedaaf","vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0":"b2196fdcf79cbd0f","vendor-chunks/@swc+helpers@0.5.2":"2b1c51d8d8a458b1","vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.3.1_react@18.3.1":"4715d43905298b8e","__federation_expose_next__router":"6b27fb17a8228e16","__federation_expose_CheckoutTitle":"ddedf33cf4773ba7","vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0":"10e3c8015d98e4c8","vendor-chunks/@babel+runtime@7.24.8":"8dde9015b0848824","vendor-chunks/@babel+runtime@7.24.5":"32e417dac3594043","vendor-chunks/classnames@2.5.1":"1d602141f1f81208","vendor-chunks/@ctrl+tinycolor@3.6.1":"dc9628ae2e43fc1b","vendor-chunks/antd@5.19.1_react-dom@18.2.0_react@18.2.0":"6c6533135acd18c6","vendor-chunks/rc-motion@2.9.2_react-dom@18.2.0_react@18.2.0":"14f5346ce5f31d79","vendor-chunks/react-is@18.3.1":"f5f38ec3e56b3adf","vendor-chunks/rc-picker@4.6.9_dayjs@1.11.12_react-dom@18.2.0_react@18.2.0":"ab20f7a3a3d99e37","vendor-chunks/rc-pagination@4.2.0_react-dom@18.2.0_react@18.2.0":"6f8fa4340bfe3441","__federation_expose_ButtonOldAnt":"ea0e4366a64b191e","vendor-chunks/@rc-component+async-validator@5.0.4":"f49aafeda20f21c4","vendor-chunks/rc-menu@9.14.1_react-dom@18.2.0_react@18.2.0":"d5fcb1c6c03e16b6","vendor-chunks/rc-field-form@2.2.1_react-dom@18.2.0_react@18.2.0":"6e7e423c57176f99","vendor-chunks/@rc-component+trigger@2.2.0_react-dom@18.2.0_react@18.2.0":"95fead0705534ada","vendor-chunks/rc-overflow@1.3.2_react-dom@18.2.0_react@18.2.0":"0539ab52576d4998","vendor-chunks/@rc-component+portal@1.1.2_react-dom@18.2.0_react@18.2.0":"e428b90291a32c76","vendor-chunks/rc-resize-observer@1.4.0_react-dom@18.2.0_react@18.2.0":"e1ffd3315bbd3bd7","vendor-chunks/rc-tooltip@6.2.0_react-dom@18.2.0_react@18.2.0":"cf51be34bdcf9e94","vendor-chunks/resize-observer-polyfill@1.5.1":"1a7d56c6ea9bfa4d","__federation_expose_menu":"2b25981f9413378f","__federation_expose_pages_map":"9f4df16c12a7c359","__federation_expose_pages_map_v2":"3509ae9577f3c6d7","__federation_expose_pages__index":"68c7f5b688e2971e","__federation_expose_pages__checkout__[...slug]":"b25d3e14079af5f0","__federation_expose_pages__checkout__[pid]":"2160bb3ca0cdcf47","__federation_expose_pages__checkout__exposed_pages":"4079637839bf2b63","__federation_expose_pages__checkout__index":"e049ce9898e84a83","__federation_expose_pages__checkout__test_check_button":"84b731c411d6fc42","__federation_expose_pages__checkout__test_title":"11aa048712b80042","__federation_expose_pages__home__exposed_pages":"7746e7316d0a2b6a","__federation_expose_pages__home__test_broken_remotes":"9f3d12c9b64f9448","__federation_expose_pages__home__test_remote_hook":"8bc2b5ff9b7eab3d","__federation_expose_pages__home__test_shared_nav":"326b7ccd6f8aa05f","__federation_expose_pages__shop__exposed_pages":"46cc73f6547cfcac","__federation_expose_pages__shop__index":"0c879df334bf68d4","__federation_expose_pages__shop__test_webpack_png":"5be063ff75d8d011","__federation_expose_pages__shop__test_webpack_svg":"d8d04e5e5a9d09a8","__federation_expose_pages__shop__products__[...slug]":"28b92be1a3164dec","vendor-chunks/@ant-design+colors@7.1.0":"4a0827a371229654","vendor-chunks/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0":"1773d32f940d6942","vendor-chunks/stylis@4.3.2":"152ccdd8c536205d","vendor-chunks/@emotion+hash@0.8.0":"c65eea4c4f236811","vendor-chunks/@emotion+unitless@0.7.5":"f60bca1e2aacd1f6","vendor-chunks/@ant-design+icons-svg@4.4.2":"1def3ce7fdf81c61","vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0":"ef6a9094ffca3155","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1680":"f55939fc08ed304d","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea550":"bb501986bd99f8c6","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4660":"31fa9256c6f240c7","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb240":"b9b88141a3c153df","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496550":"6dfc16a0a3323a0f","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa90":"d8864787889778bf","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91":"b642f4d565be35ea","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa92":"9f46e0d8118c805d","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa93":"26aa44b329e0b0a0","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa94":"18e5aac845df0968","webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa95":"e9f12eb00fe00d4b","vendor-chunks/react@18.2.0":"fb65f0b34ae736f4","vendor-chunks/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0":"400fac3fbd0903eb","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1681":"55020efb324d427e","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea551":"9218322e792cc8cd","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb241":"0c37231739db8c85","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496551":"673821a7014ccff5","webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4661":"762b01d0501f9661"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "checkout:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/remotes loading */
/******/ 	(() => {
/******/ 		var chunkMapping = {
/******/ 			"__federation_expose_pages__index": [
/******/ 				"webpack/container/remote/home/pages/index"
/******/ 			],
/******/ 			"__federation_expose_pages__home__exposed_pages": [
/******/ 				"webpack/container/remote/home/pages/home/exposed-pages"
/******/ 			],
/******/ 			"__federation_expose_pages__home__test_broken_remotes": [
/******/ 				"webpack/container/remote/home/pages/home/test-broken-remotes"
/******/ 			],
/******/ 			"__federation_expose_pages__home__test_remote_hook": [
/******/ 				"webpack/container/remote/home/pages/home/test-remote-hook"
/******/ 			],
/******/ 			"__federation_expose_pages__home__test_shared_nav": [
/******/ 				"webpack/container/remote/home/pages/home/test-shared-nav"
/******/ 			],
/******/ 			"__federation_expose_pages__shop__exposed_pages": [
/******/ 				"webpack/container/remote/shop/pages/shop/exposed-pages"
/******/ 			],
/******/ 			"__federation_expose_pages__shop__index": [
/******/ 				"webpack/container/remote/shop/pages/shop/index"
/******/ 			],
/******/ 			"__federation_expose_pages__shop__test_webpack_png": [
/******/ 				"webpack/container/remote/shop/pages/shop/test-webpack-png"
/******/ 			],
/******/ 			"__federation_expose_pages__shop__test_webpack_svg": [
/******/ 				"webpack/container/remote/shop/pages/shop/test-webpack-svg"
/******/ 			],
/******/ 			"__federation_expose_pages__shop__products__[...slug]": [
/******/ 				"webpack/container/remote/shop/pages/shop/products/[...slug]"
/******/ 			]
/******/ 		};
/******/ 		var idToExternalAndNameMapping = {
/******/ 			"webpack/container/remote/home/pages/index": [
/******/ 				"default",
/******/ 				"./pages/index",
/******/ 				"webpack/container/reference/home"
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/exposed-pages": [
/******/ 				"default",
/******/ 				"./pages/home/exposed-pages",
/******/ 				"webpack/container/reference/home"
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-broken-remotes": [
/******/ 				"default",
/******/ 				"./pages/home/test-broken-remotes",
/******/ 				"webpack/container/reference/home"
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-remote-hook": [
/******/ 				"default",
/******/ 				"./pages/home/test-remote-hook",
/******/ 				"webpack/container/reference/home"
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-shared-nav": [
/******/ 				"default",
/******/ 				"./pages/home/test-shared-nav",
/******/ 				"webpack/container/reference/home"
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/exposed-pages": [
/******/ 				"default",
/******/ 				"./pages/shop/exposed-pages",
/******/ 				"webpack/container/reference/shop"
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/index": [
/******/ 				"default",
/******/ 				"./pages/shop/index",
/******/ 				"webpack/container/reference/shop"
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/test-webpack-png": [
/******/ 				"default",
/******/ 				"./pages/shop/test-webpack-png",
/******/ 				"webpack/container/reference/shop"
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/test-webpack-svg": [
/******/ 				"default",
/******/ 				"./pages/shop/test-webpack-svg",
/******/ 				"webpack/container/reference/shop"
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/products/[...slug]": [
/******/ 				"default",
/******/ 				"./pages/shop/products/[...slug]",
/******/ 				"webpack/container/reference/shop"
/******/ 			]
/******/ 		};
/******/ 		var idToRemoteMap = {
/******/ 			"webpack/container/remote/home/pages/index": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "home_app",
/******/ 					"externalModuleId": "webpack/container/reference/home"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/exposed-pages": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "home_app",
/******/ 					"externalModuleId": "webpack/container/reference/home"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-broken-remotes": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "home_app",
/******/ 					"externalModuleId": "webpack/container/reference/home"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-remote-hook": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "home_app",
/******/ 					"externalModuleId": "webpack/container/reference/home"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/home/pages/home/test-shared-nav": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "home_app",
/******/ 					"externalModuleId": "webpack/container/reference/home"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/exposed-pages": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "shop",
/******/ 					"externalModuleId": "webpack/container/reference/shop"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/index": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "shop",
/******/ 					"externalModuleId": "webpack/container/reference/shop"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/test-webpack-png": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "shop",
/******/ 					"externalModuleId": "webpack/container/reference/shop"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/test-webpack-svg": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "shop",
/******/ 					"externalModuleId": "webpack/container/reference/shop"
/******/ 				}
/******/ 			],
/******/ 			"webpack/container/remote/shop/pages/shop/products/[...slug]": [
/******/ 				{
/******/ 					"externalType": "script",
/******/ 					"name": "shop",
/******/ 					"externalModuleId": "webpack/container/reference/shop"
/******/ 				}
/******/ 			]
/******/ 		};
/******/ 		__webpack_require__.federation.bundlerRuntimeOptions.remotes = {idToRemoteMap,chunkMapping, idToExternalAndNameMapping, webpackRequire:__webpack_require__};
/******/ 		__webpack_require__.f.remotes = (chunkId, promises) => {
/******/ 			__webpack_require__.federation.bundlerRuntime.remotes({idToRemoteMap,chunkMapping, idToExternalAndNameMapping, chunkId, promises, webpackRequire:__webpack_require__});
/******/ 		}
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/runtimeId */
/******/ 	(() => {
/******/ 		__webpack_require__.j = "checkout";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/sharing */
/******/ 	(() => {
/******/ 		__webpack_require__.S = {};
/******/ 		var initPromises = {};
/******/ 		var initTokens = {};
/******/ 		__webpack_require__.I = (name, initScope) => {
/******/ 			if(!initScope) initScope = [];
/******/ 			// handling circular init calls
/******/ 			var initToken = initTokens[name];
/******/ 			if(!initToken) initToken = initTokens[name] = {};
/******/ 			if(initScope.indexOf(initToken) >= 0) return;
/******/ 			initScope.push(initToken);
/******/ 			// only runs once
/******/ 			if(initPromises[name]) return initPromises[name];
/******/ 			// creates a new share scope if needed
/******/ 			if(!__webpack_require__.o(__webpack_require__.S, name)) __webpack_require__.S[name] = {};
/******/ 			// runs all init snippets from all modules reachable
/******/ 			var scope = __webpack_require__.S[name];
/******/ 			var warn = (msg) => {
/******/ 				if (typeof console !== "undefined" && console.warn) console.warn(msg);
/******/ 			};
/******/ 			var uniqueName = "checkout";
/******/ 			var register = (name, version, factory, eager) => {
/******/ 				var versions = scope[name] = scope[name] || {};
/******/ 				var activeVersion = versions[version];
/******/ 				if(!activeVersion || (!activeVersion.loaded && (!eager != !activeVersion.eager ? eager : uniqueName > activeVersion.from))) versions[version] = { get: factory, from: uniqueName, eager: !!eager };
/******/ 			};
/******/ 			var initExternal = (id) => {
/******/ 				var handleError = (err) => (warn("Initialization of sharing external failed: " + err));
/******/ 				try {
/******/ 					var module = __webpack_require__(id);
/******/ 					if(!module) return;
/******/ 					var initFn = (module) => (module && module.init && module.init(__webpack_require__.S[name], initScope))
/******/ 					if(module.then) return promises.push(module.then(initFn, handleError));
/******/ 					var initResult = initFn(module);
/******/ 					if(initResult && initResult.then) return promises.push(initResult['catch'](handleError));
/******/ 				} catch(err) { handleError(err); }
/******/ 			}
/******/ 			var promises = [];
/******/ 			switch(name) {
/******/ 				case "default": {
/******/ 					register("@ant-design/colors", "7.1.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/@ant-design+colors@7.1.0")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js */ "../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js"))))));
/******/ 					register("@ant-design/cssinjs", "1.21.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/stylis@4.3.2"), __webpack_require__.e("vendor-chunks/@emotion+hash@0.8.0"), __webpack_require__.e("vendor-chunks/@emotion+unitless@0.7.5")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/cssinjs/lib/index.js */ "../../node_modules/.pnpm/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/cssinjs/lib/index.js"))))));
/******/ 					register("@ant-design/icons-svg/es/asn/BarsOutlined", "4.4.2", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/BarsOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/BarsOutlined.js"))))));
/******/ 					register("@ant-design/icons-svg/es/asn/EllipsisOutlined", "4.4.2", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js"))))));
/******/ 					register("@ant-design/icons-svg/es/asn/LeftOutlined", "4.4.2", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js"))))));
/******/ 					register("@ant-design/icons-svg/es/asn/RightOutlined", "4.4.2", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js"))))));
/******/ 					register("@ant-design/icons-svg/lib/asn/LoadingOutlined", "4.4.2", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/lib/asn/LoadingOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/lib/asn/LoadingOutlined.js"))))));
/******/ 					register("@ant-design/icons/LoadingOutlined", "5.4.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1680")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/LoadingOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/LoadingOutlined.js"))))));
/******/ 					register("@ant-design/icons/es/components/Context", "5.4.0", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/components/Context.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/components/Context.js"))))));
/******/ 					register("@ant-design/icons/es/icons/BarsOutlined", "5.4.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea550")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/BarsOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/BarsOutlined.js"))))));
/******/ 					register("@ant-design/icons/es/icons/EllipsisOutlined", "5.4.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4660")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"))))));
/******/ 					register("@ant-design/icons/es/icons/LeftOutlined", "5.4.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb240")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/LeftOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/LeftOutlined.js"))))));
/******/ 					register("@ant-design/icons/es/icons/RightOutlined", "5.4.0", () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496550")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/RightOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/RightOutlined.js"))))));
/******/ 					register("@ant-design/icons/lib/components/Context", "5.4.0", () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/lib/components/Context.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/lib/components/Context.js"))))));
/******/ 					register("next/dynamic", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa90")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dynamic.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dynamic.js"))))));
/******/ 					register("next/head", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js"))))));
/******/ 					register("next/image", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa92")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/image.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/image.js"))))));
/******/ 					register("next/link", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa93")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js"))))));
/******/ 					register("next/router", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa94")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/router.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/router.js"))))));
/******/ 					register("next/script", "14.1.2", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa95")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/script.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/script.js"))))));
/******/ 					register("react/jsx-dev-runtime", "18.2.0", () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-dev-runtime.js */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-dev-runtime.js"))))));
/******/ 					register("react/jsx-runtime", "18.2.0", () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"))))));
/******/ 					register("react/jsx-runtime", "18.3.1", () => (__webpack_require__.e("vendor-chunks/react@18.3.1").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js */ "../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"))))));
/******/ 					register("styled-jsx", "5.1.6", () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0/node_modules/styled-jsx/index.js */ "../../node_modules/.pnpm/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0/node_modules/styled-jsx/index.js"))))));
/******/ 					initExternal("webpack/container/reference/home");
/******/ 					initExternal("webpack/container/reference/shop");
/******/ 				}
/******/ 				break;
/******/ 			}
/******/ 			if(!promises.length) return initPromises[name] = 1;
/******/ 			return initPromises[name] = Promise.all(promises).then(() => (initPromises[name] = 1));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/sharing */
/******/ 	(() => {
/******/ 		__webpack_require__.federation.initOptions.shared = {	"@ant-design/colors": [{	version: "7.1.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/@ant-design+colors@7.1.0")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js */ "../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/cssinjs": [{	version: "1.21.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/stylis@4.3.2"), __webpack_require__.e("vendor-chunks/@emotion+hash@0.8.0"), __webpack_require__.e("vendor-chunks/@emotion+unitless@0.7.5")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/cssinjs/lib/index.js */ "../../node_modules/.pnpm/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/cssinjs/lib/index.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons-svg/es/asn/BarsOutlined": [{	version: "4.4.2",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/BarsOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/BarsOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons-svg/es/asn/EllipsisOutlined": [{	version: "4.4.2",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons-svg/es/asn/LeftOutlined": [{	version: "4.4.2",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons-svg/es/asn/RightOutlined": [{	version: "4.4.2",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons-svg/lib/asn/LoadingOutlined": [{	version: "4.4.2",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/lib/asn/LoadingOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/lib/asn/LoadingOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/LoadingOutlined": [{	version: "5.4.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1680")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/LoadingOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/LoadingOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/es/components/Context": [{	version: "5.4.0",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/components/Context.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/components/Context.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/es/icons/BarsOutlined": [{	version: "5.4.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea550")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/BarsOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/BarsOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/es/icons/EllipsisOutlined": [{	version: "5.4.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4660")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/es/icons/LeftOutlined": [{	version: "5.4.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb240")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/LeftOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/LeftOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/es/icons/RightOutlined": [{	version: "5.4.0",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.5"), __webpack_require__.e("vendor-chunks/classnames@2.5.1"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496550")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/RightOutlined.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/RightOutlined.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"@ant-design/icons/lib/components/Context": [{	version: "5.4.0",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/lib/components/Context.js */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/lib/components/Context.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/dynamic": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa90")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dynamic.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dynamic.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/head": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/image": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa92")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/image.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/image.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/link": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa93")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/router": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa94")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/router.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/router.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"next/script": [{	version: "14.1.2",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa95")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/script.js */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/script.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"react/jsx-dev-runtime": [{	version: "18.2.0",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-dev-runtime.js */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-dev-runtime.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"react/jsx-runtime": [{	version: "18.2.0",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},{	version: "18.3.1",
/******/ 				get: () => (__webpack_require__.e("vendor-chunks/react@18.3.1").then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js */ "../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":false,"strictVersion":false,"singleton":true}},],	"styled-jsx": [{	version: "5.1.6",
/******/ 				get: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0")]).then(() => (() => (__webpack_require__(/*! ../../node_modules/.pnpm/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0/node_modules/styled-jsx/index.js */ "../../node_modules/.pnpm/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0/node_modules/styled-jsx/index.js"))))),
/******/ 				scope: ["default"],
/******/ 				shareConfig: {"eager":false,"requiredVersion":"^5.1.6","strictVersion":false,"singleton":true}},],}
/******/ 		__webpack_require__.S = {};
/******/ 		var initPromises = {};
/******/ 		var initTokens = {};
/******/ 		__webpack_require__.I = (name, initScope) => {
/******/ 			return __webpack_require__.federation.bundlerRuntime.I({	shareScopeName: name,
/******/ 				webpackRequire: __webpack_require__,
/******/ 				initPromises: initPromises,
/******/ 				initTokens: initTokens,
/******/ 				initScope: initScope,
/******/ 			})
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/consumes */
/******/ 	(() => {
/******/ 		var installedModules = {};
/******/ 		var moduleToHandlerMapping = {
/******/ 			"webpack/sharing/consume/default/next/head/next/head?8450": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91")]).then(() => (() => (__webpack_require__(/*! next/head */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^12 || ^13 || ^14",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/head",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/router/next/router": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa94")]).then(() => (() => (__webpack_require__(/*! next/router */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/router.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": false,
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/router",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/link/next/link": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa93")]).then(() => (() => (__webpack_require__(/*! next/link */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/link.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^12 || ^13 || ^14",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/link",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/script/next/script": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa95")]).then(() => (() => (__webpack_require__(/*! next/script */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/script.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^12 || ^13 || ^14",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/script",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/image/next/image": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa92")]).then(() => (() => (__webpack_require__(/*! next/image */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/image.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^12 || ^13 || ^14",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/image",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/dynamic/next/dynamic": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa90")]).then(() => (() => (__webpack_require__(/*! next/dynamic */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dynamic.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^12 || ^13 || ^14",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/dynamic",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/styled-jsx/styled-jsx": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0")]).then(() => (() => (__webpack_require__(/*! styled-jsx */ "../../node_modules/.pnpm/styled-jsx@5.1.1_@babel+core@7.24.9_react@18.2.0/node_modules/styled-jsx/index.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.1.6",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "styled-jsx",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?c892": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/react@18.3.1").then(() => (() => (__webpack_require__(/*! react/jsx-runtime */ "../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": false,
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "react/jsx-runtime",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! react/jsx-dev-runtime */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-dev-runtime.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": false,
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "react/jsx-dev-runtime",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/cssinjs/@ant-design/cssinjs": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/stylis@4.3.2"), __webpack_require__.e("vendor-chunks/@emotion+hash@0.8.0"), __webpack_require__.e("vendor-chunks/@emotion+unitless@0.7.5")]).then(() => (() => (__webpack_require__(/*! @ant-design/cssinjs */ "../../node_modules/.pnpm/@ant-design+cssinjs@1.21.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/cssinjs/lib/index.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^1.21.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/cssinjs",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/lib/components/Context/@ant-design/icons/lib/components/Context": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! @ant-design/icons/lib/components/Context */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/lib/components/Context.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/lib/components/Context",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?f464": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+colors@7.1.0").then(() => (() => (__webpack_require__(/*! @ant-design/colors */ "../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^7.1.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/colors",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/LoadingOutlined/@ant-design/icons/LoadingOutlined": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1681")]).then(() => (() => (__webpack_require__(/*! @ant-design/icons/LoadingOutlined */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/LoadingOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/LoadingOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/es/icons/BarsOutlined/@ant-design/icons/es/icons/BarsOutlined": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea551")]).then(() => (() => (__webpack_require__(/*! @ant-design/icons/es/icons/BarsOutlined */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/BarsOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/es/icons/BarsOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/es/icons/LeftOutlined/@ant-design/icons/es/icons/LeftOutlined": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb241")]).then(() => (() => (__webpack_require__(/*! @ant-design/icons/es/icons/LeftOutlined */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/LeftOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/es/icons/LeftOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/es/icons/RightOutlined/@ant-design/icons/es/icons/RightOutlined": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496551")]).then(() => (() => (__webpack_require__(/*! @ant-design/icons/es/icons/RightOutlined */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/RightOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/es/icons/RightOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/es/components/Context/@ant-design/icons/es/components/Context": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0").then(() => (() => (__webpack_require__(/*! @ant-design/icons/es/components/Context */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/components/Context.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/es/components/Context",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons/es/icons/EllipsisOutlined/@ant-design/icons/es/icons/EllipsisOutlined": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/rc-util@5.43.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@babel+runtime@7.24.8"), __webpack_require__.e("vendor-chunks/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4661")]).then(() => (() => (__webpack_require__(/*! @ant-design/icons/es/icons/EllipsisOutlined */ "../../node_modules/.pnpm/@ant-design+icons@5.4.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^5.3.7",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons/es/icons/EllipsisOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/next/head/next/head?2efa": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0"), __webpack_require__.e("vendor-chunks/@swc+helpers@0.5.2"), __webpack_require__.e("webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91")]).then(() => (() => (__webpack_require__(/*! next/head */ "../../node_modules/.pnpm/next@14.1.2_@babel+core@7.24.9_react-dom@18.2.0_react@18.2.0/node_modules/next/head.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "14.1.2",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "next/head",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b": {
/******/ 				getter: () => (Promise.all([__webpack_require__.e("vendor-chunks/@ctrl+tinycolor@3.6.1"), __webpack_require__.e("vendor-chunks/@ant-design+colors@7.1.0")]).then(() => (() => (__webpack_require__(/*! @ant-design/colors */ "../../node_modules/.pnpm/@ant-design+colors@7.1.0/node_modules/@ant-design/colors/lib/index.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^7.0.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/colors",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons-svg/lib/asn/LoadingOutlined/@ant-design/icons-svg/lib/asn/LoadingOutlined": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! @ant-design/icons-svg/lib/asn/LoadingOutlined */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/lib/asn/LoadingOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^4.4.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons-svg/lib/asn/LoadingOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/BarsOutlined/@ant-design/icons-svg/es/asn/BarsOutlined": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! @ant-design/icons-svg/es/asn/BarsOutlined */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/BarsOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^4.4.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons-svg/es/asn/BarsOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/EllipsisOutlined/@ant-design/icons-svg/es/asn/EllipsisOutlined": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! @ant-design/icons-svg/es/asn/EllipsisOutlined */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^4.4.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons-svg/es/asn/EllipsisOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/LeftOutlined/@ant-design/icons-svg/es/asn/LeftOutlined": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! @ant-design/icons-svg/es/asn/LeftOutlined */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^4.4.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons-svg/es/asn/LeftOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/RightOutlined/@ant-design/icons-svg/es/asn/RightOutlined": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/@ant-design+icons-svg@4.4.2").then(() => (() => (__webpack_require__(/*! @ant-design/icons-svg/es/asn/RightOutlined */ "../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": "^4.4.0",
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "@ant-design/icons-svg/es/asn/RightOutlined",
/******/ 			},
/******/ 			"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9": {
/******/ 				getter: () => (__webpack_require__.e("vendor-chunks/react@18.2.0").then(() => (() => (__webpack_require__(/*! react/jsx-runtime */ "../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js"))))),
/******/ 				shareInfo: {
/******/ 					shareConfig: {
/******/ 					  "fixedDependencies": false,
/******/ 					  "requiredVersion": false,
/******/ 					  "strictVersion": false,
/******/ 					  "singleton": true,
/******/ 					  "eager": false
/******/ 					},
/******/ 					scope: ["default"],
/******/ 				},
/******/ 				shareKey: "react/jsx-runtime",
/******/ 			}
/******/ 		};
/******/ 		// no consumes in initial chunks
/******/ 		var chunkMapping = {
/******/ 			"__federation_expose_noop": [
/******/ 				"webpack/sharing/consume/default/next/head/next/head?8450",
/******/ 				"webpack/sharing/consume/default/next/router/next/router",
/******/ 				"webpack/sharing/consume/default/next/link/next/link",
/******/ 				"webpack/sharing/consume/default/next/script/next/script",
/******/ 				"webpack/sharing/consume/default/next/image/next/image",
/******/ 				"webpack/sharing/consume/default/next/dynamic/next/dynamic",
/******/ 				"webpack/sharing/consume/default/styled-jsx/styled-jsx",
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?c892"
/******/ 			],
/******/ 			"__federation_expose_next__router": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?c892"
/******/ 			],
/******/ 			"__federation_expose_CheckoutTitle": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime"
/******/ 			],
/******/ 			"__federation_expose_ButtonOldAnt": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/@ant-design/cssinjs/@ant-design/cssinjs",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/lib/components/Context/@ant-design/icons/lib/components/Context",
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?f464",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/LoadingOutlined/@ant-design/icons/LoadingOutlined"
/******/ 			],
/******/ 			"__federation_expose_menu": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/next/router/next/router",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/es/icons/BarsOutlined/@ant-design/icons/es/icons/BarsOutlined",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/es/icons/LeftOutlined/@ant-design/icons/es/icons/LeftOutlined",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/es/icons/RightOutlined/@ant-design/icons/es/icons/RightOutlined",
/******/ 				"webpack/sharing/consume/default/@ant-design/cssinjs/@ant-design/cssinjs",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/es/components/Context/@ant-design/icons/es/components/Context",
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?f464",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/es/icons/EllipsisOutlined/@ant-design/icons/es/icons/EllipsisOutlined"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__[...slug]": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/next/router/next/router"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__[pid]": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/next/router/next/router"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__exposed_pages": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__index": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/next/head/next/head?2efa"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__test_check_button": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime",
/******/ 				"webpack/sharing/consume/default/@ant-design/cssinjs/@ant-design/cssinjs",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/lib/components/Context/@ant-design/icons/lib/components/Context",
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?f464",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons/LoadingOutlined/@ant-design/icons/LoadingOutlined"
/******/ 			],
/******/ 			"__federation_expose_pages__checkout__test_title": [
/******/ 				"webpack/sharing/consume/default/react/jsx-dev-runtime/react/jsx-dev-runtime"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1680": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/lib/asn/LoadingOutlined/@ant-design/icons-svg/lib/asn/LoadingOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea550": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/BarsOutlined/@ant-design/icons-svg/es/asn/BarsOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4660": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/EllipsisOutlined/@ant-design/icons-svg/es/asn/EllipsisOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb240": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/LeftOutlined/@ant-design/icons-svg/es/asn/LeftOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496550": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/RightOutlined/@ant-design/icons-svg/es/asn/RightOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa90": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa91": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa92": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa93": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa94": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_react_jsx-runtime_react_jsx-runtime-_1fa95": [
/******/ 				"webpack/sharing/consume/default/react/jsx-runtime/react/jsx-runtime?1fa9"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-f7a1681": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/lib/asn/LoadingOutlined/@ant-design/icons-svg/lib/asn/LoadingOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-1dea551": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/BarsOutlined/@ant-design/icons-svg/es/asn/BarsOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-b8eb241": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/LeftOutlined/@ant-design/icons-svg/es/asn/LeftOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-2496551": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/RightOutlined/@ant-design/icons-svg/es/asn/RightOutlined"
/******/ 			],
/******/ 			"webpack_sharing_consume_default_ant-design_colors_ant-design_colors-webpack_sharing_consume_d-83d4661": [
/******/ 				"webpack/sharing/consume/default/@ant-design/colors/@ant-design/colors?220b",
/******/ 				"webpack/sharing/consume/default/@ant-design/icons-svg/es/asn/EllipsisOutlined/@ant-design/icons-svg/es/asn/EllipsisOutlined"
/******/ 			]
/******/ 		};
/******/ 		__webpack_require__.f.consumes = (chunkId, promises) => {
/******/ 			__webpack_require__.federation.bundlerRuntime.consumes({
/******/ 			chunkMapping: chunkMapping,
/******/ 			installedModules: installedModules,
/******/ 			chunkId: chunkId,
/******/ 			moduleToHandlerMapping: moduleToHandlerMapping,
/******/ 			promises: promises,
/******/ 			webpackRequire:__webpack_require__
/******/ 			});
/******/ 		}
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/embed/federation */
/******/ 	(() => {
/******/ 		var runtimeFactoriesArray = [];
/******/ 		var runtimeFactories = runtimeFactoriesArray.reduce((acc, id) => {
/******/ 			acc[id] = __webpack_require__.m[id];
/******/ 			return acc;
/******/ 		}, {});
/******/ 		globalThis.federationRuntimeModuleFactories = runtimeFactories;
/******/ 		
/******/ 		
/******/ 		var federation = __webpack_require__(/*! ../../packages/webpack-bundler-runtime/dist/index.esm.js */ "../../packages/webpack-bundler-runtime/dist/index.esm.js");
/******/ 		federation = federation["default"]
/******/ 		
/******/ 		
/******/ 		var prevFederation = __webpack_require__.federation;
/******/ 		__webpack_require__.federation = {};
/******/ 		for (var key in federation) {
/******/ 			__webpack_require__.federation[key] = federation[key];
/******/ 		}
/******/ 		for (var key in prevFederation) {
/******/ 			__webpack_require__.federation[key] = prevFederation[key];
/******/ 		}
/******/ 		federation = undefined;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/readFile chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded chunks
/******/ 		// "0" means "already loaded", Promise means loading
/******/ 		var installedChunks = {
/******/ 			"checkout": 0
/******/ 		};
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		var installChunk = (chunk) => {
/******/ 			var moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;
/******/ 			for(var moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			for(var i = 0; i < chunkIds.length; i++) {
/******/ 				if(installedChunks[chunkIds[i]]) {
/******/ 					installedChunks[chunkIds[i]][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 		
/******/ 		};
/******/ 		
/******/ 		// ReadFile + VM.run chunk loading for javascript
/******/ 		__webpack_require__.f.readFileVm = function(chunkId, promises) {
/******/ 		
/******/ 			var installedChunkData = installedChunks[chunkId];
/******/ 			if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 				// array of [resolve, reject, promise] means "currently loading"
/******/ 				if(installedChunkData) {
/******/ 					promises.push(installedChunkData[2]);
/******/ 				} else {
/******/ 					if(!/^(webpack_sharing_consume_default_(ant\-design_colors_ant\-design_colors\-webpack_sharing_consume_d\-(1dea55[01]|249655[01]|83d466[01]|b8eb24[01]|f7a168[01])|react_jsx\-runtime_react_jsx\-runtime\-_1fa9[012345])|__federation_expose_next__router)$/.test(chunkId)) {
/******/ 						// load the chunk and return promise to it
/******/ 						var promise = new Promise(function(resolve, reject) {
/******/ 							installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 							var filename = require('path').join(__dirname, "" + __webpack_require__.u(chunkId));
/******/ 							require('fs').readFile(filename, 'utf-8', function(err, content) {
/******/ 								if(err) return reject(err);
/******/ 								var chunk = {};
/******/ 								require('vm').runInThisContext('(function(exports, require, __dirname, __filename) {' + content + '\n})', filename)(chunk, require, require('path').dirname(filename), filename);
/******/ 								installChunk(chunk);
/******/ 							});
/******/ 						});
/******/ 						promises.push(installedChunkData[2] = promise);
/******/ 					} else installedChunks[chunkId] = 0;
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no external install chunk
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/inverted container startup */
/******/ 	(() => {
/******/ 		var innerRemote;
/******/ 		function attachRemote (resolve) {
/******/ 			if(__webpack_require__.m["webpack/container/entry/checkout"]) {
/******/ 				innerRemote = __webpack_require__("webpack/container/entry/checkout");
/******/ 			}
/******/ 			var gs = __webpack_require__.g || globalThis
/******/ 			gs["checkout"] = innerRemote
/******/ 			if(resolve) resolve(innerRemote);
/******/ 			return innerRemote;
/******/ 		};
/******/ 		attachRemote();
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// module cache are used so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	var __webpack_exports__ = __webpack_require__("webpack/container/entry/checkout");
/******/ 	module.exports.checkout = __webpack_exports__;
/******/ 	
/******/ })()
;